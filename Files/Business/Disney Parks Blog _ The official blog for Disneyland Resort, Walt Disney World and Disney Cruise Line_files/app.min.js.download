+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});return setTimeout(function(){i||t(n).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.affix"),s="object"==typeof e&&e;o||n.data("bs.affix",o=new i(this,s)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.4",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var o=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return o<i&&"top";if("bottom"==this.affixed)return null!=i?!(o+this.unpin<=s.top)&&"bottom":!(o+a<=t-n)&&"bottom";var r=null==this.affixed,l=r?o:s.top,d=r?a:e;return null!=i&&o<=i?"top":null!=n&&l+d>=t-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,o=n.top,s=n.bottom,a=t(document.body).height();"object"!=typeof n&&(s=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof s&&(s=n.bottom(this.$element));var r=this.getState(a,e,o,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),d=t.Event(l+".bs.affix");if(this.$element.trigger(d),d.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-s})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){a.detach().trigger("closed.bs.alert").remove()}var o=t(this),s=o.attr("data-target");s||(s=(s=o.attr("href"))&&s.replace(/.*(?=#[^\s]*$)/,""));var a=t(s);e&&e.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof e&&o[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.button"),s="object"==typeof e&&e;o||n.data("bs.button",o=new i(this,s)),"toggle"==e?o.toggle():e&&o.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.4",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",s=n.data();e+="Text",null==s.resetText&&n.data("resetText",n[o]()),setTimeout(t.proxy(function(){n[o](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.carousel"),s=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),a="string"==typeof e?e:s.slide;o||n.data("bs.carousel",o=new i(this,s)),"number"==typeof e?o.to(e):a?o[a]():s.interval&&o.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var n=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(n)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),s=n||this.getItemForDirection(e,o),a=this.interval,r="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var d=s[0],h=t.Event("slide.bs.carousel",{relatedTarget:d,direction:r});if(this.$element.trigger(h),!h.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=t(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:d,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,o.addClass(r),s.addClass(r),o.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),o.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var o=function(i){var n,o=t(this),s=t(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var a=t.extend({},s.data(),o.data()),r=o.attr("data-slide-to");r&&(a.interval=!1),e.call(s,a),r&&s.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),s=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!o&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),o||i.data("bs.collapse",o=new n(this,s)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.4",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"))&&e.transitioning)){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),e||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[a](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return o.call(this);this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var o=t(n);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=t(this);o.attr("data-target")||n.preventDefault();var s=e(o),a=s.data("bs.collapse")?"toggle":o.data();i.call(s,a)})}(jQuery),function(t){"use strict";function e(e){e&&3===e.which||(t(n).remove(),t(o).each(function(){var n=t(this),o=i(n),s={relatedTarget:this};o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown",s)),e.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",s)))}))}function i(e){var i=e.attr("data-target");i||(i=(i=e.attr("href"))&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}var n=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.4",s.prototype.toggle=function(n){var o=t(this);if(!o.is(".disabled, :disabled")){var s=i(o),a=s.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var r={relatedTarget:this};if(s.trigger(n=t.Event("show.bs.dropdown",r)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",r)}return!1}},s.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var s=i(n),a=s.hasClass("open");if(!a&&27!=e.which||a&&27==e.which)return 27==e.which&&s.find(o).trigger("focus"),n.trigger("click");var r=" li:not(.disabled):visible a",l=s.find('[role="menu"]'+r+', [role="listbox"]'+r);if(l.length){var d=l.index(e.target);38==e.which&&d>0&&d--,40==e.which&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new s(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',s.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,n){return this.each(function(){var o=t(this),s=o.data("bs.modal"),a=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);s||o.data("bs.modal",s=new i(this,a)),"string"==typeof e?s[e](n):a.show&&s.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&o;if(this.$backdrop=t('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),o=n.attr("href"),s=t(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},s.data(),n.data());n.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(s,a,this)})}(jQuery),function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),o=n.data("bs.scrollspy"),s="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new e(this,s)),"string"==typeof i&&o[i]()})}e.VERSION="3.3.4",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),s=/^#./.test(o)&&t(o);return s&&s.length&&s.is(":visible")&&[[s[i]().top+n,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return a!=(t=s[s.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=s[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof e&&o[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(s),e.trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=t(n);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(e,n,o){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=n.find("> .active"),r=o&&t.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),a.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var o=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(t){"use strict";var e=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",t,e)};e.VERSION="3.3.4",e.TRANSITION_DURATION=150,e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},e.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),s=o.length;s--;){var a=o[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i&&i.$tip&&i.$tip.is(":visible"))i.hoverState="in";else{if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)}},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)},e.prototype.show=function(){var i=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(i);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(i.isDefaultPrevented()||!n)return;var o=this,s=this.tip(),a=this.getUID(this.type);this.setContent(),s.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,d=l.test(r);d&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var h=this.getPosition(),c=s[0].offsetWidth,p=s[0].offsetHeight;if(d){var u=r,f=this.options.container?t(this.options.container):this.$element.parent(),m=this.getPosition(f);r="bottom"==r&&h.bottom+p>m.bottom?"top":"top"==r&&h.top-p<m.top?"bottom":"right"==r&&h.right+c>m.width?"left":"left"==r&&h.left-c<m.left?"right":r,s.removeClass(u).addClass(r)}var g=this.getCalculatedOffset(r,h,c,p);this.applyPlacement(g,r);var v=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(e.TRANSITION_DURATION):v()}},e.prototype.applyPlacement=function(e,i){var n=this.tip(),o=n[0].offsetWidth,s=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top=e.top+a,e.left=e.left+r,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,d=n[0].offsetHeight;"top"==i&&d!=s&&(e.top=e.top+s-d);var h=this.getViewportAdjustedDelta(i,e,l,d);h.left?e.left+=h.left:e.top+=h.top;var c=/top|bottom/.test(i),p=c?2*h.left-o+l:2*h.top-s+d,u=c?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(p,n[0][u],c)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(i){function n(){"in"!=o.hoverState&&s.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),i&&i()}var o=this,s=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(e.TRANSITION_DURATION):n(),this.hoverState=null,this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(e){var i=(e=e||this.$element)[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var s=n?{top:0,left:0}:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,a,r,s)},e.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getViewportAdjustedDelta=function(t,e,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,l=e.top+s-a.scroll+n;r<a.top?o.top=a.top-r:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var d=e.left-s,h=e.left+s+i;d<a.left?o.left=a.left-d:h>a.width&&(o.left=a.left+a.width-h)}return o},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=this;e&&((i=t(e.currentTarget).data("bs."+this.type))||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),o=n.data("bs.tooltip"),s="object"==typeof i&&i;!o&&/destroy|hide/.test(i)||(o||n.data("bs.tooltip",o=new e(this,s)),"string"==typeof i&&o[i]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.3.4",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),o=n.data("bs.popover"),s="object"==typeof i&&i;!o&&/destroy|hide/.test(i)||(o||n.data("bs.popover",o=new e(this,s)),"string"==typeof i&&o[i]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e()}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(){!function(t){"use strict";function e(e){var i=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return t.each(i,function(){e=e.replace(this.re,this.ch)}),e}function i(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+Object.keys(e).join("|")+")",n=new RegExp(i),o=new RegExp(i,"g"),s=null==t?"":""+t;return n.test(s)?s.replace(o,function(t){return e[t]}):s}function n(e,i){var n=arguments,s=e,a=i;[].shift.apply(n);var r,l=this.each(function(){var e=t(this);if(e.is("select")){var i=e.data("selectpicker"),l="object"==typeof s&&s;if(i){if(l)for(var d in l)l.hasOwnProperty(d)&&(i.options[d]=l[d])}else{var h=t.extend({},o.DEFAULTS,t.fn.selectpicker.defaults||{},e.data(),l);e.data("selectpicker",i=new o(this,h,a))}"string"==typeof s&&(r=i[s]instanceof Function?i[s].apply(i,n):i.options[s])}});return void 0!==r?r:l}String.prototype.includes||function(){var t={}.toString,e=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),i="".indexOf,n=function(e){if(null==this)throw TypeError();var n=String(this);if(e&&"[object RegExp]"==t.call(e))throw TypeError();var o=n.length,s=String(e),a=s.length,r=arguments.length>1?arguments[1]:void 0,l=r?Number(r):0;return l!=l&&(l=0),!(a+Math.min(Math.max(l,0),o)>o)&&-1!=i.call(n,s,l)};e?e(String.prototype,"includes",{value:n,configurable:!0,writable:!0}):String.prototype.includes=n}(),String.prototype.startsWith||function(){var t=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),e={}.toString,i=function(t){if(null==this)throw TypeError();var i=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var n=i.length,o=String(t),s=o.length,a=arguments.length>1?arguments[1]:void 0,r=a?Number(a):0;r!=r&&(r=0);var l=Math.min(Math.max(r,0),n);if(s+l>n)return!1;for(var d=-1;++d<s;)if(i.charCodeAt(l+d)!=o.charCodeAt(d))return!1;return!0};t?t(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i}(),Object.keys||(Object.keys=function(t,e,i){i=[];for(e in t)i.hasOwnProperty.call(t,e)&&i.push(e);return i}),t.expr[":"].icontains=function(e,i,n){var o=t(e);return(o.data("tokens")||o.text()).toUpperCase().includes(n[3].toUpperCase())},t.expr[":"].ibegins=function(e,i,n){var o=t(e);return(o.data("tokens")||o.text()).toUpperCase().startsWith(n[3].toUpperCase())},t.expr[":"].aicontains=function(e,i,n){var o=t(e);return(o.data("tokens")||o.data("normalizedText")||o.text()).toUpperCase().includes(n[3].toUpperCase())},t.expr[":"].aibegins=function(e,i,n){var o=t(e);return(o.data("tokens")||o.data("normalizedText")||o.text()).toUpperCase().startsWith(n[3].toUpperCase())};var o=function(e,i,n){n&&(n.stopPropagation(),n.preventDefault()),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=o.prototype.val,this.render=o.prototype.render,this.refresh=o.prototype.refresh,this.setStyle=o.prototype.setStyle,this.selectAll=o.prototype.selectAll,this.deselectAll=o.prototype.deselectAll,this.destroy=o.prototype.remove,this.remove=o.prototype.remove,this.show=o.prototype.show,this.hide=o.prototype.hide,this.init()};o.VERSION="1.7.2",o.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},o.prototype={constructor:o,init:function(){var e=this,i=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==i&&(this.$button.attr("data-id",i),t('label[for="'+i+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on("hide.bs.dropdown",function(t){e.$element.trigger("hide.bs.select",t)}),this.$newElement.on("hidden.bs.dropdown",function(t){e.$element.trigger("hidden.bs.select",t)}),this.$newElement.on("show.bs.dropdown",function(t){e.$element.trigger("show.bs.select",t)}),this.$newElement.on("shown.bs.dropdown",function(t){e.$element.trigger("shown.bs.select",t)}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple?" show-tick":"",n=this.$element.parent().hasClass("input-group")?" input-group-btn":"",o=this.autofocus?" autofocus":"",s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",a=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+i(this.options.liveSearchPlaceholder)+'"')+"></div>":"",r=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",l=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",d='<div class="btn-group bootstrap-select'+e+n+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+o+'><i class="pep pep-caret"></i><span class="filter-option"></span></button><div class="dropdown-menu open">'+s+a+r+'<ul class="dropdown-menu inner" role="menu"></ul>'+l+"</div></div>";return t(d)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){this.destroyLi();var t=this.createLi();this.$menuInner[0].innerHTML=t},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var n=this,o=[],s=0,a=document.createElement("option"),r=-1,l=function(t,e,i,n){return"<li"+(void 0!==i&""!==i?' class="'+i+'"':"")+(void 0!==e&null!==e?' data-original-index="'+e+'"':"")+(void 0!==n&null!==n?'data-optgroup="'+n+'"':"")+">"+t+"</li>"},d=function(t,o,s,a){return'<a tabindex="0"'+(void 0!==o?' class="'+o+'"':"")+(void 0!==s?' style="'+s+'"':"")+(n.options.liveSearchNormalize?' data-normalized-text="'+e(i(t))+'"':"")+(void 0!==a||null!==a?' data-tokens="'+a+'"':"")+">"+t+'<span class="'+n.options.iconBase+" "+n.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(r--,!this.$element.find(".bs-title-option").length)){var h=this.$element[0];a.className="bs-title-option",a.appendChild(document.createTextNode(this.options.title)),a.value="",h.insertBefore(a,h.firstChild),null===h.options[h.selectedIndex].getAttribute("selected")&&(a.selected=!0)}return this.$element.find("option").each(function(e){var i=t(this);if(r++,!i.hasClass("bs-title-option")){var a=this.className||"",h=this.style.cssText,c=i.data("content")?i.data("content"):i.html(),p=i.data("tokens")?i.data("tokens"):null,u=void 0!==i.data("subtext")?'<small class="text-muted">'+i.data("subtext")+"</small>":"",f=void 0!==i.data("icon")?'<span class="'+n.options.iconBase+" "+i.data("icon")+'"></span> ':"",m=this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled;if(""!==f&&m&&(f="<span>"+f+"</span>"),n.options.hideDisabled&&m)r--;else{if(i.data("content")||(c=f+'<span class="text">'+c+u+"</span>"),"OPTGROUP"===this.parentElement.tagName&&!0!==i.data("divider")){if(0===i.index()){s+=1;var g=this.parentElement.label,v=void 0!==i.parent().data("subtext")?'<small class="text-muted">'+i.parent().data("subtext")+"</small>":"",b=i.parent().data("icon")?'<span class="'+n.options.iconBase+" "+i.parent().data("icon")+'"></span> ':"",y=" "+this.parentElement.className||"";g=b+'<span class="text">'+g+v+"</span>",0!==e&&o.length>0&&(r++,o.push(l("",null,"divider",s+"div"))),r++,o.push(l(g,null,"dropdown-header"+y,s))}o.push(l(d(c,"opt "+a+y,h,p),e,"",s))}else!0===i.data("divider")?o.push(l("",e,"divider")):!0===i.data("hidden")?o.push(l(d(c,a,h,p),e,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(r++,o.push(l("",null,"divider",s+"div"))),o.push(l(d(c,a,h,p),e)));n.liObj[e]=r}}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),o.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var i,n=this;!1!==e&&this.$element.find("option").each(function(t){var e=n.findLis().eq(n.liObj[t]);n.setDisabled(t,this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled,e),n.setSelected(t,this.selected,e)}),this.tabIndex();var o=this.$element.find("option").map(function(){if(this.selected){if(n.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled))return!1;var e,i=t(this),o=i.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+i.data("icon")+'"></i> ':"";return e=n.options.showSubtext&&i.data("subtext")&&!n.multiple?' <small class="text-muted">'+i.data("subtext")+"</small>":"",void 0!==i.attr("title")?i.attr("title"):i.data("content")&&n.options.showContent?i.data("content"):o+i.html()+e}}).toArray(),s=this.multiple?o.join(this.options.multipleSeparator):o[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var a=this.options.selectedTextFormat.split(">");if(a.length>1&&o.length>a[1]||1==a.length&&o.length>=2){i=this.options.hideDisabled?", [disabled]":"";var r=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+i).length;s=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(o.length,r):this.options.countSelectedText).replace("{0}",o.length.toString()).replace("{1}",r.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(s=this.options.title),s||(s=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",t.trim(s.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(s),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=t||this.options.style;"add"==e?this.$button.addClass(i):"remove"==e?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){var i=document.createElement("div"),n=document.createElement("div"),o=document.createElement("ul"),s=document.createElement("li"),a=document.createElement("li"),r=document.createElement("a"),l=document.createElement("span"),d=this.options.header?this.$menu.find(".popover-title")[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,c=this.options.actionsBox&&this.multiple?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",i.className=this.$menu[0].parentNode.className+" open",n.className="dropdown-menu open",o.className="dropdown-menu inner",s.className="divider",l.appendChild(document.createTextNode("Inner text")),r.appendChild(l),a.appendChild(r),o.appendChild(a),o.appendChild(s),d&&n.appendChild(d),h){var u=document.createElement("span");h.className="bs-searchbox",u.className="form-control",h.appendChild(u),n.appendChild(h)}c&&n.appendChild(c),n.appendChild(o),p&&n.appendChild(p),i.appendChild(n),document.body.appendChild(i);var f=r.offsetHeight,m=d?d.offsetHeight:0,g=h?h.offsetHeight:0,v=c?c.offsetHeight:0,b=p?p.offsetHeight:0,y=t(s).outerHeight(!0),$=!!getComputedStyle&&getComputedStyle(n),w=$?t(n):null,C=parseInt($?$.paddingTop:w.css("paddingTop"))+parseInt($?$.paddingBottom:w.css("paddingBottom"))+parseInt($?$.borderTopWidth:w.css("borderTopWidth"))+parseInt($?$.borderBottomWidth:w.css("borderBottomWidth")),x=C+parseInt($?$.marginTop:w.css("marginTop"))+parseInt($?$.marginBottom:w.css("marginBottom"))+2;document.body.removeChild(i),this.sizeInfo={liHeight:f,headerHeight:m,searchHeight:g,actionsHeight:v,doneButtonHeight:b,dividerHeight:y,menuPadding:C,menuExtras:x}}},setSize:function(){this.findLis(),this.liHeight();var e,i,n,o,s=this,a=this.$menu,r=this.$menuInner,l=t(window),d=this.$newElement[0].offsetHeight,h=this.sizeInfo.liHeight,c=this.sizeInfo.headerHeight,p=this.sizeInfo.searchHeight,u=this.sizeInfo.actionsHeight,f=this.sizeInfo.doneButtonHeight,m=this.sizeInfo.dividerHeight,g=this.sizeInfo.menuPadding,v=this.sizeInfo.menuExtras,b=this.options.hideDisabled?".disabled":"",y=function(){n=s.$newElement.offset().top-l.scrollTop(),o=l.height()-n-d};if(y(),this.options.header&&a.css("padding-top",0),"auto"===this.options.size){var $=function(){var l,d=function(e,i){return function(n){return i?n.classList?n.classList.contains(e):t(n).hasClass(e):!(n.classList?n.classList.contains(e):t(n).hasClass(e))}},m=s.$menuInner[0].getElementsByTagName("li"),b=Array.prototype.filter?Array.prototype.filter.call(m,d("hidden",!1)):s.$lis.not(".hidden"),$=Array.prototype.filter?Array.prototype.filter.call(b,d("dropdown-header",!0)):b.filter(".dropdown-header");y(),e=o-v,s.options.container?(a.data("height")||a.data("height",a.height()),i=a.data("height")):i=a.height(),s.options.dropupAuto&&s.$newElement.toggleClass("dropup",n>o&&e-v<i),s.$newElement.hasClass("dropup")&&(e=n-v),l=b.length+$.length>3?3*h+v-2:0,a.css({"max-height":e+"px",overflow:"hidden","min-height":l+c+p+u+f+"px"}),r.css({"max-height":e-c-p-u-f-g+"px","overflow-y":"auto","min-height":Math.max(l-g,0)+"px"})};$(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",$),l.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",$)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(b).length>this.options.size){var w=this.$lis.not(".divider").not(b).children().slice(0,this.options.size).last().parent().index(),C=this.$lis.slice(0,w+1).filter(".divider").length;e=h*this.options.size+C*m+g,s.options.container?(a.data("height")||a.data("height",a.height()),i=a.data("height")):i=a.height(),s.options.dropupAuto&&this.$newElement.toggleClass("dropup",n>o&&e-v<i),a.css({"max-height":e+c+p+u+f+"px",overflow:"hidden","min-height":""}),r.css({"max-height":e-g+"px","overflow-y":"auto","min-height":""})}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,i=t.children(".dropdown-menu").outerWidth(),n=e.css("width","auto").children("button").outerWidth();t.remove(),e.remove(),this.$newElement.css("width",Math.max(i,n)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var e,i,n=this,o=t("<div />"),s=function(t){o.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),i=t.hasClass("dropup")?0:t[0].offsetHeight,o.css({top:e.top+i,left:e.left,width:t[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){n.isDisabled()||(s(t(this)),o.appendTo(n.options.container),o.toggleClass("open",!t(this).hasClass("open")),o.append(n.$menu))}),t(window).on("resize scroll",function(){s(n.$newElement)}),this.$element.on("hide.bs.select",function(){n.$menu.data("height",n.$menu.height()),o.detach()})},setSelected:function(t,e,i){if(!i)var i=this.findLis().eq(this.liObj[t]);i.toggleClass("selected",e)},setDisabled:function(t,e,i){if(!i)var i=this.findLis().eq(this.liObj[t]);e?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var e=this,i=t(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),i.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&i.data("spaceSelect")&&(t.preventDefault(),i.data("spaceSelect",!1))}),this.$newElement.on("click",function(){e.setSize(),e.$element.on("shown.bs.select",function(){if(e.options.liveSearch||e.multiple){if(!e.multiple){var t=e.liObj[e.$element[0].selectedIndex];if("number"!=typeof t)return;var i=e.$lis.eq(t)[0].offsetTop-e.$menuInner[0].offsetTop;i=i-e.$menuInner[0].offsetHeight/2+e.sizeInfo.liHeight/2,e.$menuInner[0].scrollTop=i}}else e.$menu.find(".selected a").focus()})}),this.$menu.on("click","li a",function(i){var n=t(this),o=n.parent().data("originalIndex"),s=e.$element.val(),a=e.$element.prop("selectedIndex");if(e.multiple&&i.stopPropagation(),i.preventDefault(),!e.isDisabled()&&!n.parent().hasClass("disabled")){var r=e.$element.find("option"),l=r.eq(o),d=l.prop("selected"),h=l.parent("optgroup"),c=e.options.maxOptions,p=h.data("maxOptions")||!1;if(e.multiple){if(l.prop("selected",!d),e.setSelected(o,!d),n.blur(),!1!==c||!1!==p){var u=c<r.filter(":selected").length,f=p<h.find("option:selected").length;if(c&&u||p&&f)if(c&&1==c)r.prop("selected",!1),l.prop("selected",!0),e.$menu.find(".selected").removeClass("selected"),e.setSelected(o,!0);else if(p&&1==p){h.find("option:selected").prop("selected",!1),l.prop("selected",!0);var m=n.parent().data("optgroup");e.$menu.find('[data-optgroup="'+m+'"]').removeClass("selected"),e.setSelected(o,!0)}else{var g="function"==typeof e.options.maxOptionsText?e.options.maxOptionsText(c,p):e.options.maxOptionsText,v=g[0].replace("{n}",c),b=g[1].replace("{n}",p),y=t('<div class="notify"></div>');g[2]&&(v=v.replace("{var}",g[2][c>1?0:1]),b=b.replace("{var}",g[2][p>1?0:1])),l.prop("selected",!1),e.$menu.append(y),c&&u&&(y.append(t("<div>"+v+"</div>")),e.$element.trigger("maxReached.bs.select")),p&&f&&(y.append(t("<div>"+b+"</div>")),e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(o,!1)},10),y.delay(750).fadeOut(300,function(){t(this).remove()})}}}else r.prop("selected",!1),l.prop("selected",!0),e.$menu.find(".selected").removeClass("selected"),e.setSelected(o,!0);e.multiple?e.options.liveSearch&&e.$searchbox.focus():e.$button.focus(),(s!=e.$element.val()&&e.multiple||a!=e.$element.prop("selectedIndex")&&!e.multiple)&&(e.$element.change(),e.$element.trigger("changed.bs.select",[o,l.prop("selected"),d]))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),e.options.liveSearch&&!t(i.target).hasClass("close")?e.$searchbox.focus():e.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){e.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),i.preventDefault(),i.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll(),e.$element.change()}),this.$element.change(function(){e.render(!1)})},liveSearchListener:function(){var n=this,o=t('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){n.$menuInner.find(".active").removeClass("active"),n.$searchbox.val()&&(n.$searchbox.val(""),n.$lis.not(".is-hidden").removeClass("hidden"),o.parent().length&&o.remove()),n.multiple||n.$menuInner.find(".selected").addClass("active"),setTimeout(function(){n.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(n.$searchbox.val()){var s=n.$lis.not(".is-hidden").removeClass("hidden").children("a");(s=n.options.liveSearchNormalize?s.not(":a"+n._searchStyle()+"("+e(n.$searchbox.val())+")"):s.not(":"+n._searchStyle()+"("+n.$searchbox.val()+")")).parent().addClass("hidden"),n.$lis.filter(".dropdown-header").each(function(){var e=t(this),i=e.data("optgroup");0===n.$lis.filter("[data-optgroup="+i+"]").not(e).not(".hidden").length&&(e.addClass("hidden"),n.$lis.filter("[data-optgroup="+i+"div]").addClass("hidden"))});var a=n.$lis.not(".hidden");a.each(function(e){var i=t(this);i.hasClass("divider")&&(i.index()===a.eq(0).index()||i.index()===a.last().index()||a.eq(e+1).hasClass("divider"))&&i.addClass("hidden")}),n.$lis.not(".hidden, .no-results").length?o.parent().length&&o.remove():(o.parent().length&&o.remove(),o.html(n.options.noneResultsText.replace("{0}",'"'+i(n.$searchbox.val())+'"')).show(),n.$menuInner.append(o))}else n.$lis.not(".is-hidden").removeClass("hidden"),o.parent().length&&o.remove();n.$lis.filter(".active").removeClass("active"),n.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),t(this).focus()})},_searchStyle:function(){var t="icontains";switch(this.options.liveSearchStyle){case"begins":case"startsWith":t="ibegins"}return t},val:function(t){return void 0!==t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!0),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").addClass("selected"),this.render(!1)},deselectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!1),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").removeClass("selected"),this.render(!1)},keydown:function(i){var n,o,s,a,r,l,d,h,c,p=t(this),u=p.is("input")?p.parent().parent():p.parent(),f=u.data("this"),m=":not(.disabled, .hidden, .dropdown-header, .divider)",g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(f.options.liveSearch&&(u=p.parent().parent()),f.options.container&&(u=f.$menu),n=t("[role=menu] li a",u),!(c=f.$menu.parent().hasClass("open"))&&(i.keyCode>=48&&i.keyCode<=57||event.keyCode>=65&&event.keyCode<=90)&&(f.options.container?f.$newElement.trigger("click"):(f.setSize(),f.$menu.parent().addClass("open"),c=!0),f.$searchbox.focus()),f.options.liveSearch&&(/(^9$|27)/.test(i.keyCode.toString(10))&&c&&0===f.$menu.find(".active").length&&(i.preventDefault(),f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus()),n=t("[role=menu] li:not(.disabled, .hidden, .dropdown-header, .divider)",u),p.val()||/(38|40)/.test(i.keyCode.toString(10))||0===n.filter(".active").length&&(n=f.$newElement.find("li"),n=f.options.liveSearchNormalize?n.filter(":a"+f._searchStyle()+"("+e(g[i.keyCode])+")"):n.filter(":"+f._searchStyle()+"("+g[i.keyCode]+")"))),n.length){if(/(38|40)/.test(i.keyCode.toString(10)))o=n.index(n.filter(":focus")),a=n.parent(m).first().data("originalIndex"),r=n.parent(m).last().data("originalIndex"),s=n.eq(o).parent().nextAll(m).eq(0).data("originalIndex"),l=n.eq(o).parent().prevAll(m).eq(0).data("originalIndex"),d=n.eq(s).parent().prevAll(m).eq(0).data("originalIndex"),f.options.liveSearch&&(n.each(function(e){t(this).hasClass("disabled")||t(this).data("index",e)}),o=n.index(n.filter(".active")),a=n.first().data("index"),r=n.last().data("index"),s=n.eq(o).nextAll().eq(0).data("index"),l=n.eq(o).prevAll().eq(0).data("index"),d=n.eq(s).prevAll().eq(0).data("index")),h=p.data("prevIndex"),38==i.keyCode?(f.options.liveSearch&&(o-=1),o!=d&&o>l&&(o=l),o<a&&(o=a),o==h&&(o=r)):40==i.keyCode&&(f.options.liveSearch&&(o+=1),-1==o&&(o=0),o!=d&&o<s&&(o=s),o>r&&(o=r),o==h&&(o=a)),p.data("prevIndex",o),f.options.liveSearch?(i.preventDefault(),p.hasClass("dropdown-toggle")||(n.removeClass("active").eq(o).addClass("active").children("a").focus(),p.focus())):n.eq(o).focus();else if(!p.is("input")){var v,b=[];n.each(function(){t(this).parent().hasClass("disabled")||t.trim(t(this).text().toLowerCase()).substring(0,1)==g[i.keyCode]&&b.push(t(this).parent().index())}),v=t(document).data("keycount"),v++,t(document).data("keycount",v),t.trim(t(":focus").text().toLowerCase()).substring(0,1)!=g[i.keyCode]?(v=1,t(document).data("keycount",v)):v>=b.length&&(t(document).data("keycount",0),v>b.length&&(v=1)),n.eq(b[v-1]).focus()}if((/(13|32)/.test(i.keyCode.toString(10))||/(^9$)/.test(i.keyCode.toString(10))&&f.options.selectOnTab)&&c){if(/(32)/.test(i.keyCode.toString(10))||i.preventDefault(),f.options.liveSearch)/(32)/.test(i.keyCode.toString(10))||(f.$menu.find(".active a").click(),p.focus());else{var y=t(":focus");y.click(),y.focus(),i.preventDefault(),t(document).data("spaceSelect",!0)}t(document).data("keycount",0)}(/(^9$|27)/.test(i.keyCode.toString(10))&&c&&(f.multiple||f.options.liveSearch)||/(27)/.test(i.keyCode.toString(10))&&!c)&&(f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var s=t.fn.selectpicker;t.fn.selectpicker=n,t.fn.selectpicker.Constructor=o,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=s,this},t(document).data("keycount",0).on("keydown",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',o.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(t){t.stopPropagation()}),t(window).on("load.bs.select.data-api",function(){t(".selectpicker").each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery)}),function(t){var e=-1,i=-1,n=function(t){return parseFloat(t)||0},o=function(e){var i=null,o=[];return t(e).each(function(){var e=t(this),s=e.offset().top-n(e.css("margin-top")),a=o.length>0?o[o.length-1]:null;null===a?o.push(e):Math.floor(Math.abs(i-s))<=1?o[o.length-1]=a.add(e):o.push(e),i=s}),o},s=function(e){var i={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?t.extend(i,e):("boolean"==typeof e?i.byRow=e:"remove"===e&&(i.remove=!0),i)},a=t.fn.matchHeight=function(e){var i=s(e);if(i.remove){var n=this;return this.css(i.property,""),t.each(a._groups,function(t,e){e.elements=e.elements.not(n)}),this}return this.length<=1&&!i.target?this:(a._groups.push({elements:this,options:i}),a._apply(this,i),this)};a._groups=[],a._throttle=80,a._maintainScroll=!1,a._beforeUpdate=null,a._afterUpdate=null,a._rows=o,a._apply=function(e,i){var r=s(i),l=t(e),d=[l],h=t(window).scrollTop(),c=t("html").outerHeight(!0),p=l.parents().filter(":hidden");return p.each(function(){var e=t(this);e.data("style-cache",e.attr("style"))}),p.css("display","block"),r.byRow&&!r.target&&(l.each(function(){var e=t(this),i=e.css("display");"inline-block"!==i&&"inline-flex"!==i&&(i="block"),e.data("style-cache",e.attr("style")),e.css({display:i,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px"})}),d=o(l),l.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||"")})),t.each(d,function(e,i){var o=t(i),s=0;if(r.target)s=r.target.outerHeight(!1);else{if(r.byRow&&o.length<=1)return void o.css(r.property,"");o.each(function(){var e=t(this),i=e.css("display");"inline-block"!==i&&"inline-flex"!==i&&(i="block");var n={display:i};n[r.property]="",e.css(n),e.outerHeight(!1)>s&&(s=e.outerHeight(!1)),e.css("display","")})}o.each(function(){var e=t(this),i=0;r.target&&e.is(r.target)||("border-box"!==e.css("box-sizing")&&(i+=n(e.css("border-top-width"))+n(e.css("border-bottom-width")),i+=n(e.css("padding-top"))+n(e.css("padding-bottom"))),e.css(r.property,s-i+"px"))})}),p.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||null)}),a._maintainScroll&&t(window).scrollTop(h/c*t("html").outerHeight(!0)),this},a._applyDataApi=function(){var e={};t("[data-match-height], [data-mh]").each(function(){var i=t(this),n=i.attr("data-mh")||i.attr("data-match-height");e[n]=n in e?e[n].add(i):i}),t.each(e,function(){this.matchHeight(!0)})};var r=function(e){a._beforeUpdate&&a._beforeUpdate(e,a._groups),t.each(a._groups,function(){a._apply(this.elements,this.options)}),a._afterUpdate&&a._afterUpdate(e,a._groups)};a._update=function(n,o){if(o&&"resize"===o.type){var s=t(window).width();if(s===e)return;e=s}n?-1===i&&(i=setTimeout(function(){r(o),i=-1},a._throttle)):r(o)},t(a._applyDataApi),t(window).bind("load",function(t){a._update(!1,t)}),t(window).bind("resize orientationchange",function(t){a._update(!0,t)})}(jQuery),function(t){if("function"==typeof define&&define.amd)define(t);else if("object"==typeof exports)module.exports=t();else{var e=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=e,i}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function e(i){function n(e,o,s){var a;if(arguments.length>1){if("number"==typeof(s=t({path:"/"},n.defaults,s)).expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*s.expires),s.expires=r}try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(t){}return o=encodeURIComponent(String(o)),o=o.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",o,s.expires&&"; expires="+s.expires.toUTCString(),s.path&&"; path="+s.path,s.domain&&"; domain="+s.domain,s.secure?"; secure":""].join("")}e||(a={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,h=0;h<l.length;h++){var c=l[h].split("="),p=c[0].replace(d,decodeURIComponent),u=c.slice(1).join("=");'"'===u.charAt(0)&&(u=u.slice(1,-1));try{if(u=i&&i(u,p)||u.replace(d,decodeURIComponent),this.json)try{u=JSON.parse(u)}catch(t){}if(e===p){a=u;break}e||(a[p]=u)}catch(t){}}return a}return n.get=n.set=n,n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,i){n(e,"",t(i,{expires:-1}))},n.withConverter=e,n}return e()}),function(){"use strict";function t(e,n){var o;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=e,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!t.notNeeded(e)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,r=0,l=s.length;r<l;r++)a[s[r]]=function(t,e){return function(){return t.apply(e,arguments)}}(a[s[r]],a);i&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,n){var o=Node.prototype.removeEventListener;"click"===t?o.call(e,t,i.hijacked||i,n):o.call(e,t,i,n)},e.addEventListener=function(t,i,n){var o=Node.prototype.addEventListener;"click"===t?o.call(e,t,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):o.call(e,t,i,n)}),"function"==typeof e.onclick&&(o=e.onclick,e.addEventListener("click",function(t){o(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!e,n=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,o=n&&/OS 4_\d(_\d)?/.test(navigator.userAgent),s=n&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(n&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},t.prototype.determineEventType=function(t){return i&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;n&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,i;if(!(e=t.fastClickScrollParent)||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,i,s;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],n){if((s=window.getSelection()).rangeCount&&!s.isCollapsed)return!0;if(!o){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},t.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,a,r,l,d,h=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,s&&(d=t.changedTouches[0],(h=document.elementFromPoint(d.pageX-window.pageXOffset,d.pageY-window.pageYOffset)||h).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(r=h.tagName.toLowerCase())){if(e=this.findControl(h)){if(this.focus(h),i)return!1;h=e}}else if(this.needsFocus(h))return t.timeStamp-a>100||n&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(h),this.sendClick(h,t),n&&"select"===r||(this.targetElement=null,t.preventDefault()),!1);return!(!n||o||!(l=h.fastClickScrollParent)||l.fastClickLastScrollTop===l.scrollTop)||(this.needsClick(h)||(t.preventDefault(),this.sendClick(h,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;i&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,n,o;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&o[2]>=3&&(e=document.querySelector("meta[name=viewport]"))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===t.style.touchAction||"manipulation"===t.style.touchAction)},t.attach=function(e,i){return new t(e,i)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}(),function(t,e){"use strict";function i(t){this.callback=t,this.ticking=!1}function n(e){return e&&void 0!==t&&(e===t||e.nodeType)}function o(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var e,i,s=t||{};for(i=1;i<arguments.length;i++){var a=arguments[i]||{};for(e in a)"object"!=typeof s[e]||n(s[e])?s[e]=s[e]||a[e]:s[e]=o(s[e],a[e])}return s}function s(t){return t===Object(t)?t:{down:t,up:t}}function a(t,e){e=o(e,a.options),this.lastKnownScrollY=0,this.elem=t,this.debouncer=new i(this.update.bind(this)),this.tolerance=s(e.tolerance),this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop}var r={bind:!!function(){}.bind,classList:"classList"in e.documentElement,rAF:!!(t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame)};t.requestAnimationFrame=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,i.prototype={constructor:i,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},a.prototype={constructor:a,init:function(){if(a.cutsTheMustard)return this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;this.initialised=!1,this.elem.classList.remove(t.unpinned,t.pinned,t.top,t.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(e.documentElement||e.body.parentNode||e.body).scrollTop},getViewportHeight:function(){return t.innerHeight||e.documentElement.clientHeight||e.body.clientHeight},getDocumentHeight:function(){var t=e.body,i=e.documentElement;return Math.max(t.scrollHeight,i.scrollHeight,t.offsetHeight,i.offsetHeight,t.clientHeight,i.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===t||this.scroller===e.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=t<0,i=t+this.getViewportHeight()>this.getScrollerHeight();return e||i},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var i=t>this.lastKnownScrollY,n=t>=this.offset;return i&&n&&e},shouldPin:function(t,e){var i=t<this.lastKnownScrollY,n=t<=this.offset;return i&&e||n},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",i=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),this.shouldUnpin(t,i)?this.unpin():this.shouldPin(t,i)&&this.pin(),this.lastKnownScrollY=t)}},a.options={tolerance:{up:0,down:0},offset:0,scroller:t,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}},a.cutsTheMustard=void 0!==r&&r.rAF&&r.bind&&r.classList,t.Headroom=a}(window,document),function(t){t&&(t.fn.headroom=function(e){return this.each(function(){var i=t(this),n=i.data("headroom"),o="object"==typeof e&&e;o=t.extend(!0,{},Headroom.options,o),n||((n=new Headroom(this,o)).init(),i.data("headroom",n)),"string"==typeof e&&n[e]()})},t("[data-headroom]").each(function(){var e=t(this);e.headroom(e.data())}))}(window.Zepto||window.jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},t.expr[":"]["has-src"]=function(e){return t(e).is('img[src][src!=""]')},t.expr[":"].uncached=function(e){return!!t(e).is(":has-src")&&!e.complete},t.fn.waitForImages=function(){var e,i,n,o=0,s=0,a=t.Deferred();if(t.isPlainObject(arguments[0])?(n=arguments[0].waitForAll,i=arguments[0].each,e=arguments[0].finished):1===arguments.length&&"boolean"===t.type(arguments[0])?n=arguments[0]:(e=arguments[0],i=arguments[1],n=arguments[2]),e=e||t.noop,i=i||t.noop,n=!!n,!t.isFunction(e)||!t.isFunction(i))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var r=t(this),l=[],d=t.waitForImages.hasImageProperties||[],h=t.waitForImages.hasImageAttributes||[],c=/url\(\s*(['"]?)(.*?)\1\s*\)/g;n?r.find("*").addBack().each(function(){var e=t(this);e.is("img:has-src")&&l.push({src:e.attr("src"),element:e[0]}),t.each(d,function(t,i){var n,o=e.css(i);if(!o)return!0;for(;n=c.exec(o);)l.push({src:n[2],element:e[0]})}),t.each(h,function(i,n){var o,s=e.attr(n);if(!s)return!0;o=s.split(","),t.each(o,function(i,n){n=t.trim(n).split(" ")[0],l.push({src:n,element:e[0]})})})}):r.find("img:has-src").each(function(){l.push({src:this.src,element:this})}),o=l.length,s=0,0===o&&(e.call(r[0]),a.resolveWith(r[0])),t.each(l,function(n,l){var d=new Image,h="load.waitForImages error.waitForImages";t(d).one(h,function n(d){var c=[s,o,"load"==d.type];if(s++,i.apply(l.element,c),a.notifyWith(l.element,c),t(this).off(h,n),s==o)return e.call(r[0]),a.resolveWith(r[0]),!1}),d.src=l.src})}),a.promise()}});var DPB2;(DPB2=DPB2||{}).PushMenu={},function(t){DPB2.PushDisplay=function(){function e(e){this.$element=t(e),this.$target=t(this.$element.data("target")),this.direction=this.$element.data("direction")||"left",this.$canvas=t("body"),this.active=!1,this.$canvas.addClass("push-canvas"),this.$target.addClass("navbar-push").addClass("navbar-push-"+this.direction),this.registerEvents()}return e.prototype.registerEvents=function(){return this.$element.on("click",function(t){return function(e){return e.preventDefault(),t.toggle()}}(this))},e.prototype.toggle=function(){var t,e;return this.$element.toggleClass("active"),this.active=this.$element.hasClass("active"),this.$element.attr("aria-expanded",this.active),this.$element.is(".fa-bars")&&this.$element.toggleClass("fa-rotate-90"),t=this.$canvas.scrollTop(),e=-1*t,this.$canvas.toggleClass("pushed-"+this.direction+" noscroll"),this.$canvas.hasClass("noscroll")?this.$canvas.css("top",e+"px").data("bodyTop",t).scrollTop(0):this.$canvas.css("top","0px").scrollTop(this.$canvas.data("bodyTop")),this.$target.toggleClass("in"),this.$target.attr("aria-hidden",!this.active),this.$element.trigger("togglePushDisplay",this,this.active)},e}()}(jQuery);var DPB2;(DPB2=DPB2||{}).Likes={},function(t){DPB2.Likes=function(){function e(e){this.$article=t(e),this.$likePost=this.$article.find(".like-post"),this.processingEvent=!1,this.registerEvents()}return e.prototype.registerEvents=function(){var e;return e=this,this.$likePost.click(function(i){var n;if(i.preventDefault(),!e.processingEvent)return e.processingEvent=!0,(n=t(this)).hasClass("liked")?e.unlikePost(n):e.likePost(n)})},e.prototype.likePost=function(e){var i,n,o;return o=e.data("post-id"),n=Cookies.getJSON("likedPosts")||[],-1!==t.inArray(o,n)?(e.addClass("liked"),!1):(i={action:"like_post",post_id:o,wpnonce:e.data("nonce")},t.post(dpbVars.ajaxurl,i,function(i){return function(s){return void 0!==typeof s.data.likes&&(e.find(".count").text(s.data.likes),e.addClass("liked"),n=Cookies.getJSON("likedPosts")||[],t.inArray(o,-1===n)&&(n.push(o),Cookies.set("likedPosts",n))),i.processingEvent=!1}}(this)))},e.prototype.unlikePost=function(e){var i,n,o;return o=e.data("post-id"),n=Cookies.getJSON("likedPosts")||[],-1===t.inArray(o,n)?(e.removeClass("liked"),!1):(i={action:"unlike_post",post_id:o,wpnonce:e.data("nonce")},t.post(dpbVars.ajaxurl,i,function(i){return function(s){var a;return void 0!==typeof s.data.likes&&(e.find(".count").text(s.data.likes),e.removeClass("liked"),n=Cookies.getJSON("likedPosts")||[],t.inArray(o,-1!==n)&&(-1!==(a=n.indexOf(o))&&n.splice(a,1),Cookies.set("likedPosts",n))),i.processingEvent=!1}}(this)))},e}()}(jQuery);var DPB2;(DPB2=DPB2||{}).FavoriteAuthors={},function(t){DPB2.FavoriteAuthors=function(){function e(e){this.$element=t(e),this.$favoriteBtn=this.$element.find(".btn-favorite"),this.registerEvents()}return e.prototype.registerEvents=function(){var e;return e=this,this.$favoriteBtn.click(function(i){var n;return i.preventDefault(),(n=t(this)).hasClass("active")?e.unfavoriteAuthor(n):e.favoriteAuthor(n)})},e.prototype.favoriteAuthor=function(e){var i,n,o;return i=e.data("author-id"),o=Cookies.getJSON("favoriteAuthors")||[],-1!==t.inArray(""+i,o)?(e.addClass("active"),!1):(n={action:"favorite_author",author_id:i,wpnonce:e.data("fav-nonce")},t.post(dpbVars.ajaxurl,n,function(t){if(void 0!==typeof t.success)return e.addClass("active")}))},e.prototype.unfavoriteAuthor=function(e){var i,n,o;return i=e.data("author-id"),o=Cookies.getJSON("favoriteAuthors")||[],-1===t.inArray(""+i,o)?(e.removeClass("active"),!1):(n={action:"unfavorite_author",author_id:i,wpnonce:e.data("fav-nonce")},t.post(dpbVars.ajaxurl,n,function(t){if(void 0!==typeof t.success)return e.removeClass("active")}))},e}()}(jQuery);var DPB2,bind=function(t,e){return function(){return t.apply(e,arguments)}};(DPB2=DPB2||{}).FeaturedStories={},function(t){DPB2.FeaturedStories=function(){function e(e){this.setContent=bind(this.setContent,this),this.slid=bind(this.slid,this),this.pause=bind(this.pause,this),this.$element=t(e),this.$carousel=this.$element.find(".carousel"),this.$pause=this.$element.find(".carousel-pause"),this.$pause.on("click",this.pause),this.$carousel.on("slid.bs.carousel",this.slid),this.setContent(this.$carousel.find(".item").first())}return e.prototype.pause=function(t){return t.preventDefault(),this.$carousel.carousel("pause")},e.prototype.slid=function(e){var i;return i=t(e.relatedTarget),this.setContent(i)},e.prototype.setContent=function(t){var e;return(e=t.find(".story-content").clone()).attr("aria-live","polite"),this.$element.children(".story-content").replaceWith(e)},e}()}(jQuery);var DPB2;(DPB2=DPB2||{}).CoverStory={},function(t){DPB2.CoverStory=function(){function e(e){this.$element=t(e),this.$relatedLink=this.$element.find(".toggle-related-articles"),this.$relatedArticles=this.$element.find(".cover-story-articles"),this.setupEvents()}return e.prototype.setupEvents=function(){return this.$relatedLink.on("click",function(t){return function(e){return e.preventDefault(),t.toggleRelatedArticles()}}(this))},e.prototype.toggleRelatedArticles=function(){return this.$relatedLink.find("i").toggleClass("pep-rotate-180"),this.$relatedArticles.slideToggle()},e}()}(jQuery);var DPB2,bind=function(t,e){return function(){return t.apply(e,arguments)}};(DPB2=DPB2||{}).PostsList={},function(t){DPB2.PostsList=function(){function e(e){this.filterPosts=bind(this.filterPosts,this),this.clickLoadMorePosts=bind(this.clickLoadMorePosts,this),this.$listContainer=t(e),this.$list=this.$listContainer.find(".stories-list"),this.$loadMore=this.$listContainer.find(".load-more"),this.$filterContainer=this.$listContainer.find(".module-filter"),this.$postsCount=this.$listContainer.find(".posts-count"),this.template=_.template(t("script#post-template").html()),this.$sortBy=this.$listContainer.find("#sort-by-dropdown"),this.$dropdownCheckbox=this.$filterContainer.find(".post-filter .checkbox"),this.loadingPosts=!1,this.registerEvents()}return e.prototype.registerEvents=function(){return this.$loadMore.click(this.clickLoadMorePosts),this.$filterContainer.on("change","input:checkbox",this.filterPosts),this.$sortBy.on("change",this.filterPosts),this.$dropdownCheckbox.on("click",this.preventCloseOnCheckbox)},e.prototype.clickLoadMorePosts=function(t){var e;if(t.preventDefault(),!this.loadingPosts)return this.loadingPosts=!0,e=this.getRequestData(),e.page=(this.$listContainer.data("page")||1)+1,this.requestPosts(e)},e.prototype.getRequestData=function(){var e,i;return e={action:"load_posts_list",listType:this.$listContainer.data("list-type"),wpnonce:this.$listContainer.data("posts-list-nonce"),order:this.$sortBy.val()},i=["post_destinations","post_topics","author_stories"],-1!==t.inArray(e.listType,i)&&(e.object_id=this.$listContainer.data("object-id")),"post_search"===e.listType&&(e.s=this.$listContainer.data("search-query")),e.filters=this.getFilters(),e},e.prototype.requestPosts=function(e,i){return null==i&&(i=!0),t.post(dpbVars.ajaxurl,e,function(t){return function(e){if(null!=e.success)return t.processResponse(e.data,i)}}(this))},e.prototype.processResponse=function(t,e){var i;return e?(this.$listContainer.data("page")||1,this.$listContainer.data("page",t.page)):(this.$listContainer.data("page",1),this.$list.empty()),(i=t.posts).length?this.appendPosts(i):this.$list.append(t.message),this.$postsCount.is("*")&&this.updateCount(t.posts_count),t.last_page?this.$loadMore.hide():(this.$loadMore.show(),null!=t.page&&(window.history&&window.history.pushState&&window.history.pushState({url:this.$loadMore.attr("href")},"- Page "+t.page,this.$loadMore.attr("href")),this.$loadMore.attr("href",this.$loadMore.attr("href").replace(/\/page\/\d*\//,"/page/"+(t.page+1)+"/")),this.$listContainer.trigger("dpb:loadedPage",[t]))),this.loadingPosts=!1},e.prototype.updateCount=function(t){return this.$postsCount.text(t)},e.prototype.appendPosts=function(e){var i,n,o;return i=this,(n=this.$listContainer.data("items-row"))?(o=_.groupBy(e,function(t,e){return Math.floor(e/n)}),o=_.toArray(o),_.each(o,function(e){var n;return n=t('<div class="row equal-height"></div>'),_.each(e,function(t){return i.appendPost(t,n)}),i.$list.append(n)})):_.each(e,function(t){return function(e){return t.appendPost(e,t.$list)}}(this)),this.$listContainer.trigger("dpb:filterPosts",[this.$listContainer])},e.prototype.appendPost=function(t,e){return e.append(this.template(t))},e.prototype.filterPosts=function(){var t;return t=this.getRequestData(),this.requestPosts(t,!1)},e.prototype.getFilters=function(){var e,i;return e=this.$filterContainer.find(".post-filter"),i={},e.each(function(e,n){var o,s;return s=t(n).data("filter"),!(o=t(n).find("input:checkbox:checked")).is("*")||(i[s]=[],o.each(function(e,n){return i[s].push(t(n).val())}))}),i},e.prototype.preventCloseOnCheckbox=function(t){return t.stopPropagation()},e}()}(jQuery);var DPB2,bind=function(t,e){return function(){return t.apply(e,arguments)}};(DPB2=DPB2||{}).VideoCard={},function(t){DPB2.VideoCard=function(){function e(e,i){this.renderVideo=bind(this.renderVideo,this),this.$element=t(e),this.$playLinks=this.$element.find("a.play-video"),this.page=i,this.registerEvents()}return e.prototype.registerEvents=function(){return this,this.$playLinks.on("click",this.renderVideo)},e.prototype.renderVideo=function(e){var i,n,o,s,a;return e.preventDefault(),this.$element.data("youtube-id"),n=dpbMediaEngineConfig,n.config.data.config.FULLSCREEN_ALLOWED=!0,i={type:"video",title:this.$element.find(".video-title").text(),display:this.$element.data("img-src"),sources:["youtube:"+this.$element.data("youtube-id")]},n.config.data.assets=[i],this.page.mediaEngineLoader&&this.page.mediaEngineLoader.hide(),this.page.mediaEngineLoader=mediaEngineLoader(n),this.page.$mediaEngineContainer.addClass("loaded"),o=parseInt(this.page.$mediaEngineContainer.offset().top,10),s=parseInt(t("#site-main-nav").height(),10),a=o-s-10,t("html, body").animate({scrollTop:a},"slow")},e}()}(jQuery);var DPB2;(DPB2=DPB2||{}).VideoArchivePage={},function(t){if(DPB2.VideoArchivePage=function(){function e(e){this.$element=t(e),this.$mediaEngineContainer=this.$element.find("#media-engine-container"),this.mediaEngineLoader=!1,this.registerEvents(),this.initVideos()}return e.prototype.registerEvents=function(){return this.$element.on("dpb:filterPosts",function(t){return function(){return t.destroyMediaEngineLoader(),t.initVideos()}}(this))},e.prototype.destroyMediaEngineLoader=function(){if(this.mediaEngineLoader)return this.$mediaEngineContainer.removeClass("loaded"),this.mediaEngineLoader.hide()},e.prototype.initVideos=function(){var e;return e=this,this.$element.find(".story-card__videos").each(function(){if(!t(this).data("pep-video"))return t(this).data("pep-video",new DPB2.VideoCard(this,e))})},e}(),t(".video-archive").is("*"))t(".video-archive").data("video-archive",new DPB2.VideoArchivePage(".video-archive"))}(jQuery);var DPB2;(DPB2=DPB2||{}).VideoSinglePage={},function(t){if(DPB2.VideoSinglePage=function(){function e(e){this.$element=t(e),this.$mediaEngineContainer=this.$element.find("#media-engine-container"),this.mediaEngineLoader=!1,this.initVideo()}return e.prototype.initVideo=function(){return dpbMediaEngineConfig.config.data.assets=mediaEngineAssets,dpbMediaEngineConfig.config.data.config.FULLSCREEN_ALLOWED=!0,mediaEngineLoader(dpbMediaEngineConfig)},e}(),t(".single-video").is("*"))t(".single-video").data("single-video",new DPB2.VideoSinglePage(".single-video"))}(jQuery);var DPB2,bind=function(t,e){return function(){return t.apply(e,arguments)}};(DPB2=DPB2||{}).SubscribeModalForm={},function(t,e,i){if(DPB2.SubscribeModalForm=function(){function e(e){this.processForm=bind(this.processForm,this),this.checkGeocoordinates=bind(this.checkGeocoordinates,this),this.$form=t(e),this.$fields=this.$form.find("#subscribe-modal-form-fields"),this.$ajaxResponse=this.$form.find(".ajax-response"),this.$submitBtn=this.$form.find("button"),this.registerEvents()}return e.prototype.registerEvents=function(){var e;return e=this,this.$form.submit(this.processForm),t(i).on("show.bs.modal",".modal",function(){return e.initCaslCheck(this)})},e.prototype.initCaslCheck=function(e){return!!t(e).find(".casl").is("*")&&!!navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.checkGeocoordinates)},e.prototype.checkGeocoordinates=function(e){var i,n;return i=e.coords.latitude,n=e.coords.longitude,"AIzaSyAqVK3rOmmQrsJYLn9bod0Onjxe_CfMn8U",t.get("https://maps.googleapis.com/maps/api/geocode/json",{latlng:i+","+n,key:"AIzaSyAqVK3rOmmQrsJYLn9bod0Onjxe_CfMn8U"},this.maybeHideCASL)},e.prototype.maybeHideCASL=function(e){var i,n;for(i=0,n=[];i<e.results.length;){if(e.results[i].formatted_address.indexOf("United States")){t(".not-casl").show(),t(".casl").hide();break}n.push(i++)}return n},e.prototype.processForm=function(e){var i,n,o,s,a,r,l;return e.preventDefault(),o=t("#subscribe-modal-email").val(),s=t("#subscribe-modal-first-name").val(),a=t("#subscribe-modal-last-name").val(),l=/[0-9]/,r="",o?s?a?l.test(s)?r="First name must not contain numbers.":l.test(a)&&(r="Last name must not contain numbers."):(r="Please enter your last name.",this.$ajaxResponse.html("<p>"+r+"</p>").show()):r="Please enter your first name.":r="Please enter an email address.",""!==r?(i='<div class="alert alert-danger"><p>'+r+"</p></div>",this.$ajaxResponse.html(i).show()):(this.$ajaxResponse.empty().hide(),this.$form.find("input").attr("disabled",!0),this.$submitBtn.hide(),n={email:o,fname:s,lname:a,action:"email_subscribe_submit",nonce:this.$form.data("nonce")},this.ajaxSubmit(n))},e.prototype.ajaxSubmit=function(e){return t.post(dpbVars.ajaxurl,e,function(e){return function(i){var n,o;if(i.success?e.$fields.hide():(e.$submitBtn.show(),e.$form.find("input").attr("disabled",!1)),void 0!==typeof i.data.message)return o=i.success?"success":"danger",(n=t('<div class="alert alert-'+o+'"></div>')).append("<p>"+i.data.message+"</p>"),e.$ajaxResponse.html(n).show()}}(this))},e}(),t("#subscribe-modal-form").is("*"))t("#subscribe-modal-form").data("subscribe-modal-form",new DPB2.SubscribeModalForm("#subscribe-modal-form"))}(jQuery,window,document);var DPB2,bind=function(t,e){return function(){return t.apply(e,arguments)}};(DPB2=DPB2||{}).OneID={},function(t){DPB2.OneID=function(){function e(){this.onModalHide=bind(this.onModalHide,this),this.onModalShow=bind(this.onModalShow,this),this.afterLogout=bind(this.afterLogout,this),this.afterLogin=bind(this.afterLogin,this),this.afterClose=bind(this.afterClose,this),this.logout=bind(this.logout,this),this.login=bind(this.login,this),this.register=bind(this.register,this),this.afterInit=bind(this.afterInit,this),this.dID=DisneyID.get(dpbVars.disneyIDConfig),this.dID.init().then(this.afterInit),this.$formContainer=t("#respond")}return e.prototype.afterInit=function(t){if(this.registerEvents(),this.$formContainer.is("*"))return t.loggedIn?this.loadCommentForm(t.guest.profile):this.loadCommentForm()},e.prototype.registerEvents=function(){return this,t("body").on("click",".one-id-login",this.login),t("body").on("click",".one-id-register",this.register),t("body").on("click",".one-id-logout",this.logout),this.dID.on("close",this.afterClose),this.dID.on("lightbox.show",this.afterClose),this.dID.on("login",this.afterLogin),this.dID.on("logout",this.afterLogout)},e.prototype.register=function(t){return t.preventDefault(),this.dID.launchRegistration(),this.onModalShow()},e.prototype.login=function(t){return t.preventDefault(),this.dID.launchLogin(),this.onModalShow()},e.prototype.logout=function(t){return t.preventDefault(),this.dID.logout()},e.prototype.afterClose=function(){return this.onModalHide()},e.prototype.afterLogin=function(e){return this.loadCommentForm(e.profile),t("html, body").scrollTop(this.$formContainer.offset().top)},e.prototype.afterLogout=function(){return this.loadCommentForm()},e.prototype.onModalShow=function(){return t("body").removeClass("push-canvas"),t("body, html").scrollTop(0)},e.prototype.onModalHide=function(){return t("body").addClass("push-canvas")},e.prototype.loadCommentForm=function(e){var i;return i={action:"load_comment_form",user_profile:e,post_id:this.$formContainer.data("post-id"),wpnonce:this.$formContainer.data("nonce")},t.post(dpbVars.ajaxurl,i,function(e){return function(i){if(i.success)return e.$formContainer.empty().append(t(i.data))}}(this))},e}()}(jQuery),function(t,e,i){var n,o,s,a;if(n={configuration:{SiteCatalyst:dpbVars.analytics.siteCatalyst,TestAndTarget:{globalMbox:dpbVars.analytics.globalMbox,dynamicMboxes:dpbVars.analytics.dynamicMboxes},contentLanguage:"en",contentLocale:"us"},site:"DP",pageId:dpbVars.analytics.pageId,siteSection:dpbVars.analytics.siteSection,article:dpbVars.analytics.article},null!=dpbVars.analytics.search){s=dpbVars.analytics.search;for(o in s)a=s[o],n[o]=a}t&&(t.update(n),i("body.search-results .posts-list").on("dpb:loadedPage",function(e,i){var n,o;o={trackingType:"page",pageId:i.page.toString(),pageVariant:function(){var t,e,o,s;for(s=[],t=0,e=(o=i.posts).length;t<e;t++)n=o[t],s.push(n.ID.toString());return s}()},t.trackElement("searchResults",o)})),e&&e.pageBottom()}(window.WDPRO&&WDPRO.Analytics&&WDPRO.Analytics.Framework,window._satellite,jQuery);var DPB2,bind=function(t,e){return function(){return t.apply(e,arguments)}};(DPB2=DPB2||{}).GalleryCard={},function(t){DPB2.GalleryCard=function(){function e(e,i){this.renderGallery=bind(this.renderGallery,this),this.$element=t(e),this.$imageLinks=this.$element.find("a.image-link"),this.page=i,this.registerEvents()}return e.prototype.registerEvents=function(){return this,this.$imageLinks.on("click",this.renderGallery)},e.prototype.renderGallery=function(e){var i,n,o,s,a,r;return e.preventDefault(),i=this.$element.data("assets"),n=dpbMediaEngineConfig,n.config.data.books=[{chapters:[{subchapters:[{assets:i}]}]}],(s=t("#media-engine-container")).find(".thumbnailSlider").hasClass("hide")||s.css("margin-bottom","135px"),this.page.mediaEngineLoader&&this.page.mediaEngineLoader.hide(),this.page.mediaEngineLoader=mediaEngineLoader(n),this.page.$mediaEngineContainer.addClass("loaded"),o=parseInt(this.page.$mediaEngineContainer.offset().top,10),a=parseInt(t("#site-main-nav").height(),10),r=o-a-10,t("html, body").animate({scrollTop:r},"slow")},e}()}(jQuery);var DPB2;(DPB2=DPB2||{}).GalleryArchivePage={},function(t){if(DPB2.GalleryArchivePage=function(){function e(e){this.$element=t(e),this.$mediaEngineContainer=this.$element.find("#media-engine-container"),this.mediaEngineLoader=!1,this.registerEvents(),this.initGalleries()}return e.prototype.registerEvents=function(){return this.$element.on("dpb:filterPosts",function(t){return function(){return t.destroyMediaEngineLoader(),t.initGalleries()}}(this))},e.prototype.destroyMediaEngineLoader=function(){if(this.mediaEngineLoader)return this.$mediaEngineContainer.removeClass("loaded"),this.mediaEngineLoader.hide()},e.prototype.initGalleries=function(){var e;return e=this,this.$element.find(".gallery-story-card").each(function(){if(!t(this).data("pep-gallery-card"))return t(this).data("pep-gallery-card",new DPB2.GalleryCard(this,e))})},e}(),t(".gallery-archive").is("*"))t(".gallery-archive").data("gallery-archive",new DPB2.GalleryArchivePage(".gallery-archive"))}(jQuery);var DPB2;(DPB2=DPB2||{}).GallerySinglePage={},function(t){if(DPB2.GallerySinglePage=function(){function e(e){this.$element=t(e),this.$mediaEngineContainer=this.$element.find("#media-engine-container"),this.mediaEngineLoader=!1,this.initGallery()}return e.prototype.initGallery=function(){return dpbMediaEngineConfig.config.data.assets=mediaEngineAssets,mediaEngineLoader(dpbMediaEngineConfig)},e}(),t(".single-gallery").is("*"))t(".single-gallery").data("single-gallery",new DPB2.GallerySinglePage(".single-gallery"))}(jQuery);var DPB2,bind=function(t,e){return function(){return t.apply(e,arguments)}};(DPB2=DPB2||{}).SocialShare={},function(t){DPB2.SocialShare=function(){function e(){this.closeMenus=bind(this.closeMenus,this),this.registerEvents()}return e.prototype.registerEvents=function(){var e;return e=this,t(document).on("click",".share-title",function(t){return t.preventDefault(),e.toggleShareDropdown(this)}),t(document).on("click",".share-menu li a",function(i){if(!t(this).hasClass("email"))return i.preventDefault(),e.openShare(this)})},e.prototype.toggleShareDropdown=function(e){var i,n;return i=t(e).parent().find(".share-menu"),n=i.hasClass("active"),t(document).find(".share-menu").removeClass("active"),n?this.toggleDocumentClick(!1):(i.addClass("active"),this.toggleDocumentClick(!0))},e.prototype.toggleDocumentClick=function(e){return e?t(document).on("click",this.closeMenus):t(document).off("click",this.closeMenus)},e.prototype.openShare=function(e){return t(e).hasClass("facebook")?this.shareFacebook(e):window.open(t(e).attr("href"),"","menubar=no,toolbar=no,scrollbars=yes,height=600,width=600")},e.prototype.closeMenus=function(e){var i,n;if(i=t(document).find(".share-button"),n=!1,null==e&&(e={target:null}),i.each(function(i,o){var s;if(!(s=t(o)).is(e.target)&&0===s.has(e.target).length&&s.find(".share-menu").hasClass("active"))return s.find(".share-menu").removeClass("active"),n=!0}),n)return this.toggleDocumentClick(!1)},e.prototype.shareFacebook=function(e){return FB.ui({method:"share",href:t(e).attr("href")})},e}()}(jQuery),new DPB2.SocialShare;var DPB2,bind=function(t,e){return function(){return t.apply(e,arguments)}};(DPB2=DPB2||{}).BeforeAfterSlider={},function(t){DPB2.BeforeAfterSlider=function(){function e(e){this.mouseleave=bind(this.mouseleave,this),this.mousemove=bind(this.mousemove,this),this.$element=t(e),this.imgWidth=this.$element.find("img").width(),this.$before=this.$element.find(".before_image"),this.$after=this.$element.find(".after_image"),this.$after.width(Math.round(this.imgWidth/2)),this.setupEvents()}return e.prototype.setupEvents=function(){return this.$element.mousemove(this.mousemove),this.$element.mouseleave(this.mouseleave)},e.prototype.mousemove=function(t){var e;return e=t.offsetX||t.clientX-this.$after.offset().left,this.$after.stop().width(e)},e.prototype.mouseleave=function(t){return this.$after.stop().animate({width:Math.round(this.imgWidth/2)},1e3)},e}()}(jQuery);var DPB2;DPB2=DPB2||{},function(t,e,i){DPB2.Main={init:function(){return Modernizr.touch&&FastClick.attach(i.body),this.setupEvents(),this.setupHeadroom(),this.setupComponents(),this.matchHeights(),this.handleMobileFooterLinks(),this.handleAccessibilitySkip()},setupComponents:function(){if(new DPB2.OneID,t(".featured-stories").is("*")&&t(".featured-stories").data("featured-stories",new DPB2.FeaturedStories(".featured-stories")),t(".posts-list").is("*")&&t(".posts-list").data("posts-list",new DPB2.PostsList(".posts-list")),t("article.module-article .like-post").is("*")&&new DPB2.Likes("article.module-article"),t(".author-card").is("*")&&t(".author-card").each(function(){return new DPB2.FavoriteAuthors(this)}),t(".module-cover-story").is("*")&&t(".module-cover-story").data("cover-story",new DPB2.CoverStory(".module-cover-story")),t(".navbar-toggle").data("push-display",new DPB2.PushDisplay(".navbar-toggle")),t(".sidebar-toggle-btn").data("push-display",new DPB2.PushDisplay(".sidebar-toggle-btn")),t(".before_after_slider").is("*"))return t(".before_after_slider").each(function(){return new DPB2.BeforeAfterSlider(this)})},setupEvents:function(){return t(".sidebar-toggle-btn").on("togglePushDisplay",this.toggledSidebar),t(".navbar-toggle").on("togglePushDisplay",this.toggledMenu),t(".search-toggle").on("click",this.toggleSearch),t(e).on("load resize",this.toggleMenuPosition),t(i).on("show.bs.modal",".modal",this.positionModal),t(e).on("resize",function(e){return function(){return t(".modal:visible").each(e.positionModal)}}(this)),t(i).on("dpb:filterPosts",function(t){return function(e,i){return i.waitForImages().done(t.matchHeights)}}(this)),t(i).on("dpb:filterPosts",function(){if(t(".author-card").is("*"))return t(".author-card").each(function(e,i){if(!t(i).data("favorite-author"))return t(i).data("favorite-author",new DPB2.FavoriteAuthors(this))})})},positionModal:function(){var i,n,o,s,a;return(n=t(this)).css("display","block"),i=n.find(".modal-dialog"),o=t(".headroom--not-top"),a=(t(e).height()-i.height())/2,s=parseInt(i.css("marginBottom"),10),o.hasClass("slideUp")?a<s&&(a=s):a=o.height()+10,i.css("margin-top",a)},matchHeights:function(){return t.fn.matchHeight._maintainScroll=!0,t(".story-card__author, .module-sidebar-author").matchHeight(),t(".story-card__md").matchHeight(),t(".equal-height .module-story-card").matchHeight()},setupHeadroom:function(){return t("nav#site-main-nav").headroom({tolerance:5,classes:{initial:"animated",pinned:"slideDown",unpinned:"slideUp",top:"headroom--top",notTop:"headroom--not-top"}})},toggledSidebar:function(){return t("body").toggleClass("sidebar-open")},toggledMenu:function(){var e;return(e=t(".sidebar-toggle-btn").data("push-display")).active&&e.toggle(),t(".sidebar-toggle-btn").fadeToggle(100)},toggleSearch:function(e){return e.preventDefault(),t("#site-main-nav").toggleClass("show-search")},toggleMenuPosition:function(){var i,n,o,s;return n=t("#site-main-nav .navbar"),s=n.children().length,i=t(".mobile-navbar-container"),o=i.children().length,t(e).width()>dpbVars.mobileMenuMaxWidth&&!s?i.children().detach().appendTo(n):t(e).width()<dpbVars.mobileMenuMaxWidth&&!o?n.children().detach().appendTo(i):void 0},handleMobileFooterLinks:function(){var e,i;return i=t("#show-more-footer-links"),e=t(".module-footer .module-footer__bottom"),i.click(function(i){return i.preventDefault(),t(this).toggleClass("showLinks"),t(this).parent().parent().toggleClass("hideShowMore"),e.toggleClass("hideShowMore")})},handleAccessibilitySkip:function(){return t("#skipNavigation").click(function(){var e;return e="#"+this.href.split("#")[1],t(e).attr("tabindex",-1).on("blur focusout",function(){t(this).removeAttr("tabindex")}).focus()})}},DPB2.Main.init(),t(".close-icon").click(function(t){return t.preventDefault()})}(jQuery,window,document),void 0!==typeof dpbVars.facebookAppId&&(window.fbAsyncInit=function(){return FB.init({appId:dpbVars.facebookAppId,xfbml:!0,version:"v2.5"})});
