function mediaEngineLoader(r){var b={"2.0.x":"2.0.76","2.x.x":"2.0.76","x.x.x":"2.0.76"};var d={css:"css/{theme}/screen.MediaEngine.min.css",js:"js/MediaEngine.min.js","js-jQuery":"js/MediaEngineWithjQuery.min.js"};function l(v,t){if(arguments.length>2){for(var s=1;s<arguments.length;s++){l(v,arguments[s])}}else{for(var u in t){v[u]=t[u]}}return v}var f={container:false,config:{},onLoad:[],autoStart:true,version:"x.x.x",theme:"default",baseUrl:"http://as1.wdpromedia.com/media/flashComponents/MediaEngine/"};r=l({},f,r);if(typeof r.onLoad!=="Array"){r.onLoad=[r.onLoad]}var n=r.version.split(/\./);if(n.length<3){for(var g=n.length;g<3;g++){r.version+=".x"}}r.baseUrl=r.baseUrl.replace(/\/$/,"");window.WDPRO=window.WDPRO||{};window.WDPRO.MediaEngine=window.WDPRO.MediaEngine||{};var a=false;var c=function(t){var s=r.version;if(typeof b[s]!=="undefined"){s=b[s]}var i=r.baseUrl+"/v"+s+"/"+d[t];return i.replace(/{theme}/i,r.theme)};var j={isShown:false,show:function(s,t){var v=this;var u=function(){var w=window.WDPRO.MediaEngine.jQuery;s=w.extend({},r.config,s);t=t||r.container;w(t).addClass("me-theme-"+r.theme);w(t).wdproMediaEngine("init",s);v.isShown=true};var i=window.WDPRO.MediaEngine.Loader;if(!i.isLoaded){i.onLoadCallbacks.push(u)}else{u()}return this},hide:function(i){if(!window.WDPRO.MediaEngine.Loader.isLoaded){return this}var s=window.WDPRO.MediaEngine.jQuery;i=i||r.container;s(i).wdproMediaEngine("destroy");this.isShown=false;return this},toLink:function(t,i,s){if(!window.WDPRO.MediaEngine.Loader.isLoaded){return this}var v=this,u=window.WDPRO.MediaEngine.jQuery;i=u.extend({},r.config,i,t);s=s|r.container;if(!s){s=u(".mediaEngineDialogContainer")}if(v.isShown){u(s).wdproMediaEngine("options",t)}else{v.show(s,i)}return this}};function e(i){var s=document.createElement("link");s.setAttribute("rel","stylesheet");s.setAttribute("type","text/css");s.setAttribute("href",i);document.getElementsByTagName("head")[0].appendChild(s)}function q(){window.WDPRO.MediaEngine.jQuery=jQuery;if(a!==jQuery.fn.jquery){window.WDPRO.MediaEngine.jQuery=jQuery.noConflict(true)}window.WDPRO.MediaEngine.Loader.isLoaded=true;p()}function p(u){var s=u||window.WDPRO.MediaEngine.Loader.onLoadCallbacks;for(var t=0;t<s.length;t++){if(typeof s[t]==="function"){s[t](j)}}s=[]}function k(t,v){var s=document.createElement("script");s.src=t;var u=document.getElementsByTagName("head")[0],i=false;s.onload=s.onreadystatechange=function(){if(!i&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){i=true;if(typeof v!=="undefined"){v()}s.onload=s.onreadystatechange=null;u.removeChild(s)}};u.appendChild(s)}function m(s){var i=h("1.7.1"),t=h("1.11.3"),u=h(s);if((u>=i)&&(u<=t)){return true}return false}function h(t){var v=0,s,u;if(t&&t.split){t=t.replace(/[^0-9\.]+/g,"");s=t.split(/\./);for(u in s){v+=s[u]/Math.pow(1000,u)}}return v}function o(){e(c("css"));if(typeof window.WDPRO.MediaEngine.Loader==="undefined"){window.WDPRO.MediaEngine.Loader={isLoaded:false,onLoadCallbacks:[]};if(typeof jQuery!=="undefined"){a=jQuery.fn.jquery}if(m(a)){k(c("js"),q)}else{k(c("js-jQuery"),q)}}var i=window.WDPRO.MediaEngine.Loader;if(i.isLoaded){p(r.onLoad)}else{i.onLoadCallbacks=i.onLoadCallbacks.concat(r.onLoad)}if(r.autoStart===true||(typeof r.autoStart==="string"&&r.autoStart.toLowerCase()==="true")){j.show()}}o();return j};