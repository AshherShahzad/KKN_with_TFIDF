define(["comp/graphicComp","utils/graphicUtils","utils/domUtils","utils/objectUtils","utils/environmentUtils","infra/logger"],function(t,i,e,r,n,o){function p(i){t.call(this,i),s=i.prop.parentId}var s,l=10===n.isIE(),a=function(t){i.fitElementInContainer(this.div,t,this.prop.fitting),"stretch"!==this.prop.fitting&&i.alignElement(t,this.prop.alignment);var r=l?{visibility:"inherit"}:{display:""};e.applyStyle(t,r)},h=function(){var t={elementProperties:{src:this.prop.image}};t.styleProperties=l?{visibility:"hidden"}:{display:"none"},"stretch"===this.prop.fitting&&(t.styleProperties.width="100%",t.styleProperties.height="100%");var r=i.buildImg(t),n=this;return e.bindEvent(r,"load",function(){a.call(n,r)}),r};return p.prototype=new t,p.prototype.internalDraw=function(){t.prototype.internalDraw.call(this),this.div.style.fontSize=0,this.prop.image&&"string"==typeof this.prop.image&&this.div.appendChild(h.call(this))},p.prototype.convertFromPrevFormat=function(){t.prototype.convertFromPrevFormat.call(this),this.prop.assets instanceof Array&&(this.prop.image=this.prop.assets[0])},p.prototype.addProperties=function(){t.prototype.addProperties.call(this),null==this.prop.fitting&&(this.prop.fitting="stretch"),null==this.prop.alignment&&(this.prop.alignment="center")},p.prototype.getDefaultProperty=function(){return p.defaultProperty},p.prototype.getInputSchema=function(){return p.inputSchema},p.inputSchema=r.create(t.inputSchema,{image:"asset",alignment:null,fitting:null}),p.defaultProperty="image",o.log("image component loaded"),p});