function Timer(a,b){this.timerId=-1,this.start="",this.remaining=b,this.status="",this.cb=a,this.delay=b,this.play()}function ActionParams(a){this.version=a,this.viewName="",this.binded=!1,this.targetElem=""}function ActionHandler(){this.id=null,this.displayName=null,this.param=null,this.targetable=!1,this.canRunInInterLoop=!0}function ActionsGroup(a,b){this.id=a,this.displayName=b,this.actionsHandlers={}}function GotoURLActionParams(a){GotoURLActionParams.prototype.viewName="GoToURL",this.binded=a,this.add("url",""),this.add("delay",0),this.add("target","newWindow"),this.add("left",0),this.add("top",0),this.add("width",100),this.add("height",100),this.add("closeAllAdParts",!1),this.add("delay",0)}function GotoURLActionHandler(){GotoURLActionHandler.prototype.id="gotoURL",GotoURLActionHandler.prototype.displayName="Goto URL",GotoURLActionHandler.prototype.param=GotoURLActionParams}function CustomClickThroughActionParams(a){GotoURLActionParams.call(this,a),this.add("name",""),CustomClickThroughActionParams.prototype.viewName="CustomClickThrough"}function CustomClickThroughActionHandler(){GotoURLActionHandler.call(this),CustomClickThroughActionHandler.prototype.id="customClickThrough",CustomClickThroughActionHandler.prototype.displayName="Custom ClickThrough",CustomClickThroughActionHandler.prototype.param=CustomClickThroughActionParams}function TriggerCTActionParams(a){this.binded=a,this.add("delay",0)}function TriggerCTActionHandler(){TriggerCTActionHandler.prototype.id="triggerCT",TriggerCTActionHandler.prototype.displayName="Clickthrough",TriggerCTActionHandler.prototype.param=TriggerCTActionParams}function CustInterActionParams(a){var b=this;CustInterActionParams.prototype.viewName="CustomInteraction",this.binded=a,this.add("name",""),this.add("delay",0),this.addComputed("nameValue",{read:function(){return b.name()},write:function(a){b.name(a.trim())}})}function CustInterActionHandler(){CustInterActionHandler.prototype.id="custInter",CustInterActionHandler.prototype.displayName="Custom Interaction",CustInterActionHandler.prototype.param=CustInterActionParams}function VideoActionParams(a){this.binded=a,this.add("delay",0)}function VideoBaseActionHandler(){VideoBaseActionHandler.prototype.id="",VideoBaseActionHandler.prototype.displayName="",VideoBaseActionHandler.prototype.param=VideoActionParams,VideoBaseActionHandler.prototype.targetable=!0,VideoBaseActionHandler.prototype.videoObj=null,VideoBaseActionHandler.prototype.videoObjType=null}function VideoPlayActionHandler(){VideoPlayActionHandler.prototype.id="play",VideoPlayActionHandler.prototype.displayName="Play"}function VideoStopActionHandler(){VideoStopActionHandler.prototype.id="stop",VideoStopActionHandler.prototype.displayName="Stop"}function VideoPauseActionHandler(){VideoPauseActionHandler.prototype.id="pause",VideoPauseActionHandler.prototype.displayName="Pause"}function VideoReplayActionHandler(){VideoReplayActionHandler.prototype.id="replay",VideoReplayActionHandler.prototype.displayName="Replay"}function VideoMuteActionHandler(){VideoMuteActionHandler.prototype.id="mute",VideoMuteActionHandler.prototype.displayName="Mute"}function VideoUnmuteActionHandler(){VideoUnmuteActionHandler.prototype.id="unmute",VideoUnmuteActionHandler.prototype.displayName="Unmute"}function CallNumberActionParams(a){CallNumberActionParams.prototype.viewName="CallNumber",this.binded=a,this.add("number",""),this.add("delay",0)}function CallNumberActionHandler(){CallNumberActionHandler.prototype.id="callNumber",CallNumberActionHandler.prototype.displayName="Call Number",CallNumberActionHandler.prototype.param=CallNumberActionParams}function SMSNumberActionParams(a){SMSNumberActionParams.prototype.viewName="SMSNumber",this.binded=a,this.add("number",""),this.add("delay",0),this.add("body",""),this.add("recipient",""),this.add("subject",""),this.add("fallbackToEmail",!1)}function SMSNumberActionHandler(){SMSNumberActionHandler.prototype.id="SMSNumber",SMSNumberActionHandler.prototype.displayName="SMS Number",SMSNumberActionHandler.prototype.param=SMSNumberActionParams}function InteractionPauseActionParams(a){this.binded=a,this.add("delay",0)}function InteractionStartActionParams(a){InteractionStartActionParams.prototype.viewName="InteractionTrigger",this.binded=a,this.add("delay",0),this.add("interrupt","false")}function InteractionStopActionParams(a){this.binded=a,this.add("delay",0)}function InteractionPauseActionHandler(){InteractionPauseActionHandler.prototype.id="interactionPause",InteractionPauseActionHandler.prototype.displayName="Pause",InteractionPauseActionHandler.prototype.param=InteractionPauseActionParams,InteractionPauseActionHandler.prototype.targetable=!0}function InteractionStartActionHandler(){InteractionStartActionHandler.prototype.id="interactionStart",InteractionStartActionHandler.prototype.displayName="Start",InteractionStartActionHandler.prototype.param=InteractionStartActionParams,InteractionStartActionHandler.prototype.targetable=!0}function InteractionStopActionHandler(){InteractionStopActionHandler.prototype.id="interactionStop",InteractionStopActionHandler.prototype.displayName="Stop",InteractionStopActionHandler.prototype.param=InteractionStopActionParams,InteractionStopActionHandler.prototype.targetable=!0}function EmailActionParams(a){EmailActionParams.prototype.viewName="Email",this.binded=a,this.add("recipient",""),this.add("delay",0),this.add("cc",""),this.add("subject",""),this.add("body","")}function EmailActionHandler(){EmailActionHandler.prototype.id="email",EmailActionHandler.prototype.displayName="Email",EmailActionHandler.prototype.param=EmailActionParams}function RunJsActionHandler(){RunJsActionHandler.prototype.id="runJs",RunJsActionHandler.prototype.displayName="Run JavaScript",RunJsActionHandler.prototype.param=RunJsActionParams}function RunJsActionParams(a){RunJsActionParams.prototype.viewName="RunJs",this.binded=a,this.add("scriptString",""),this.add("delay",0),this.editorSession={internal:!0}}function DownloadActionParams(a){DownloadActionParams.prototype.viewName="Download",this.binded=a,ActionParams.getAssetsHelper()&&this.addArray("assets",ActionParams.getAssetsHelper().createAssetsArray()),this.add("name",""),this.add("delay",0),this.configPropsData={data:{fAsset:"fileAsset"},internal:!0},this.add("assetType",""),this.add("assetLabel",""),this.add("extensions",[])}function DownloadActionHandler(){DownloadActionHandler.prototype.param=DownloadActionParams}function DownloadCalendarActionParams(a){DownloadActionParams.call(this,a),this.set("assetType","calendar"),this.set("assetLabel","actions.DownloadCalendar.uploadCalendarFile"),this.set("extensions",["ics","ical","ifb","icalendar"])}function DownloadCalendarActionHandler(){DownloadCalendarActionHandler.prototype.id="downloadCalendar",DownloadCalendarActionHandler.prototype.displayName="Download Calendar Reminder",DownloadCalendarActionHandler.prototype.param=DownloadCalendarActionParams}function DownloadFileActionParams(a){DownloadActionParams.call(this,a),this.set("assetType","coupon"),this.set("assetLabel","actions.DownloadFile.uploadFile"),this.set("extensions",["png","jpg","jpeg","gif","pdf"])}function DownloadFileActionHandler(){DownloadFileActionHandler.prototype.id="downloadFile",DownloadFileActionHandler.prototype.displayName="Download File",DownloadFileActionHandler.prototype.param=DownloadFileActionParams}function ExpandCollapseActionParams(a){this.binded=a,this.add("delay",0)}function ExpandFullScreenActionParams(a){ExpandFullScreenActionParams.prototype.viewName="ExpandFullScreen",this.binded=a,this.add("delay",0),this.addArray("assets",ActionParams.getAssetsHelper().createAssetsArray()),this.add("opacity","70"),this.add("fillType","solid"),this.add("solidColor","#FFFFFF"),this.add("gradientFirstColor","#FFFFFF"),this.add("gradientSecondColor","#000000"),this.add("gradientPercent","100"),this.add("showCloseButton",!0),this.add("closeButtonStyle","default"),this.add("closeButtonPosition","topRight"),this.configPropsData={data:{bgImage:"expandFSBackground",closeBtnImage:"expandFSClose"},internal:!0}}function ExpandCollapseAnimActionParams(a){ExpandCollapseAnimActionParams.prototype.viewName="ExpandAnimations",this.binded=a,this.add("delay",0),this.add("duration","0"),this.add("ease","none"),this.add("fade",!1),this.add("position","topLeft"),this.DEFAULT_EXPANSION="dimensions",this.add("expandTo",this.DEFAULT_EXPANSION)}function ExpandCollapseAnimActionHandler(){ExpandCollapseAnimActionHandler.prototype.param=ExpandCollapseAnimActionParams,ExpandCollapseAnimActionHandler.prototype.canRunInInterLoop=!1}function ExpandActionHandler(){ExpandActionHandler.prototype.id="expand",ExpandActionHandler.prototype.displayName="Expand"}function ExpandFullScreenActionHandler(){ExpandFullScreenActionHandler.prototype.id="expandFullScreen",ExpandFullScreenActionHandler.prototype.displayName="Expand To Full Screen",ExpandFullScreenActionHandler.prototype.param=ExpandFullScreenActionParams,ExpandFullScreenActionHandler.prototype.canRunInInterLoop=!1}function CollapseActionHandler(){CollapseActionHandler.prototype.id="collapse",CollapseActionHandler.prototype.displayName="Collapse"}function ExpandPushdownActionHandler(){ExpandPushdownActionHandler.prototype.id="pushdown",ExpandPushdownActionHandler.prototype.displayName="Pushdown"}function FadeActionParams(a){FadeActionParams.prototype.viewName="Fade",this.binded=a,this.add("duration",1e3),this.add("ease","none"),this.add("easePower",1),this.add("delay",0),this.add("loopTimes",0),this.add("loopForever","false"),this.add("isTargetComposite",!1)}function ShowHideActionParams(a){this.binded=a,this.add("delay",0),this.add("isTargetComposite",!1)}function MotionActionParams(a){MotionActionParams.prototype.viewName="Motion",this.binded=a,this.add("startX",0),this.add("startY",0),this.add("endX",0),this.add("endY",0),this.add("duration",2e3),this.add("delay",0),this.add("ease","none"),this.add("easePower",1),this.add("loopTimes",0),this.add("loopForever","false")}function RotateActionParams(a){RotateActionParams.prototype.viewName="Rotate",this.binded=a,this.add("degreeState","to"),this.add("degree",1),this.add("direction","1"),this.add("duration",1e3),this.add("delay",0),this.add("ease","none"),this.add("easePower",1),this.add("loopTimes",0),this.add("loopForever","false")}function ScaleActionParams(a){var b=this;ScaleActionParams.prototype.viewName="Scale",this.binded=a,this.add("scaleState","to"),this.add("scale",1),this.add("axis","scale"),this.addComputed("scalePrecents",{read:function(){return b.scale()},write:function(a){b.scale(a)}}),this.add("duration",1e3),this.add("delay",0),this.add("ease","none"),this.add("easePower",1),this.add("loopTimes",0),this.add("loopForever","false")}function AnimActionHandler(){AnimActionHandler.prototype.targetable=!0}function FadeInActionHandler(){FadeInActionHandler.prototype.id="fadeIn",FadeInActionHandler.prototype.displayName="Fade In",FadeInActionHandler.prototype.param=FadeActionParams}function FadeOutActionHandler(){FadeOutActionHandler.prototype.id="fadeOut",FadeOutActionHandler.prototype.displayName="Fade Out",FadeOutActionHandler.prototype.param=FadeActionParams}function ShowActionHandler(){ShowActionHandler.prototype.id="show",ShowActionHandler.prototype.displayName="Show",ShowActionHandler.prototype.param=ShowHideActionParams}function HideActionHandler(){HideActionHandler.prototype.id="hide",HideActionHandler.prototype.displayName="Hide",HideActionHandler.prototype.param=ShowHideActionParams}function MotionActionHandler(){MotionActionHandler.prototype.id="motion",MotionActionHandler.prototype.displayName="Motion",MotionActionHandler.prototype.param=MotionActionParams}function SlideInActionHandler(){SlideInActionHandler.prototype.id="slideIn",SlideInActionHandler.prototype.displayName="Slide In",SlideInActionHandler.prototype.param=MotionActionParams}function SlideOutActionHandler(){SlideOutActionHandler.prototype.id="slideOut",SlideOutActionHandler.prototype.displayName="Slide Out",SlideOutActionHandler.prototype.param=MotionActionParams}function ScaleActionHandler(){ScaleActionHandler.prototype.id="scale",ScaleActionHandler.prototype.displayName="Scale",ScaleActionHandler.prototype.param=ScaleActionParams,ScaleActionHandler.prototype.currentScaleByTarget={}}function RotateActionHandler(){RotateActionHandler.prototype.id="rotate",RotateActionHandler.prototype.displayName="Rotate",RotateActionHandler.prototype.param=RotateActionParams}function ExecAdkitCompCmdParams(a){this.binded=a,this.add("delay",0),this.add("commandParam",""),this.add("command","")}function ExecAdkitCompCmdHandler(){this.command="",this.defaultCommandParam=""}function GetFeedDataActionHandler(){}function Action(){this.actionId="",this.actionParams=null,this.actionHandler=null,this.actionTarget="",this.actionSelf=null,this.actionRef=null,this.actionRepeatDetails=null,this.executed=!1,this.actionType="",this.transformPosStageState={},this.offsetX=null,this.offsetY=null}function SaveFile(a){var a=a,b=InteractionsUtils.getNavigator(),c=function(){if(a){var b=InteractionsUtils.getUrlWithoutParams(a);return b.substring(b.lastIndexOf("/")+1)}return""}(),d=function(a,b){var c="octet-stream",d=new Blob([a],{type:"application/"+c}),e=window.URL.createObjectURL(d);b(d,e)},e=function(b){b=b||function(){};try{var c=new XMLHttpRequest;c.open("GET",a,!0),c.onload=function(a){if(200==this.status){var c=this.response;c&&Blob?d(c,b):b()}else b()},c.onerror=function(a){b()},c.responseType="arraybuffer",c.send()}catch(e){b()}},f=function(a){var b=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},d=document.createElement("a");setTimeout(function(){d.download=c,d.href=a,document.body.appendChild(d),b(d),document.body.removeChild(d),d=null},100)},g=function(){e(function(a,b){a?window.navigator.msSaveOrOpenBlob(a,c):j()})},h=function(){f(a)},i=function(){e(function(a,b){b?f(b):j()})},j=function(){window.open(a,"_blank","menubar=0,titlebar=0")},k=function(){var a={IE:g,webKit:h,FF:i,safari:j,operaMini:j,ios_safari:j,"default":j},c=a[b];return c?c:j};return k()}function Interaction(){this.interactionId="",this.eventId="",this.actions=[],this.loopDDvalue=INTERACTIONS_CONSTS.LOOP_TIMES.ONCE,this.loopTimes=0,this.eventParams,this.totalDuration=0,this.loopTracker={countIterations:0,numOfEndedActions:0},this.status=INTERACTIONS_CONSTS.INTERACTION_STATE.STOPPED,this.targetOriginState={},this.firstTime=!0}function ShowNextSlideActionHandler(){}function ShowPreviousSlideActionHandler(){}function PlaySlideShowActionHandler(){}function StopSlideShowActionHandler(){}function GotoSlideActionHandler(){}function InStreamDisableAutoCloseActionParams(a){this.binded=a,this.add("delay",0)}function InStreamCloseAdActionParams(a){this.binded=a,this.add("delay",0)}function InStreamSkipAdActionParams(a){this.binded=a,this.add("delay",0)}function InStreamDisableAutoCloseActionHandler(){InStreamDisableAutoCloseActionHandler.prototype.id="disableAutoClose",InStreamDisableAutoCloseActionHandler.prototype.displayName="Disable Auto Close",InStreamDisableAutoCloseActionHandler.prototype.param=InStreamDisableAutoCloseActionParams}function InStreamCloseAdActionHandler(){InStreamCloseAdActionHandler.prototype.id="closeAd",InStreamCloseAdActionHandler.prototype.displayName="Close Ad",InStreamCloseAdActionHandler.prototype.param=InStreamCloseAdActionParams}function InStreamSkipAdActionHandler(){InStreamSkipAdActionHandler.prototype.id="skipAd",InStreamSkipAdActionHandler.prototype.displayName="Skip Ad",InStreamSkipAdActionHandler.prototype.param=InStreamSkipAdActionParams}Object.defineProperty(this,"INTERACTIONS_CONSTS",{writable:!1,configurable:!1,value:new function(){function a(){for(var a in c)Object.defineProperty(b,a,{configurable:!1,writable:!1,value:c[a]});c=null}var b=this,c={TARGET_SELF:"_Self",TARGET_TYPE_INTERACTION:"interaction",INTERACTIONS_VERSION:"1_23_0",LOOP_TIMES:{ONCE:"once",FOREVER:"forever",OTHER:"other"},INTERACTION_STATE:{EXECUTING:"executing",STOPPED:"stopped",PAUSED:"paused"},INTERACTION_EVENT_TYPE:{USER:"user",AUTO:"auto"},AUTO_EVENTS_LIST:["adLoad","visible","notVisible"]};a()}}),window.InteractionsUtils=window.InteractionsUtils||{},InteractionsUtils.fixURL=function(a){return""!==a&&0!==a.indexOf("http")?"http://"+a:a},InteractionsUtils.getUrlAsset=function(a){return a?"string"==typeof a&&0==a.search(/^https?:\/\//)?a:a==parseInt(a)?EB.getAssetUrl("",a):EB.getAssetUrl(a):""},InteractionsUtils.ifValidAsset=function(a,b){var c=this.getUrlWithoutParams(b);return a.indexOf(c.slice(c.lastIndexOf(".")+1))},InteractionsUtils.getUrlWithoutParams=function(a){return a.split(/[?#]/)[0]},InteractionsUtils.stopPropagation=function(a){a||(a=window.event),a.cancelBubble?a.cancelBubble=!0:a.stopPropagation()},InteractionsUtils.getInternetExplorerVersion=function(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}return a},InteractionsUtils.getIntersection=function(a,b){var c={};return c.intersect=!(a.right<b.left||b.right<a.left||a.bottom<b.top||b.bottom<a.top),c.intersect&&(c.rect={left:Math.max(a.left,b.left),top:Math.max(a.top,b.top),right:Math.min(a.right,b.right),bottom:Math.min(a.bottom,b.bottom)}),c},InteractionsUtils.isIOS=function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1},InteractionsUtils.dispatchEvent=function(a,b,c){var d=document.createEvent("HTMLEvents");d.initEvent(b,!1,!1),d.data=c,a.dispatchEvent(d)},InteractionsUtils.bindEvent=function(a,b,c){a&&b&&c&&a.addEventListener&&a.addEventListener(b,c)},InteractionsUtils.isSafari=function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("safari")&&-1==a.indexOf("chrome")},InteractionsUtils.fixSafariVisibility=function(a){if(InteractionsUtils.isSafari()&&a.find("iframe").length>0){var b=a.css("visibility");"hidden"===b?a.css("clip","rect(0px,0px,0px,0px)"):a.css("clip","auto")}},InteractionsUtils.setDisplay=function(a,b){a.css("display",b)},InteractionsUtils.setVisibility=function(a,b){a.css("visibility",b),InteractionsUtils.fixSafariVisibility(a)},InteractionsUtils.getNavigator=function(){if(window.operamini)return"operaMini";var a=document.createElement("a"),b="download"in a;if(a=null,b){var c=/firefox/i.test(navigator.userAgent);return c?"FF":"webKit"}var d=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),e=/CriOS\/[\d]+/.test(navigator.userAgent),f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;return!d||e||f?d&&(e||f)?"safari_ios":window.navigator.msSaveOrOpenBlob?"IE":"default":"safari"},InteractionsUtils.gerScaleRotateOfElem=function(a){var b=a.css("transform"),c=0,d=1,e=1,f=1;if(b&&"none"!==b){var g=b.split("(")[1].split(")")[0].split(","),h=Math.atan2(g[1],g[0]),i=Math.round(h*(180/Math.PI));c=0>i?i+360:i;var j=parseFloat(Number(g[0])),k=parseFloat(Number(g[1]));d=Math.sqrt(j*j+k*k);var l=g[0]>=0?1:-1;e=l*Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2)),e=Math.abs(e);var m=g[3]>=0?1:-1;f=m*Math.sqrt(Math.pow(g[2],2)+Math.pow(g[3],2)),f=Math.abs(f)}else i=+a.get(0).style.transform.match(/(\d+)/)[0];return{scale:d,scaleX:e,scaleY:f,rotation:c,originalRotation:i}},InteractionsUtils.getAngelIncline=function(a,b,c,d){var e=180*Math.atan2(d-b,c-a)/Math.PI;return e},InteractionsUtils.getDistanceByToPoints=function(a,b,c,d){var e=a-c,f=b-d,g=Math.sqrt(e*e+f*f);return g},window.InterTransformUtils=window.InterTransformUtils||{},InterTransformUtils.transformXYAnimationId={start:["motion","slideIn"],end:["motion","slideOut"]},InterTransformUtils.isRotateTransformation=function(a){return a.rotation>0},InterTransformUtils.toTransformXYAnimation=function(a,b){return InterTransformUtils.transformXYAnimationId[a].some(function(a){return a===b})},InterTransformUtils.transformRotateXY=function(a,b,c,d){if(InterTransformUtils.isRotateTransformation(d)){var e=parseInt(d.position.left),f=parseInt(d.position.top),g=InterTransformUtils.getXYByAngelAndLen(e+c.width()/2,f+c.height()/2,e,f,d.rotation),h=parseInt(e)+c.width()/2+a-g.x,i=parseInt(f)+c.height()/2+b-g.y;return InterTransformUtils.getXYToSetByAngelAndLen(h,i,a,b,d.rotation)}return{x:a,y:b}},InterTransformUtils.getXYToSetByAngelAndLen=function(a,b,c,d,e){var f=InteractionsUtils.getDistanceByToPoints(a,b,c,d),g=InteractionsUtils.getAngelIncline(a,b,c,d),h=(g-e)/180*Math.PI,i=a+f*Math.cos(h),j=b+f*Math.sin(h);return{x:Math.round(i),y:Math.round(j)}},InterTransformUtils.getXYByAngelAndLen=function(a,b,c,d,e){var f=InteractionsUtils.getDistanceByToPoints(a,b,c,d),g=InteractionsUtils.getAngelIncline(a,b,c,d),h=(g+e)/180*Math.PI,i=a+f*Math.cos(h),j=b+f*Math.sin(h);return{x:Math.round(i),y:Math.round(j)}},Timer.prototype=function(){var a=function(){this.played()&&new Date-this.start<=this.remaining&&(this.status="paused",window.clearTimeout(this.timerId),this.remaining-=new Date-this.start)},b=function(){!this.played()&&this.remaining>=0&&(this.status="played",this.start=new Date,this.timerId=window.setTimeout(this.cb,this.remaining))},c=function(){window.clearTimeout(this.timerId),this.timerId=-1,this.start="",this.remaining=this.delay,this.status=""},d=function(){return"played"===this.status},e=function(){return"paused"===this.status},f=function(){return this.remaining};return{play:b,pause:a,paused:e,played:d,kill:c,remaining:f}}(),ActionParams.prototype.add=function(a,b){this.binded?this[a]=ko.observable(b):this[a]=b},ActionParams.prototype.addArray=function(a,b){this.binded?this[a]=ko.observableArray(b):this[a]=b},ActionParams.prototype.addComputed=function(a,b){this.binded&&(this[a]=ko.pureComputed(b,this))},ActionParams.prototype.get=function(a){return this.binded&&this[a]?this[a]():this[a]},ActionParams.prototype.getInt=function(a){return this.get(a)?parseInt(this.get(a),10)||0:0},ActionParams.prototype.getEndTime=function(){var a=this.getInt("delay"),b=this.getInt("duration");return a+b},ActionParams.prototype.getAssets=function(){var a=this.get("assets");return void 0!==a?a:[]},ActionParams.prototype.set=function(a,b){this.binded?this[a](b):this[a]=b},ActionParams.prototype.getJSON=function(a){var b={};b.version=this.version;for(var c in this)if("function"==typeof this[c]&&ko.isObservable(this[c])&&!this[c].internal){var d=this.get(c);b[c]="function"==typeof d.getJSON?d.getJSON(a):d}return b},ActionParams.prototype.getConfigJSON=function(a){var b={};b.version=this.version;for(var c in this)if("function"==typeof this[c]&&ko.isObservable(this[c])&&!this[c].internal){var d=this.get(c);b[c]="function"==typeof d.getConfigJSON?d.getConfigJSON(a,this.configPropsData.data):d}return b},ActionParams.prototype.initFromJSON=function(a){this.version=a.version;var b;if(this.binded)for(b in this)"undefined"!=typeof a[b]&&"function"==typeof this[b]&&ko.isObservable(this[b])&&("function"==typeof this[b]().initFromJSON?this[b]().initFromJSON(a[b]):this[b](a[b]));else for(b in this)"binded"!==b&&"version"!==b&&"function"!=typeof this[b]&&(this[b]=a[b])},ActionParams.prototype.copy=function(){var a=new this.constructor(!0);for(var b in this)"function"==typeof this[b]&&ko.isObservable(this[b])&&("function"==typeof a[b]().copy?a[b]().copy(this[b]()):a[b](this[b]()));return a},ActionParams.setAssetsHelper=function(a){ActionParams.assetsHelper=a},ActionParams.getAssetsHelper=function(){return ActionParams.assetsHelper},ActionHandler.prototype.init=function(){},ActionHandler.prototype.prepare=function(){},ActionHandler.prototype.saveStageState=function(){},ActionHandler.prototype.play=function(a,b,c,d){var e=a.getActionParams(),f=a.getActionTarget(),g=a.getActionType(),h=a.getActionRefereance();if(h&&h.paused())return h.play(),h;if(a.executed)return void this.onComplete(c,a);if(e.validate()&&!a.getActionRefereance())if(a.executed=!0,0===e.get("delay")){var i=d.call(this,e,f,g);i&&this.onComplete(c,a)}else{var j=this;h=new Timer(function(){var b=d.call(j,e,f,g);b&&j.onComplete(c,a)},e.get("delay")),a.actionRef=h}return h},ActionHandler.prototype.pause=function(a){var b=a.getActionRefereance();b&&b.played()&&b.pause()},ActionHandler.prototype.stop=function(a,b){a.executed=!1,a.getActionHandler().returnToOriginState(a,b)},ActionHandler.prototype.getParams=function(a){return this.param?new this.param(a):null},ActionHandler.prototype.returnToOriginState=function(a){a.getActionRefereance()&&(a.getActionRefereance().kill(),a.actionRef=null)},ActionHandler.prototype.onComplete=function(a,b){b&&(b.executed=!1,b.getActionRefereance()&&(b.getActionRefereance().kill(),b.actionRef=null)),void 0!==a&&a(this)},ActionHandler.prototype.openLink=function(a){InteractionsUtils.isIOS()?window.open(a,"_top"):window.open(a)};var ActionHandlersFactory=new function(){function a(a){b[a.data.id]=a.data}var b={};this.getActionHandler=function(a){var c=a.split(".");return b[c[0]].getActionHandler(c[1])},this.getDesc=function(){var a=[];for(var c in b)a.push(b[c].getDesc());return a},InteractionsUtils.bindEvent(window,"registerActionGroupEvent",a)};ActionsGroup.prototype.getActionHandler=function(a){return this.actionsHandlers[a]},ActionsGroup.prototype.addHandler=function(a){var b=new a;this.actionsHandlers[b.id]=b},ActionsGroup.prototype.getDesc=function(){var a={text:this.displayName,children:[]};for(var b in this.actionsHandlers)a.children.push({text:this.actionsHandlers[b].displayName,id:this.id+"."+this.actionsHandlers[b].id});return a},GotoURLActionParams.prototype=new ActionParams("1.0.0"),GotoURLActionParams.prototype.constructor=GotoURLActionParams,GotoURLActionParams.prototype.validate=function(){var a=this.get("target"),b=this.get("width"),c=this.get("height");return("newWindow"===a||"curWindow"===a||"newTab"===a)&&void 0!==this.get("left")&&void 0!==this.get("top")&&void 0!==b&&void 0!==c&&void 0!==this.get("closeAllAdParts")&&this.get("delay")>=0},GotoURLActionHandler.prototype=new ActionHandler,GotoURLActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.gotoURL)},GotoURLActionHandler.prototype.gotoURL=function(a,b){var c=a.get("target"),d=a.get("url"),e=InteractionsUtils.fixURL(d);if("undefined"!=typeof EB&&EB&&EB._adConfig){var f={jumpUrl:e,windowWasOpen:!0,clickInt:{target:"curWindow"===c?"_self":"_blank",yPos:"newTab"===c?"":parseInt(a.get("top")),xPos:"newTab"===c?"":parseInt(a.get("left")),width:"newTab"===c?"":parseInt(a.get("width")),height:"newTab"===c?"":parseInt(a.get("height")),showAddressBar:a.get("location"),showMenuBar:a.get("menubar")}};return"curWindow"===c?void window.open(e,"_top"):(EB._openWindowOrRedirect(f),a.get("closeAllAdParts")&&$(window).trigger("closeAllAdPartsEvent"),!0)}return"newWindow"===c?(window.open(e,"_blank"," location="+(a.get("location")?"yes":"no")+", menubar="+(a.get("menubar")?"yes":"no")+", left="+a.get("left")+", top="+a.get("top")+", width="+a.get("width")+", height="+a.get("height")),a.get("closeAllAdParts")&&$(window).trigger("closeAllAdPartsEvent"),!0):(this.openLink(e),!0)},CustomClickThroughActionParams.prototype=new GotoURLActionParams,CustomClickThroughActionParams.prototype.constructor=CustomClickThroughActionParams,CustomClickThroughActionHandler.prototype=new GotoURLActionHandler,CustomClickThroughActionHandler.prototype.gotoURL=function(a,b){var c=this,d={fClick:!0,fClose:a.get("closeAllAdParts"),jumpUrl:a.get("url"),target:"curWindow"===a.get("target")?"_self":a.get("target"),height:"newTab"===a.get("target")?void 0:parseInt(a.get("height"),10),width:"newTab"===a.get("target")?void 0:parseInt(a.get("width"),10),xPos:"newTab"===a.get("target")?void 0:parseInt(a.get("left"),10),yPos:"newTab"===a.get("target")?void 0:parseInt(a.get("top"),10)};return $(window).trigger("customClickThroughEvent",{name:a.get("name"),url:a.get("url"),ctObj:d,caller:c,params:a}),a.get("closeAllAdParts")&&$(window).trigger("closeAllAdPartsEvent"),!0},TriggerCTActionParams.prototype=new ActionParams("1.0.0"),TriggerCTActionParams.prototype.constructor=TriggerCTActionParams,TriggerCTActionParams.prototype.validate=function(){return this.get("delay")>=0},TriggerCTActionHandler.prototype=new ActionHandler,TriggerCTActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.triggerCT)},TriggerCTActionHandler.prototype.triggerCT=function(a,b){return $(window).trigger("clickThroughEvent"),!0},CustInterActionParams.prototype=new ActionParams("1.0.0"),CustInterActionParams.prototype.constructor=CustInterActionParams,CustInterActionParams.prototype.validate=function(){return $.trim(this.get("name"))},CustInterActionHandler.prototype=new ActionHandler,CustInterActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.custInter)},CustInterActionHandler.prototype.custInter=function(a,b){return $(window).trigger("customInteractionEvent",a.get("name")),!0},function(){function a(){this.addHandler(TriggerCTActionHandler),this.addHandler(CustomClickThroughActionHandler),this.addHandler(CustInterActionHandler),this.addHandler(GotoURLActionHandler)}a.prototype=new ActionsGroup("urlActions","URL Actions"),InteractionsUtils.dispatchEvent(window,"registerActionGroupEvent",new a)}(),VideoActionParams.prototype=new ActionParams("1.0.0"),VideoActionParams.prototype.constructor=VideoActionParams,VideoActionParams.prototype.validate=function(){return this.get("delay")>=0},VideoBaseActionHandler.prototype=new ActionHandler,VideoBaseActionHandler.prototype.execute=function(a,b,c){var d=a.getActionTarget(),e=adkit.$(d);return e?(this.videoObj=e,this.videoObjType="adkitComp"):adkit.vpaid&&(this.videoObj=adkit.vpaid,this.videoObjType="adkitVpaid"),this.handler&&this.videoObj?ActionHandler.prototype.play.call(this,a,b,c,this.handler):void c.call(this,this)},VideoBaseActionHandler.prototype.handler=null,VideoPlayActionHandler.prototype=new VideoBaseActionHandler,VideoPlayActionHandler.prototype.execute=function(a,b,c){if(VideoBaseActionHandler.prototype.execute.call(this,a,b,c),this.videoObj){var d=a.getActionParams();return(d.get("delay")>=0&&0===this.videoObj.currentTime||"undefined"===this.videoObj.currentTime)&&this.videoObj.load(),ActionHandler.prototype.play.call(this,a,b,c,this.videoPlay)}},VideoPlayActionHandler.prototype.videoPlay=function(a,b){return this.videoObj.play(),!0},VideoStopActionHandler.prototype=new VideoBaseActionHandler,VideoStopActionHandler.prototype.handler=function(a,b){return"adkitVpaid"===this.videoObjType||"adkitComp"===this.videoObjType?(this.videoObj.stop(),!0):"htmlTag"===this.videoObjType?(this.videoObj.pause(),this.videoObj.currentTime=0,!0):void 0},VideoPauseActionHandler.prototype=new VideoBaseActionHandler,VideoPauseActionHandler.prototype.handler=function(a,b){return this.videoObj.pause(),!0},VideoReplayActionHandler.prototype=new VideoBaseActionHandler,VideoReplayActionHandler.prototype.handler=function(a,b){return"adkitVpaid"===this.videoObjType||"adkitComp"===this.videoObjType?(this.videoObj.stop(),this.videoObj.play(),!0):"htmlTag"===this.videoObjType?(this.videoObj.currentTime=0,this.videoObj.play(),!0):void 0},VideoMuteActionHandler.prototype=new VideoBaseActionHandler,VideoMuteActionHandler.prototype.handler=function(a,b){return"adkitVpaid"===this.videoObjType||"htmlTag"===this.videoObjType?(this.videoObj.muted=!0,!0):"adkitComp"===this.videoObjType?(this.videoObj.mute(),!0):void 0},VideoUnmuteActionHandler.prototype=new VideoBaseActionHandler,VideoUnmuteActionHandler.prototype.handler=function(a,b){return"adkitVpaid"===this.videoObjType||"htmlTag"===this.videoObjType?(this.videoObj.muted=!1,!0):"adkitComp"===this.videoObjType?(this.videoObj.unmute(),!0):void 0},function(){function a(){this.addHandler(VideoPlayActionHandler),this.addHandler(VideoStopActionHandler),this.addHandler(VideoPauseActionHandler),this.addHandler(VideoReplayActionHandler),this.addHandler(VideoMuteActionHandler),this.addHandler(VideoUnmuteActionHandler)}a.prototype=new ActionsGroup("videoActions","Video Actions"),InteractionsUtils.dispatchEvent(window,"registerActionGroupEvent",new a);
}(),CallNumberActionParams.prototype=new ActionParams("1.0.0"),CallNumberActionParams.prototype.constructor=CallNumberActionParams,CallNumberActionParams.prototype.validate=function(){return $.trim(this.get("number"))},CallNumberActionHandler.prototype=new ActionHandler,CallNumberActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.callNumber)},CallNumberActionHandler.prototype.callNumber=function(a,b){var c="tel:"+a.get("number"),d={jumpUrl:c,windowWasOpen:!0};if("undefined"!=typeof EB&&EB&&EB.getSDKData()){var d={jumpUrl:c,windowWasOpen:!0};EB._openWindowOrRedirect(d)}else this.openLink(c);return!0},SMSNumberActionParams.prototype=new ActionParams("1.0.0"),SMSNumberActionParams.prototype.constructor=SMSNumberActionParams,SMSNumberActionParams.prototype.validate=function(){return $.trim(this.get("number"))},SMSNumberActionHandler.prototype=new ActionHandler,SMSNumberActionHandler.prototype.execute=function(a,b,c){var d=a.getActionParams(),e=d.get("fallbackToEmail");return e&&InteractionsUtils.isIOS()?void EmailActionHandler.prototype.execute(a,b,c):ActionHandler.prototype.play.call(this,a,b,c,this.smsNumber)},SMSNumberActionHandler.prototype.smsNumber=function(a,b){var c="sms:"+a.get("number");if(InteractionsUtils.isIOS()||(c+="?body="+a.get("body")),"undefined"!=typeof EB&&EB&&EB.getSDKData()){var d={jumpUrl:c,windowWasOpen:!0};EB._openWindowOrRedirect(d)}else this.openLink(c);return!0},InteractionPauseActionParams.prototype=new ActionParams("1.0.0"),InteractionPauseActionParams.prototype.constructor=InteractionPauseActionParams,InteractionPauseActionParams.prototype.validate=function(){return this.get("delay")>=0},InteractionStartActionParams.prototype=new ActionParams("1.0.0"),InteractionStartActionParams.prototype.constructor=InteractionStartActionParams,InteractionStartActionParams.prototype.validate=function(){return this.get("delay")>=0},InteractionStopActionParams.prototype=new ActionParams("1.0.0"),InteractionStopActionParams.prototype.constructor=InteractionStopActionParams,InteractionStopActionParams.prototype.validate=function(){return this.get("delay")>=0},InteractionPauseActionHandler.prototype=new ActionHandler,InteractionPauseActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.interactionPause)},InteractionPauseActionHandler.prototype.interactionPause=function(a,b){return InteractionsMgr.pauseInteraction(b),!0},InteractionStartActionHandler.prototype=new ActionHandler,InteractionStartActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.interactionStart)},InteractionStartActionHandler.prototype.interactionStart=function(a,b){return InteractionsMgr.startInteraction(b,a.get("interrupt")),!0},InteractionStopActionHandler.prototype=new ActionHandler,InteractionStopActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.interactionStop)},InteractionStopActionHandler.prototype.interactionStop=function(a,b){return InteractionsMgr.stopInteraction(b),!0},EmailActionParams.prototype=new ActionParams("1.0.0"),EmailActionParams.prototype.constructor=EmailActionParams,EmailActionParams.prototype.validate=function(){return $.trim(this.get("recipient"))},EmailActionHandler.prototype=new ActionHandler,EmailActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.email)},EmailActionHandler.prototype.email=function(a,b){var c=$.trim(a.get("cc")),d=a.get("subject"),e=a.get("body"),f="mailto:"+$.trim(a.get("recipient"))+(c?"?cc="+c+"&":"?")+(d?"subject="+d+"&":"")+(e?"body="+e:"");if("undefined"!=typeof EB&&EB&&EB.getSDKData()){var g={jumpUrl:f,windowWasOpen:!0};EB._openWindowOrRedirect(g)}else this.openLink(f);return!0},function(){function a(){this.addHandler(CallNumberActionHandler),this.addHandler(SMSNumberActionHandler),this.addHandler(EmailActionHandler)}a.prototype=new ActionsGroup("mobileActions","Mobile Actions"),InteractionsUtils.dispatchEvent(window,"registerActionGroupEvent",new a)}(),RunJsActionHandler.prototype=new ActionHandler,RunJsActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.runJs)},RunJsActionHandler.prototype.runJs=function(a,b){var c=RunJsActionHandler.prototype.runScript(a,b);return c===!0?!0:void 0},RunJsActionHandler.prototype.runScript=function(params,target){var script=params.get("scriptString");script="(function () {\n"+script+"\n} )()";try{return eval(script),!0}catch(e){console.log(e)}},RunJsActionParams.prototype=new ActionParams("1.0.0"),RunJsActionParams.prototype.constructor=RunJsActionParams,RunJsActionParams.prototype.validate=function(){return $.trim(this.get("scriptString"))},DownloadActionParams.prototype=new ActionParams("1.0.0"),DownloadActionParams.prototype.constructor=DownloadActionParams,DownloadActionParams.prototype.validate=function(){if(this.assets.fAsset){var a=this.extensions||[],b=InteractionsUtils.getUrlAsset(this.assets.fAsset);return this.delay>=0&&-1!=InteractionsUtils.ifValidAsset(a,b)?!0:!1}return!1},DownloadActionHandler.prototype=new ActionHandler,DownloadActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.download)},DownloadCalendarActionParams.prototype=new DownloadActionParams,DownloadCalendarActionParams.prototype.constructor=DownloadCalendarActionParams,DownloadCalendarActionHandler.prototype=new DownloadActionHandler,DownloadCalendarActionHandler.prototype.download=function(a){var b=a.name;""!=b&&$(window).trigger("customInteractionEvent",b);var c=a.assets.fAsset,d=InteractionsUtils.getUrlAsset(c);return setTimeout(function(){window.open(d,"_self")},100),!0},DownloadFileActionParams.prototype=new DownloadActionParams,DownloadFileActionParams.prototype.constructor=DownloadFileActionParams,DownloadFileActionHandler.prototype=new DownloadActionHandler,DownloadFileActionHandler.prototype.download=function(a){var b=a.name;return""!=b&&$(window).trigger("customInteractionEvent",b),a.downloadAssetHand(),!0},function(){function a(){this.addHandler(RunJsActionHandler),this.addHandler(DownloadCalendarActionHandler),this.addHandler(DownloadFileActionHandler)}a.prototype=new ActionsGroup("customActions","Custom Actions"),InteractionsUtils.dispatchEvent(window,"registerActionGroupEvent",new a)}(),ExpandCollapseActionParams.prototype=new ActionParams("1.0.0"),ExpandCollapseActionParams.prototype.constructor=ExpandCollapseActionParams,ExpandCollapseActionParams.prototype.validate=function(){return this.get("delay")>=0},ExpandFullScreenActionParams.prototype=new ActionParams("1.0.0"),ExpandFullScreenActionParams.prototype.constructor=ExpandFullScreenActionParams,ExpandFullScreenActionParams.prototype.validate=function(){var a=this.get("opacity").replace("%",""),b=this.get("closeButtonPosition"),c=this.get("fillType"),d=this.get("gradientPercent");return this.get("delay")>=0&&a>=0&&100>=a&&("solid"===c||"gradient"===c||"image"===c)&&("topLeft"===b||"topRight"===b||"bottomLeft"===b||"bottomRight"===b)&&d>=0&&200>=d},ExpandCollapseAnimActionParams.prototype=new ActionParams("1.0.0"),ExpandCollapseAnimActionParams.prototype.constructor=ExpandCollapseAnimActionParams,ExpandCollapseAnimActionParams.prototype.validate=function(){return this.get("delay")>=0},ExpandCollapseAnimActionHandler.prototype=new ActionHandler,ExpandCollapseAnimActionHandler.prototype.parseExpandData=function(a,b,c,d){var e=null;return b&&adkit.getPanelInfoById(b)&&(e={target:b,actionType:c},0!==parseInt(a.duration)&&adkit.getPanelInfoById(b).height>0&&adkit.getPanelInfoById(b).width>0&&("none"===a.ease&&(a.ease="linear"),e.animate=this.getDataAnimateObjectPosition(b,a.position,d),e.animate.duration=parseInt(a.duration),e.animate.easing=a.ease,a.fade&&(e.animate.init.opacity=d?1:0,e.animate.opacity=d?0:1)),e.expandTo=this.getExpansionData(b,a.expandTo)),e},ExpandCollapseAnimActionHandler.prototype.getExpansionData=function(a,b){var c={},d=adkit.getPanelInfoById(a),e="1000000%",f=function(){var a={"Page relative-Percentage":0,"Banner relative":1,"Page relative-Pixels":2};return a[d.positionType]};if(d.responsive){var g=f();"fullWidth"==b?c={width:"100%",maxHeight:e,top:d.Y,posTypeY:g,left:d.X,posTypeX:g}:"fullHeight"==b&&(c={height:"100%",maxWidth:e,left:d.X,posTypeX:g,top:d.Y,posTypeY:g})}return c},ExpandCollapseAnimActionHandler.prototype.getDataAnimateObjectPosition=function(a,b,c){var d={init:{}};if(b){var e="100%",f="100%";switch(b){case"top":c?d.clip="rect("+e+f+","+e+",0px)":d.init.clip="rect(0px,"+f+",0px,0px)";break;case"topLeft":c?d.clip="rect("+e+","+f+","+e+","+f+")":d.init.clip="rect(0px,0px,0px,0px)";break;case"topRight":c?d.clip="rect("+e+",0px,"+e+",0px)":d.init.clip="rect(0px,"+f+",0px,"+f+")";break;case"left":c?d.clip="rect(0px,"+f+","+e+","+f+"px)":d.init.clip="rect(0px,0px,"+e+",0px)";break;case"right":c?d.clip="rect(0px,0px,"+e+",0px)":d.init.clip="rect(0px,"+f+","+e+","+f+")";break;case"bottomLeft":c?d.clip="rect(0px,"+f+",0px,"+f+")":d.init.clip="rect("+e+",0px,"+e+",0px)";break;case"bottomRight":c?d.clip="rect(0px,0px,0px,0px)":d.init.clip="rect("+e+","+f+","+e+","+f+")";break;case"bottom":c?d.clip="rect(0px,"+f+",0px,0px)":d.init.clip="rect("+e+f+","+e+",0px)"}c||(d.clip="rect(0px,"+f+","+e+",0px)")}return d},ExpandActionHandler.prototype=new ExpandCollapseAnimActionHandler,ExpandActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.expand)},ExpandActionHandler.prototype.expand=function(a,b,c){var d=this.parseExpandData(a,b,c);return(d||"SingleExpandable"===adkit.getAdInfo().adType)&&$(window).trigger("expandEvent",d),!0},ExpandFullScreenActionHandler.prototype=new ActionHandler,ExpandFullScreenActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.expandFullScreen)},ExpandFullScreenActionHandler.prototype.expandFullScreen=function(a,b,c){var d={target:b,actionType:c,fillType:a.fillType,opacity:a.opacity.replace("%",""),solidColor:a.solidColor,gradientFirstColor:a.gradientFirstColor,gradientSecondColor:a.gradientSecondColor,gradientPercent:a.gradientPercent,assets:a.assets,showCloseBtn:a.showCloseButton,closeBtnPos:a.closeButtonPosition,closeBtnStyle:a.closeButtonStyle};return $(window).trigger("expandFullScreenEvent",d),!0},ExpandFullScreenActionHandler.prototype.onComplete=function(a,b){ActionHandler.prototype.onComplete.call(this,a,b)},CollapseActionHandler.prototype=new ExpandCollapseAnimActionHandler,CollapseActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.collapse)},CollapseActionHandler.prototype.collapse=function(a,b,c){var d=this.parseExpandData(a,b,c,!0);return(d||"SingleExpandable"===adkit.getAdInfo().adType)&&$(window).trigger("collapseEvent",d),!0},ExpandPushdownActionHandler.prototype=new ExpandCollapseAnimActionHandler,ExpandPushdownActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.pushdown)},ExpandPushdownActionHandler.prototype.pushdown=function(a,b,c){var d=this.parseExpandData(a,b,c);return d&&$(window).trigger("expandPushdownEvent",d),!0},function(){function a(){this.addHandler(ExpandActionHandler),this.addHandler(ExpandFullScreenActionHandler),this.addHandler(ExpandPushdownActionHandler),this.addHandler(CollapseActionHandler)}a.prototype=new ActionsGroup("expandable","Expandable"),InteractionsUtils.dispatchEvent(window,"registerActionGroupEvent",new a)}(),function(){function a(){this.addHandler(InteractionPauseActionHandler),this.addHandler(InteractionStartActionHandler),this.addHandler(InteractionStopActionHandler)}a.prototype=new ActionsGroup("sequence","Sequence"),InteractionsUtils.dispatchEvent(window,"registerActionGroupEvent",new a)}(),FadeActionParams.prototype=new ActionParams("1.0.0"),FadeActionParams.prototype.constructor=FadeActionParams,FadeActionParams.prototype.validate=function(){var a=this.get("ease"),b=this.get("easePower"),c=this.get("loopTimes"),d=this.get("loopForever");return this.get("duration")>=0&&this.get("delay")>=0&&("none"===a||"easeIn"===a||"easeOut"===a||"easeInOut"===a)&&b>=1&&4>=b&&("false"===d&&c>=0&&99>=c||"true"===d)},ShowHideActionParams.prototype=new ActionParams("1.0.0"),ShowHideActionParams.prototype.constructor=ShowHideActionParams,ShowHideActionParams.prototype.validate=function(){return this.get("delay")>=0},MotionActionParams.prototype=new ActionParams("1.0.0"),MotionActionParams.prototype.constructor=MotionActionParams,MotionActionParams.prototype.validate=function(){var a=this.get("ease"),b=this.get("easePower"),c=this.get("loopTimes"),d=this.get("loopForever");return void 0!==this.get("startX")&&void 0!==this.get("startY")&&void 0!==this.get("endX")&&void 0!==this.get("endY")&&this.get("duration")>=0&&this.get("delay")>=0&&("none"===a||"easeIn"===a||"easeOut"===a||"easeInOut"===a)&&b>=1&&4>=b&&("false"===d&&c>=0&&99>=c||"true"===d)};var fixJson=function(a){return this.targetElem&&(a.startX=a.startX-this.targetElem.offsetX(),a.startY=a.startY-this.targetElem.offsetY(),a.endX=a.endX-this.targetElem.offsetX(),a.endY=a.endY-this.targetElem.offsetY(),a.targetOffset={X:this.targetElem.offsetX(),Y:this.targetElem.offsetY()}),a};MotionActionParams.prototype.getJSON=function(a){var b=ActionParams.prototype.getJSON.call(this,a);return b=fixJson.call(this,b)},MotionActionParams.prototype.getConfigJSON=function(a){var b=ActionParams.prototype.getConfigJSON.call(this,a);return b=fixJson.call(this,b)},MotionActionParams.prototype.initFromJSON=function(a){a.targetOffset&&this.binded&&(a.startX=a.startX+a.targetOffset.X,a.startY=a.startY+a.targetOffset.Y,a.endX=a.endX+a.targetOffset.X,a.endY=a.endY+a.targetOffset.Y),ActionParams.prototype.initFromJSON.call(this,a)},RotateActionParams.prototype=new ActionParams("1.0.0"),RotateActionParams.prototype.constructor=RotateActionParams,RotateActionParams.prototype.validate=function(){var a=this.get("degreeState"),b=this.get("ease"),c=this.get("easePower"),d=this.get("degree"),e=this.get("loopTimes"),f=this.get("loopForever");return this.get("duration")>=0&&this.get("delay")>=0&&(0>d||d>9999||"to"===a||"by"===a||"none"===b||"easeIn"===b||"easeOut"===b||"easeInOut"===b)&&c>=1&&4>=c&&("false"===f&&e>=0&&99>=e||"true"===f)},RotateActionParams.prototype.initFromJSON=function(a){ActionParams.prototype.initFromJSON.call(this,a),void 0===a.degreeState&&(this.binded?this.degreeState("by"):this.degreeState="by")},ScaleActionParams.prototype=new ActionParams("1.0.0"),ScaleActionParams.prototype.constructor=ScaleActionParams,ScaleActionParams.prototype.validate=function(){var a=this.get("scaleState"),b=this.get("axis"),c=this.get("ease"),d=this.get("easePower"),e=this.get("scale"),f=this.get("loopTimes"),g=this.get("loopForever");return this.get("duration")>=0&&this.get("delay")>=0&&!(0>e||e>1e3)&&("to"===a||"by"===a)&&("none"===c||"easeIn"===c||"easeOut"===c||"easeInOut"===c)&&("scale"===b||"scaleX"===b||"scaleY"===b)&&d>=1&&4>=d&&("false"===g&&f>=0&&99>=f||"true"===g)},ScaleActionParams.prototype.initFromJSON=function(a){ActionParams.prototype.initFromJSON.call(this,a),void 0===a.scaleState&&(this.binded?this.scaleState("by"):this.scaleState="by")},AnimActionHandler.prototype=new ActionHandler,AnimActionHandler.prototype.targetStageState={},AnimActionHandler.prototype.offsetX=0,AnimActionHandler.prototype.offsetY=0,AnimActionHandler.prototype.init=function(a,b,c,d){AnimActionHandler.prototype.offsetX=c,AnimActionHandler.prototype.offsetY=d},AnimActionHandler.prototype.saveStageState=function(a,b){$("#"+b).length&&this.addToTargetStageState(a,b)},AnimActionHandler.prototype.prepare=function(a,b){},AnimActionHandler.prototype.getAnimParams=function(a){return{overwrite:0,onStart:this.onStartHandler,onStartParams:[this,a],onComplete:this.onCompleteHandler,onCompleteParams:[this,a]}},AnimActionHandler.prototype.onStartHandler=function(a,b,c){if(0===a.targetStageState[b].inProgress){var d=$("#"+b+" video");null!==d&&(a.targetStageState[b].controls||(a.targetStageState[b].controls=d.attr("controls")),d.attr("controls",null))}if(a.targetStageState[b].inProgress++,c){var e=c.getActionParams();a.prepare(e,b,c)}},AnimActionHandler.prototype.onCompleteHandler=function(a,b,c,d){var e=b.getActionTarget();if($("#"+e).length){if(1===a.targetStageState[e].inProgress){var f=$("#"+e+" video");null!==f&&f.attr("controls",a.targetStageState[e].controls)}a.targetStageState[e].inProgress--}b.getActionRepeatDetails()&&a.handleActionRepeat(b,c,d),a.onComplete(c,b)},AnimActionHandler.prototype.returnToOriginState=function(a){a.getActionRepeatDetails()&&AnimActionHandler.prototype.initActionRepeatDetails(a),ActionHandler.prototype.returnToOriginState(a)},AnimActionHandler.prototype.handleActionRepeat=function(a,b,c){var d=a.getActionRepeatDetails();d&&("false"===d.loopForever&&d.loopTimes>0||"true"===d.loopForever?("false"===d.loopForever&&d.loopTimes--,d.beforeLoop&&d.beforeLoop(),setTimeout(function(){a.execute(a,!1,b,c)},d.delayTime)):AnimActionHandler.prototype.initActionRepeatDetails(a))},AnimActionHandler.prototype.initActionRepeatDetails=function(a){var b=a.getActionParams(),c=b.getInt("loopTimes"),d=b.get("loopForever"),e=b.getInt("delay");a.actionRepeatDetails={loopTimes:c,loopForever:d,delayTime:e,tweenRef:a.getActionRefereance()}},AnimActionHandler.prototype.getTweenRef=function(a,b,c,d){return c&&d?TweenLite.fromTo($("#"+a),b.getInt("duration")/1e3,c,d):c?TweenLite.from($("#"+a),b.getInt("duration")/1e3,c):d?TweenLite.to($("#"+a),b.getInt("duration")/1e3,d):void 0},AnimActionHandler.prototype.play=function(a,b,c,d,e,f){a.executed=!0;var g=a.getActionParams(),h=a.getActionTarget(),i=a.getActionRefereance();if(e?(e.onCompleteParams=[this,a,c,f],e.onStartParams=[this,h,a]):d&&(d.onCompleteParams=[this,a,c,f],d.onStartParams=[this,h,a]),b)i=AnimActionHandler.prototype.getTweenRef(h,g,d,e);else{if(i&&i.paused())return i.play(),a.getActionRefereance();a.getActionRepeatDetails()||AnimActionHandler.prototype.initActionRepeatDetails(a),i=AnimActionHandler.prototype.getTweenRef(h,g,d,e)}return a.actionRef=i,i},AnimActionHandler.prototype.pause=function(a){var b=a.getActionRefereance();b&&b.pause()},AnimActionHandler.prototype.stop=function(a,b,c){b&&this.resetTargetStageState(a.getActionTarget()),ActionHandler.prototype.stop(a,c)},AnimActionHandler.prototype.resetTargetStageState=function(a){if($("#"+a).length){var b=this.targetStageState[a];b&&(b.cleared=!0)}},AnimActionHandler.prototype.addToTargetStageState=function(a,b){if(b&&(!this.targetStageState.hasOwnProperty(b)||this.targetStageState[b].cleared)){var c={};c.cleared=!1;var d=$("#"+b);c.inProgress=0,c.opacity=d.css("opacity"),c.position={top:d[0].style.top,left:d[0].style.left},c.visibility=d.css("visibility");var e=$("#"+b+" video");null!==e&&(c.controls=e.attr("controls"));var f=InteractionsUtils.gerScaleRotateOfElem(d);c.rotation=f.rotation,c.originalRotation=f.originalRotation,c.scaleX=f.scaleX,c.scaleY=f.scaleY,c.originState=$.extend(!0,{},c),this.targetStageState[b]=c}},FadeInActionHandler.prototype=new AnimActionHandler,FadeInActionHandler.prototype.execute=function(a,b,c){var d=a.getActionParams(),e=a.getActionTarget(),f=$("#"+e);if(d.validate()){var g=null,h=this.getAnimParams(e);return h.delay=d.getInt("delay")/1e3,d.isTargetComposite?"none"==f.css("display")&&(g={display:"",opacity:0}):h.autoAlpha=1,h.opacity=1,"none"!==d.get("ease")?h.ease="Power"+(d.getInt("easePower")-1)+"."+d.get("ease"):h.ease="Linear.easeNone",AnimActionHandler.prototype.play.call(this,a,b,c,g,h)}},FadeInActionHandler.prototype.onStartHandler=function(a,b,c){AnimActionHandler.prototype.onStartHandler.call(this,a,b,c),$("#"+b).css("clip","")},FadeInActionHandler.prototype.returnToOriginState=function(a,b){AnimActionHandler.prototype.returnToOriginState.call(this,a);var c=a.getActionTarget(),d=$("#"+c);void 0!==b[c]&&(null!=b[c].opacity&&d.css("opacity",b[c].opacity),null!=b[c].visibility&&InteractionsUtils.setVisibility(d,b[c].visibility),null!=b[c].display&&InteractionsUtils.setDisplay(d,b[c].display))},FadeOutActionHandler.prototype=new AnimActionHandler,FadeOutActionHandler.prototype.execute=function(a,b,c){var d=a.getActionParams(),e=a.getActionTarget();if(d.validate()){var f=this.getAnimParams(e),g=f.onComplete,h=this;return f.delay=d.getInt("delay")/1e3,f.opacity=0,"none"!==d.get("ease")?f.ease="Power"+(d.getInt("easePower")-1)+"."+d.get("ease"):f.ease="Linear.easeNone",f.onComplete=function(){$(window).trigger("",e),g(h,a,c)},AnimActionHandler.prototype.play.call(this,a,b,c,null,f)}},FadeOutActionHandler.prototype.onCompleteHandler=function(a,b,c,d){AnimActionHandler.prototype.onCompleteHandler.call(this,a,b,c,d);var e=b.getActionTarget(),f=$("#"+e);b.getActionParams().isTargetComposite?InteractionsUtils.setDisplay(f,"none"):InteractionsUtils.setVisibility(f,"hidden")},FadeOutActionHandler.prototype.returnToOriginState=function(a,b){AnimActionHandler.prototype.returnToOriginState.call(this,a);var c=a.getActionTarget(),d=$("#"+c);void 0!==b[c]&&(null!=b[c].opacity&&d.css("opacity",b[c].opacity),null!=b[c].visibility&&InteractionsUtils.setVisibility(d,b[c].visibility),null!=b[c].display&&InteractionsUtils.setDisplay(d,b[c].display))},ShowActionHandler.prototype=new AnimActionHandler,ShowActionHandler.prototype.onCompleteHandler=function(a,b,c,d){AnimActionHandler.prototype.onCompleteHandler.call(this,a,b,c,d);var e=b.getActionTarget(),f=b.getActionParams(),g=$("#"+e);g.length&&!f.isTargetComposite&&InteractionsUtils.fixSafariVisibility($("#"+e))},ShowActionHandler.prototype.onStartHandler=function(a,b,c){AnimActionHandler.prototype.onStartHandler.call(this,a,b,c);var d=$("#"+b);0===parseFloat(d.css("opacity"))&&d.css("opacity",1)},ShowActionHandler.prototype.execute=function(a,b,c){var d=a.getActionParams(),e=a.getActionTarget(),f=this;if(window.adkit){if(adkit.getBannerInfoById(e))return void setTimeout(function(){adkit.showBanner(),f.onCompleteHandler(f,a,c)},d.getInt("delay"));if(adkit.getPanelInfoById(e))return void setTimeout(function(){adkit.showPanel(e),f.onCompleteHandler(f,a,c)},d.getInt("delay"))}var g=this.getAnimParams(e);g.delay=d.getInt("delay")/1e3,d.isTargetComposite?g.display="":g.visibility="visible",g.onCompleteParams=[this,a,c];var h=$("#"+e);d.validate()&&(this.tweenRef=TweenLite.to(h,1e-4,g))},ShowActionHandler.prototype.returnToOriginState=function(a,b){var c=a.getActionTarget(),d=$("#"+c);null!=b[c]&&(null!=b[c].visibility&&InteractionsUtils.setVisibility(d,b[c].visibility),null!=b[c].display&&InteractionsUtils.setDisplay(d,b[c].display))};var isPanelOrBanner=function(a){return window.adkit&&(adkit.getBannerInfoById(a)||adkit.getPanelInfoById(a))};HideActionHandler.prototype=new AnimActionHandler,HideActionHandler.prototype.onCompleteHandler=function(a,b,c,d){AnimActionHandler.prototype.onCompleteHandler.call(this,a,b,c,d);var e=b.getActionTarget(),f=b.getActionParams(),g=$("#"+e);g.length&&!f.isTargetComposite&&InteractionsUtils.fixSafariVisibility(g)},HideActionHandler.prototype.execute=function(a,b,c){var d=a.getActionParams(),e=a.getActionTarget(),f=this;if(window.adkit){if(adkit.getBannerInfoById(e))return void setTimeout(function(){adkit.hideBanner(),f.onCompleteHandler(f,a,c)},d.getInt("delay"));if(adkit.getPanelInfoById(e))return void setTimeout(function(){adkit.hidePanel(e),f.onCompleteHandler(f,a,c)},d.getInt("delay"))}var g=this.getAnimParams(e),h=$("#"+e);g.delay=d.getInt("delay")/1e3,d.isTargetComposite?g.display="none":g.visibility="hidden";var i=g.onComplete,j=this;g.onComplete=function(){$(window).trigger("elementHidden",e),i(j,a,c)},d.validate()&&(this.tweenRef=TweenLite.to(h,1e-4,g))},HideActionHandler.prototype.returnToOriginState=function(a,b){var c=a.getActionTarget(),d=$("#"+c);null!=b[c]&&(null!=b[c].visibility&&InteractionsUtils.setVisibility(d,b[c].visibility),null!=b[c].display&&InteractionsUtils.setDisplay(d,b[c].display))},MotionActionHandler.prototype=new AnimActionHandler,MotionActionHandler.prototype.prepare=function(a,b,c){AnimActionHandler.prototype.prepare.call(this,a,b);var d=c.transformPosStageState.startPosition,e=d.y+(c.offsetY||this.offsetY)+"px",f=d.x+(c.offsetX||this.offsetX)+"px";$("#"+b).css({top:e,left:f})},MotionActionHandler.prototype.execute=function(a,b,c){var d=a.getActionParams(),e=a.getActionTarget(),f=a.transformPosStageState,g=a.offsetX||this.offsetX,h=a.offsetY||this.offsetY;if(d.validate()){var i={top:f.startPosition.y+h+"px",left:f.startPosition.x+g+"px"},j=this.getAnimParams(e);return j.delay=d.getInt("delay")/1e3,j.top=f.endPosition.y+h+"px",j.left=f.endPosition.x+g+"px","none"!==d.get("ease")?j.ease="Power"+(d.getInt("easePower")-1)+"."+d.get("ease"):j.ease="Linear.easeNone",AnimActionHandler.prototype.play.call(this,a,b,c,i,j)}},MotionActionHandler.prototype.returnToOriginState=function(a,b){AnimActionHandler.prototype.returnToOriginState.call(this,a);var c=a.getActionTarget(),d=$("#"+c);void 0!==b[c]&&void 0!==b[c].position&&(d.css("top",b[c].position.top),d.css("left",b[c].position.left))},SlideInActionHandler.prototype=new AnimActionHandler,SlideInActionHandler.prototype.prepare=function(a,b,c){AnimActionHandler.prototype.prepare.call(this,a,b);var d=c.transformPosStageState.startPosition,e=d.y+(c.offsetY||this.offsetY)+"px",f=d.x+(c.offsetX||this.offsetX)+"px";$("#"+b).css({top:e,left:f})},SlideInActionHandler.prototype.execute=function(a,b,c,d){var e=a.getActionParams(),f=a.getActionTarget(),g=a.transformPosStageState.startPosition,h=a.offsetX||this.offsetX,i=a.offsetY||this.offsetY;if(e.validate()){var j={top:g.y+i+"px",left:g.x+h+"px"},k=this.getAnimParams(f);return k.top=d[f].position.top,k.left=d[f].position.left,k.delay=e.getInt("delay")/1e3,"none"!==e.get("ease")?k.ease="Power"+(e.getInt("easePower")-1)+"."+e.get("ease"):k.ease="Linear.easeNone",AnimActionHandler.prototype.play.call(this,a,b,c,j,k,d)}},SlideInActionHandler.prototype.returnToOriginState=function(a,b){AnimActionHandler.prototype.returnToOriginState.call(this,a);var c=a.getActionTarget(),d=$("#"+c);void 0!==b[c]&&void 0!==b[c].position&&(d.css("top",b[c].position.top),d.css("left",b[c].position.left))},SlideOutActionHandler.prototype=new AnimActionHandler,SlideOutActionHandler.prototype.execute=function(a,b,c){var d=a.getActionParams(),e=a.getActionTarget(),f=a.transformPosStageState.endPosition,g=a.offsetX||this.offsetX,h=a.offsetY||this.offsetY;if(d.validate()){var i=this.getAnimParams(e);return i.delay=d.getInt("delay")/1e3,i.top=f.y+h+"px",i.left=f.x+g+"px","none"!==d.get("ease")?i.ease="Power"+(d.getInt("easePower")-1)+"."+d.get("ease"):i.ease="Linear.easeNone",AnimActionHandler.prototype.play.call(this,a,b,c,null,i)}},SlideOutActionHandler.prototype.returnToOriginState=function(a,b){AnimActionHandler.prototype.returnToOriginState.call(this,a);var c=a.getActionTarget(),d=$("#"+c);void 0!==b[c]&&void 0!==b[c].position&&(d.css("top",b[c].position.top),d.css("left",b[c].position.left))},ScaleActionHandler.prototype=new AnimActionHandler,ScaleActionHandler.prototype.execute=function(a,b,c){var d=a.getActionParams(),e=a.getActionTarget();if(d.validate()){this.currentScaleByTarget.hasOwnProperty(e)||(this.currentScaleByTarget[e]={scaleX:1,scaleY:1});var f=d.get("scaleState"),g=d.get("axis");g=g?g:"scale";var h=d.getInt("scale")/100,i=this.getAnimParams(e),j=h,k=f&&"to"===f?this.targetStageState[e]:this.currentScaleByTarget[e],l=this.currentScaleByTarget[e].scaleX,m=this.currentScaleByTarget[e].scaleY;return"scale"===g?(l=j*k.scaleX,m=j*k.scaleY):"scaleX"===g?l=j*k.scaleX:m=j*k.scaleY,this.currentScaleByTarget[e].scaleX=l,i.scaleX=l,this.currentScaleByTarget[e].scaleY=m,i.scaleY=m,i.delay=d.getInt("delay")/1e3,i.parseTransform=!0,"none"!==d.get("ease")?i.ease="Power"+(d.getInt("easePower")-1)+"."+d.get("ease"):i.ease="Linear.easeNone",AnimActionHandler.prototype.play.call(this,a,b,c,null,i)}},ScaleActionHandler.prototype.returnToOriginState=function(a,b){AnimActionHandler.prototype.returnToOriginState.call(this,a);var c=a.getActionTarget(),d=$("#"+c);void 0!==b[c]&&void 0!==b[c].scaleX&&void 0!==b[c].scaleY&&(d.css("transform","scaleX("+b[c].scaleX+")"),d.css("transform","scaleY("+b[c].scaleY+")"),this.currentScaleByTarget[c].scaleX=b[c].scaleX,this.currentScaleByTarget[c].scaleY=b[c].scaleY)},ScaleActionHandler.prototype.onCompleteHandler=function(a,b,c,d){var e=b.getActionTarget();a.setCurrentScale(b,a.currentScaleByTarget[e]),AnimActionHandler.prototype.onCompleteHandler.call(a,a,b,c,d)},ScaleActionHandler.prototype.pause=function(a){var b=a.getActionTarget();this.setCurrentScale(a,this.currentScaleByTarget[b]),AnimActionHandler.prototype.pause.call(this,a)},ScaleActionHandler.prototype.setCurrentScale=function(a,b){var c=a.getActionTarget(),d=$("#"+c),e=InteractionsUtils.gerScaleRotateOfElem(d);b.scaleX=e.scaleX,b.scaleY=e.scaleY},RotateActionHandler.prototype=new AnimActionHandler,RotateActionHandler.prototype.execute=function(a,b,c){var d=a.getActionParams(),e=a.getActionTarget();if(d.validate()){var f=d.get("degreeState"),g=d.getInt("degree")*d.getInt("direction");f&&"to"===f?g+=this.targetStageState[e].originalRotation:g="+="+g;var h=this.getAnimParams(e);return h.rotation=g,h.delay=d.getInt("delay")/1e3,h.parseTransform=!0,"none"!==d.get("ease")?h.ease="Power"+(d.getInt("easePower")-1)+"."+d.get("ease"):h.ease="Linear.easeNone",AnimActionHandler.prototype.play.call(this,a,b,c,null,h)}},RotateActionHandler.prototype.returnToOriginState=function(a,b){AnimActionHandler.prototype.returnToOriginState.call(this,a);var c=a.getActionTarget(),d=$("#"+c);void 0!==b[c]&&void 0!==b[c].rotation&&(d.css("transform","rotate("+b[c].rotation+"deg)"),TweenLite.set($("#"+c),{rotation:b[c].rotation}))},function(){function a(){this.addHandler(SlideInActionHandler),this.addHandler(SlideOutActionHandler),this.addHandler(MotionActionHandler),this.addHandler(FadeInActionHandler),this.addHandler(FadeOutActionHandler),this.addHandler(ShowActionHandler),this.addHandler(HideActionHandler),this.addHandler(RotateActionHandler),this.addHandler(ScaleActionHandler)}a.prototype=new ActionsGroup("animation","Animation"),InteractionsUtils.dispatchEvent(window,"registerActionGroupEvent",new a)}(),ExecAdkitCompCmdParams.prototype=new ActionParams("1.0.0"),ExecAdkitCompCmdParams.prototype.constructor=ExecAdkitCompCmdParams,ExecAdkitCompCmdParams.prototype.validate=function(){return null!=this.command},ExecAdkitCompCmdHandler.prototype=new ActionHandler,ExecAdkitCompCmdHandler.prototype.param=ExecAdkitCompCmdParams,ExecAdkitCompCmdHandler.prototype.targetable=!0,ExecAdkitCompCmdHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.executeCompCmd)},ExecAdkitCompCmdHandler.prototype.getParams=function(a){var b=ActionHandler.prototype.getParams.call(this,a);return this.viewName&&(b.viewName=this.viewName),b.set("command",this.command),b.set("commandParam",this.defaultCommandParam),b},ExecAdkitCompCmdHandler.prototype.executeCompCmd=function(a,b){var c=adkit.$(b);return c&&"function"==typeof c[a.command]&&c[a.command](a.get("commandParam")),!0},GetFeedDataActionHandler.prototype=new ExecAdkitCompCmdHandler,GetFeedDataActionHandler.prototype.id="getFeedData",GetFeedDataActionHandler.prototype.displayName="Get Feed Data",GetFeedDataActionHandler.prototype.command="getFeedData",function(){function a(){this.addHandler(GetFeedDataActionHandler)}a.prototype=new ActionsGroup("socialActions","Social Actions"),InteractionsUtils.dispatchEvent(window,"registerActionGroupEvent",new a)}(),Action.prototype=function(){var a=function(){return this.actionParams},b=function(){return this.actionHandler},c=function(){return this.actionRef},d=function(){return this.actionRepeatDetails},e=function(){return this.actionId},f=function(){return this.actionType},g=function(){return this.getActionHandler()&&(this.getActionHandler().targetable||this.actionTarget)?this.actionTarget===INTERACTIONS_CONSTS.TARGET_SELF&&this.actionSelf?this.actionSelf:this.actionTarget:!0;
},h=function(a){this.actionTarget=a},i=function(){var a=this.getActionHandler(),b=this.getActionTarget(),c=this.getActionParams();return a&&(null===c||c.validate())&&b&&(!(a instanceof AnimActionHandler)||$("#"+b).length||(a instanceof HideActionHandler||a instanceof ShowActionHandler)&&window.adkit&&(adkit.getPanelInfoById(b)||adkit.getBannerInfoById(b)))},j=function(a,b,c,d){this.validate()?this.getActionHandler().execute(a,b,c,d,this):c.call(this,this.getActionHandler())},k=function(a,b){this.validate()&&this.getActionHandler().stop(this,a,b)},l=function(){return this.getActionHandler()&&this.getActionHandler().targetable},m=function(a,b,c,d){this.actionSelf||(this.actionSelf=a),this.actionType=d,this.validate()&&this.getActionHandler().init(this.getActionParams(),this.getActionTarget(),b,c)},n=function(){var a=this.getActionParams(),b=this.getActionTarget(),c=$("#"+b),d=this.actionHandler.id||this.actionHandler().id,e=this.targetStageState||this.getActionHandler().targetStageState;InterTransformUtils.toTransformXYAnimation("start",d)&&(this.transformPosStageState.startPosition=InterTransformUtils.transformRotateXY(a.getInt("startX"),a.getInt("startY"),c,e[b])),InterTransformUtils.toTransformXYAnimation("end",d)&&(this.transformPosStageState.endPosition=InterTransformUtils.transformRotateXY(a.getInt("endX"),a.getInt("endY"),c,e[b]))},o=function(){this.validate()&&(this.getActionHandler().saveStageState(this.getActionParams(),this.getActionTarget()),this.saveTransformPosStageState())},p=function(a){this.actionId=a.actionId,this.actionHandler=ActionHandlersFactory.getActionHandler(a.actionId),this.actionParams=this.getActionHandler().getParams(!1),a.actionParams&&this.actionParams.initFromJSON(a.actionParams),this.actionTarget=a.actionTarget},q=function(a,b){this.offsetX=a,this.offsetY=b};return{execute:j,stop:k,validate:i,getActionId:e,getActionParams:a,getActionHandler:b,getActionTarget:g,getActionRefereance:c,getActionRepeatDetails:d,setActionTarget:h,initFromJSON:p,isTargetable:l,init:m,getActionType:f,saveStageState:o,saveTransformPosStageState:n,setOffset:q}}(),Action.validateJSONAction=function(a){return a.actionId&&a.actionParams?!0:!1},Interaction.initialize=function(a){ActionParams.setAssetsHelper(a)},Interaction.prototype=function(){var a=function(){return this.interactionId},b=function(){return this.eventId},c=function(){return this.actions},d=function(a){return this.actions[a]},e=function(a){return this.actions[a].getActionTarget()},f=function(a,b,c){if(this.status!==INTERACTIONS_CONSTS.INTERACTION_STATE.PAUSED){this.targetOriginState={};var d=this;this.getAllActions().forEach(function(a){r.call(d,a)})}a?k.call(this,a,b):"true"!==c&&this.isExecuting()||(this.loopTracker.countIterations=0,k.call(this,a,b,g))},g=function(a){a.canRunInInterLoop===!0&&this.loopTracker.numOfEndedActions++;var b=h.call(this);"forever"!==b&&this.loopTracker.numOfEndedActions>=b&&i.call(this)},h=function(){for(var a=0,b=0;b<this.getAllActions().length;b++){var c=this.getAction(b);if(c.actionHandler.canRunInInterLoop===!0){if(c.actionParams.loopForever&&"true"===c.actionParams.loopForever){a="forever";break}var d=c.actionParams.loopTimes?parseInt(c.actionParams.loopTimes):0;a+=d+1}}return a},i=function(){this.loopTracker.numOfEndedActions=0;var a=h.call(this);return 0===a||this.loopDDvalue===INTERACTIONS_CONSTS.LOOP_TIMES.ONCE||this.loopDDvalue===INTERACTIONS_CONSTS.LOOP_TIMES.OTHER&&this.loopTracker.countIterations==this.loopTimes?(this.loopTracker.countIterations=0,void(this.status=INTERACTIONS_CONSTS.INTERACTION_STATE.STOPPED)):(this.loopTracker.countIterations++,j.call(this,!0),void k.call(this,void 0,void 0,g))},j=function(a){this.status=INTERACTIONS_CONSTS.INTERACTION_STATE.STOPPED,this.loopTracker.numOfEndedActions=0;for(var b,c=0;c<this.getAllActions().length;c++)b=this.getAction(c),(b.validate()&&!a||a&&b.getActionHandler().canRunInInterLoop)&&b.actionHandler.returnToOriginState(b,this.targetOriginState)},k=function(a,b,c){var d=this.status===INTERACTIONS_CONSTS.INTERACTION_STATE.PAUSED;this.status=INTERACTIONS_CONSTS.INTERACTION_STATE.EXECUTING,c=void 0!==c?c.bind(this):c;for(var e=0;e<this.getAllActions().length;e++){var f=this.getAction(e);if(!b||f.getActionId().split(".")[0]===b){var g=f.getActionRefereance(),h=g&&g.paused();(!d||d&&h)&&f.execute(f,a,c,this.targetOriginState)}}},l=function(a){this.status=INTERACTIONS_CONSTS.INTERACTION_STATE.STOPPED;var b=this.getAllActions(),c=this;b.forEach(function(b){b.stop(a,c.targetOriginState)})},m=function(a){InteractionsUtils.stopPropagation(a),a.data.execute()},n=function(){return this.getEventId()&&this.getAllActions()},o=function(a){a&&n.call(this)&&$("#"+a).bind(this.getEventId(),this,m)},p=function(a,b,c,d){var e=0,f=0,g=INTERACTIONS_CONSTS.AUTO_EVENTS_LIST.indexOf(this.getEventId())>-1?INTERACTIONS_CONSTS.INTERACTION_EVENT_TYPE.AUTO:INTERACTIONS_CONSTS.INTERACTION_EVENT_TYPE.USER;b&&(e=b),c&&(f=c);for(var h=0;h<this.getAllActions().length;h++)d&&this.getAction(h).getActionId().split(".")[0]!==d||this.getAction(h)&&this.getAction(h).init(a,e,f,g)},q=function(a){for(var b=0;b<this.getAllActions().length;b++)a&&this.getAction(b).getActionId().split(".")[0]!==a||this.getAction(b)&&this.getAction(b).saveStageState()},r=function(a){if(AnimActionHandler.prototype.isPrototypeOf(a.getActionHandler())&&a.validate()){var b=a.getActionTarget();if(b&&(!this.targetOriginState.hasOwnProperty(b)||this.targetOriginState[b].cleared)){var c=$("#"+b);if(c.length){var d={};d.cleared=!1,d.inProgress=0,d.opacity=c.css("opacity"),d.position={top:c[0].style.top,left:c[0].style.left},d.visibility=c.css("visibility"),d.display=c.css("display");var e=$("#"+b+" video");null!==e&&(d.controls=e.attr("controls"));var f=InteractionsUtils.gerScaleRotateOfElem(c);d.rotation=f.rotation,d.originalRotation=f.originalRotation,d.scaleX=f.scaleX,d.scaleY=f.scaleY,this.targetOriginState[b]=d}}}},s=function(){if(this.isExecuting()){this.status=INTERACTIONS_CONSTS.INTERACTION_STATE.PAUSED;var a=this.getAllActions();a.forEach(function(a){a.getActionHandler().pause(a)})}},t=function(){return this.status===INTERACTIONS_CONSTS.INTERACTION_STATE.EXECUTING},u=function(){return this.status===INTERACTIONS_CONSTS.INTERACTION_STATE.PAUSED},v=function(){return this.status===INTERACTIONS_CONSTS.INTERACTION_STATE.STOPPED};return{attach:o,execute:f,stop:l,getEventId:b,getInteractionId:a,getAction:d,getAllActions:c,getActionTarget:e,init:p,saveStageState:q,executeActions:k,pause:s,isExecuting:t,isPaused:u,isStopped:v}}(),Interaction.createFromJSON=function(a){var b=new Interaction;b.interactionId=a.interactionId||null,b.eventId=a.eventId||null,b.loopDDvalue=a.loopDDvalue||INTERACTIONS_CONSTS.LOOP_TIMES.ONCE,b.loopTimes=a.loopTimes||0,b.totalDuration=a.totalDuration||0,b.eventParams=a.eventParams;for(var c=0;c<a.actions.length;c++)if(Action.validateJSONAction(a.actions[c])){var d=new Action;if(d.initFromJSON(a.actions[c]),"customActions.downloadFile"==d.actionId){var e=d.actionParams.assets.fAsset,f=InteractionsUtils.getUrlAsset(e),g=new SaveFile(f);g&&(d.actionParams.downloadAssetHand=g)}b.actions.push(d)}return b};var InteractionsMgr=function(){function a(){var a=adkit.getAdInfo(),b=a.adPart.data;if(b.interactions){var c=b.interactions;c.forEach(function(a){var b=Interaction.createFromJSON(a);b.init(),b.attach("adkit-container"),h.push(b)})}var d=b.items;if(d.forEach(function(a){var b=function(a){var b=!1;a.interactions&&(a.interactions.forEach(function(c){var d=Interaction.createFromJSON(c);d.init(a.id),"adLoad"===c.eventId?d.attach("adkit-container"):(d.eventId.indexOf("cuePoint")>-1&&d.eventParams&&d.eventParams.cuePointTime>=0&&CuePointsManager.addCuePoint(a.id,d.eventId,d.eventParams.cuePointTime),d.attach(a.id)),h.push(d),("click"===d.eventId||"dblclick"===d.eventId)&&(b=!0)}),b&&$("#"+a.id).css("cursor","pointer"))};b(a),a.items&&a.items.forEach(function(a){b(a)})}),b.vpaid&&b.vpaid.primaryVideo&&b.vpaid.primaryVideo.interactions){var e=b.vpaid.primaryVideo.interactions;e.forEach(function(a){var b=Interaction.createFromJSON(a);b.init(),b.eventId.indexOf("cuePoint")>-1&&b.eventParams&&b.eventParams.cuePointTime>=0&&CuePointsManager.addCuePoint("adkit-container",b.eventId,b.eventParams.cuePointTime),b.attach("adkit-container"),h.push(b)})}}function b(){return h}function c(a){var b=null;return h.some(function(c){return c.getInteractionId()===a?(b=c,!0):void 0}),b}function d(){h.forEach(function(a){a.saveStageState()})}function e(a){var b=c(a);b&&b.pause()}function f(a,b){var d=c(a);!d||"true"!==b&&d.isExecuting()||(d.isExecuting()&&d.stop(),d.execute(null,null,b))}function g(a){var b=c(a);b&&b.stop()}var h=[];return{init:a,getInteractions:b,getInteraction:c,saveStageState:d,pauseInteraction:e,startInteraction:f,stopInteraction:g}}(),body=document.getElementsByTagName("body")[0];InteractionsUtils.dispatchEvent(body,"moduleLoadedEvent"),ShowNextSlideActionHandler.prototype=new ExecAdkitCompCmdHandler,ShowNextSlideActionHandler.prototype.id="showNextSlide",ShowNextSlideActionHandler.prototype.displayName="Show Next Slide",ShowNextSlideActionHandler.prototype.command="next",ShowPreviousSlideActionHandler.prototype=new ExecAdkitCompCmdHandler,ShowPreviousSlideActionHandler.prototype.id="showPreviousSlide",ShowPreviousSlideActionHandler.prototype.displayName="Show Previous Slide",ShowPreviousSlideActionHandler.prototype.command="prev",PlaySlideShowActionHandler.prototype=new ExecAdkitCompCmdHandler,PlaySlideShowActionHandler.prototype.id="playSlideShow",PlaySlideShowActionHandler.prototype.displayName="Play Slideshow",PlaySlideShowActionHandler.prototype.command="play",StopSlideShowActionHandler.prototype=new ExecAdkitCompCmdHandler,StopSlideShowActionHandler.prototype.id="stopSlideShow",StopSlideShowActionHandler.prototype.displayName="Stop Slideshow",StopSlideShowActionHandler.prototype.command="stop",GotoSlideActionHandler.prototype=new ExecAdkitCompCmdHandler,GotoSlideActionHandler.prototype.id="gotoSlide",GotoSlideActionHandler.prototype.displayName="Go To Slide",GotoSlideActionHandler.prototype.command="goto",GotoSlideActionHandler.prototype.defaultCommandParam=1,GotoSlideActionHandler.prototype.viewName="GotoSlide",function(){function a(){this.addHandler(ShowNextSlideActionHandler),this.addHandler(ShowPreviousSlideActionHandler),this.addHandler(GotoSlideActionHandler),this.addHandler(StopSlideShowActionHandler),this.addHandler(PlaySlideShowActionHandler)}a.prototype=new ActionsGroup("galleryActions","Gallery Actions"),InteractionsUtils.dispatchEvent(window,"registerActionGroupEvent",new a)}(),InStreamDisableAutoCloseActionParams.prototype=new ActionParams("1.0.0"),InStreamDisableAutoCloseActionParams.prototype.constructor=InStreamDisableAutoCloseActionParams,InStreamDisableAutoCloseActionParams.prototype.validate=function(){return this.get("delay")>=0},InStreamCloseAdActionParams.prototype=new ActionParams("1.0.0"),InStreamCloseAdActionParams.prototype.constructor=InStreamCloseAdActionParams,InStreamCloseAdActionParams.prototype.validate=function(){return this.get("delay")>=0},InStreamSkipAdActionParams.prototype=new ActionParams("1.0.0"),InStreamSkipAdActionParams.prototype.constructor=InStreamSkipAdActionParams,InStreamSkipAdActionParams.prototype.validate=function(){return this.get("delay")>=0},InStreamDisableAutoCloseActionHandler.prototype=new ActionHandler,InStreamDisableAutoCloseActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.disableAutoClose)},InStreamDisableAutoCloseActionHandler.prototype.disableAutoClose=function(a){return adkit.vpaid.disableAutoClose(),!0},InStreamCloseAdActionHandler.prototype=new ActionHandler,InStreamCloseAdActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.closeAd)},InStreamCloseAdActionHandler.prototype.closeAd=function(a){return adkit.vpaid.closeAd(),!0},InStreamSkipAdActionHandler.prototype=new ActionHandler,InStreamSkipAdActionHandler.prototype.execute=function(a,b,c){return ActionHandler.prototype.play.call(this,a,b,c,this.skipAd)},InStreamSkipAdActionHandler.prototype.skipAd=function(a){return adkit.vpaid.skipAd(),!0},function(){function a(){this.addHandler(InStreamSkipAdActionHandler),this.addHandler(InStreamCloseAdActionHandler),this.addHandler(InStreamDisableAutoCloseActionHandler)}a.prototype=new ActionsGroup("inStreamActions","InStream Actions"),InteractionsUtils.dispatchEvent(window,"registerActionGroupEvent",new a)}();var CuePointHandler=function(a){function b(a,b){function d(a,b){return a.id<b.id?-1:a.id>b.id?1:0}var e=c.cuePoints.filter(function(b){return b.id===a});if(0===e.length){var f={id:a,time:b};c.cuePoints.push(f)}c.cuePoints.sort(d)}var c=this;return this.cuePoints=[],this.Interval=100,this.startTrackPoint=0,this.endTrackPoint=250,this.isTracking=!1,this.startPoint=0,this.videoElement=$("#"+a),this.triggerEventIfRequired=function(a){c.cuePoints.forEach(function(b){var d=c.startPoint<=b.time&&b.time<=a;d&&c.videoElement.trigger(b.id)})},this.startTrack=function(){var a=function(){var a=1e3*c.videoElement[0].getVideoCurrentTime();c.triggerEventIfRequired(a)};c.currentInterval=setInterval(a,c.Interval),c.isTracking=!0},this.stopTrack=function(){clearInterval(c.currentInterval),c.isTracking=!1},this.trackIfRequired=function(){c.isTracking||c.cuePoints.forEach(function(a){c.startTrackPoint<=a.time<=c.endTrackPoint&&!c.isTracking&&c.startTrack()})},this.playHandler=function(){},this.pauseHandler=function(){},this.stopHandler=function(){},this.seekHandler=function(a,b){},this.timeUpdateHandler=function(a,b){var d=b?b:a.originalEvent.data;void 0===typeof d&&console.error("there is no param on time update event"),isNaN(d)||(c.triggerEventIfRequired(1e3*d),c.startPoint=1e3*d)},this.durationChangeHandler=function(a,b){c.endTrackPoint=1e3*b},this.bindEvents=function(){c.videoElement.bind("play",c,c.playHandler),c.videoElement.bind("pause",c,c.pauseHandler),c.videoElement.bind("stop",c,c.stopHandler),c.videoElement.bind("seek",c,c.seekHandler),c.videoElement.bind("timeupdate",c,c.timeUpdateHandler),c.videoElement.bind("durationChange",c,c.durationChangeHandler)},this.bindEvents(),{addCuePoint:b}},CuePointsManager=function(){function a(a,c,d){b[a]||(b[a]=new CuePointHandler(a));var e=b[a];e.addCuePoint(c,d)}var b={};return{addCuePoint:a}}();