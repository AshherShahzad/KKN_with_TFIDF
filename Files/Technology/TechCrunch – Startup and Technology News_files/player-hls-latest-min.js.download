// Copyright (c) 2016 comScore, Inc.
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.ns_=b(a.ns_)}):"object"==typeof module&&module.exports?module.exports=b():a.ns_=b(a.ns_)}(this,function(a){a=a||{},a.ns_=a;var b={uid:function(){var a=1;return function(){return+new Date+"_"+a++}}(),filter:function(a,b){var c={};for(var d in b)b.hasOwnProperty(d)&&a(b[d])&&(c[d]=b[d]);return c},extend:function(a){var b,c=arguments.length;a=a||{};for(var d=1;c>d;d++)if(b=arguments[d])for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a},getString:function(a,b){var c=String(a);return null==a?b||"na":c},getLong:function(a,b){var c=Number(a);return null==a||isNaN(c)?b||0:c},getInteger:function(a,b){var c=Number(parseInt(a));return null==a||isNaN(c)?b||0:c},getBoolean:function(a,b){var c="true"==String(a).toLowerCase();return null==a?b||!1:c},parseBoolean:function(a,b){return b=b||!1,a?"0"==a?!1:void 0:b},isNotEmpty:function(a){return!this.isEmpty(a)},isEmpty:function(a){return void 0===a||null===a||""===a||a instanceof Array&&0===a.length},indexOf:function(a,b){var c=-1;return this.forEach(b,function(b,d){b==a&&(c=d)}),c},forEach:function(a,b,c){try{if("function"==typeof b)if(c="undefined"!=typeof c?c:null,"number"!=typeof a.length||"undefined"==typeof a[0]){var d="undefined"!=typeof a.__proto__;for(var e in a)a.hasOwnProperty(e)&&(!d||d&&"undefined"==typeof a.__proto__[e])&&"function"!=typeof a[e]&&b.call(c,a[e],e)}else for(var f=0,g=a.length;g>f;f++)b.call(c,a[f],f)}catch(h){}},regionMatches:function(a,b,c,d,e){if(0>b||0>d||b+e>a.length||d+e>c.length)return!1;for(;--e>=0;){var f=a.charAt(b++),g=c.charAt(d++);if(f!=g)return!1}return!0},size:function(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b},log:function(a,b){if("undefined"!=typeof b&&b&&"undefined"!=typeof console&&console){var c=new Date,d=c.getHours()+":"+c.getMinutes()+":"+c.getSeconds();console.log(d,a)}},isTrue:function(a){return"undefined"==typeof a?!1:"string"==typeof a?(a=a.toLowerCase(),"true"===a||"1"===a||"on"===a):!!a},toString:function(a){if("undefined"==typeof a)return"undefined";if("string"==typeof a)return a;if("[object Array]"===Object.prototype.toString.call(a))return a.join(",");if(this.size(a)>0){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b}return a.toString()},exists:function(a){return"undefined"!=typeof a&&null!=a},firstGreaterThan0:function(){for(var a=0,b=arguments.length;b>a;a++){var c=arguments[a];if(c>0)return c}return 0},cloneObject:function(a){if(null==a||"object"!=typeof a)return a;var b=function(){function a(){}function b(b){return"object"==typeof b?(a.prototype=b,new a):b}function c(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}function d(){this.copiedObjects=[];var a=this;this.recursiveDeepCopy=function(b){return a.deepCopy(b)},this.depth=0}function e(a,b){var c=new d;return b&&(c.maxDepth=b),c.deepCopy(a)}function f(a){return"undefined"!=typeof window&&window&&window.Node?a instanceof Node:"undefined"!=typeof document&&a===document?!0:"number"==typeof a.nodeType&&a.attributes&&a.childNodes&&a.cloneNode}var g=[];return c.prototype={constructor:c,canCopy:function(){return!1},create:function(a){},populate:function(a,b,c){}},d.prototype={constructor:d,maxDepth:256,cacheResult:function(a,b){this.copiedObjects.push([a,b])},getCachedResult:function(a){for(var b=this.copiedObjects,c=b.length,d=0;c>d;d++)if(b[d][0]===a)return b[d][1]},deepCopy:function(a){if(null===a)return null;if("object"!=typeof a)return a;var b=this.getCachedResult(a);if(b)return b;for(var c=0;c<g.length;c++){var d=g[c];if(d.canCopy(a))return this.applyDeepCopier(d,a)}throw new Error("Unable to clone the following object "+a)},applyDeepCopier:function(a,b){var c=a.create(b);if(this.cacheResult(b,c),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return a.populate(this.recursiveDeepCopy,b,c),this.depth--,c}},e.DeepCopier=c,e.deepCopiers=g,e.register=function(a){a instanceof c||(a=new c(a)),g.unshift(a)},e.register({canCopy:function(){return!0},create:function(a){return a instanceof a.constructor?b(a.constructor.prototype):{}},populate:function(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c[d]=a(b[d]));return c}}),e.register({canCopy:function(a){return a instanceof Array},create:function(a){return new a.constructor},populate:function(a,b,c){for(var d=0;d<b.length;d++)c.push(a(b[d]));return c}}),e.register({canCopy:function(a){return a instanceof Date},create:function(a){return new Date(a)}}),e.register({canCopy:function(a){return f(a)},create:function(a){return"undefined"!=typeof document&&a===document?document:a.cloneNode(!1)},populate:function(a,b,c){if("undefined"!=typeof document&&b===document)return document;if(b.childNodes&&b.childNodes.length)for(var d=0;d<b.childNodes.length;d++){var e=a(b.childNodes[d]);c.appendChild(e)}}}),{deepCopy:e}}();return b.deepCopy(a)},safeGet:function(a,b){return b=this.exists(b)?b:"",this.exists(a)?a:b},getBrowserName:function(){if(!navigator)return"";var a,b,c=navigator.userAgent||"",d=navigator.appName||"";return-1!=(b=c.indexOf("Opera"))||-1!=(b=c.indexOf("OPR/"))?d="Opera":-1!=(b=c.indexOf("Android"))?d="Android":-1!=(b=c.indexOf("Chrome"))?d="Chrome":-1!=(b=c.indexOf("Safari"))?d="Safari":-1!=(b=c.indexOf("Firefox"))?d="Firefox":-1!=(b=c.indexOf("IEMobile"))?d="Internet Explorer Mobile":"Microsoft Internet Explorer"==d||"Netscape"==d?d="Internet Explorer":(a=c.lastIndexOf(" ")+1)<(b=c.lastIndexOf("/"))?(d=c.substring(a,b),d.toLowerCase()==d.toUpperCase()&&(d=navigator.appName)):d="unknown",d},getBrowserFullVersion:function(){if(!navigator)return"";var a,b,c,d,e=navigator.userAgent||"",f=navigator.appName||"",g=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(b=e.indexOf("Opera"))?(g=e.substring(b+6),-1!=(b=e.indexOf("Version"))&&(g=e.substring(b+8))):-1!=(b=e.indexOf("OPR/"))?g=e.substring(b+4):-1!=(b=e.indexOf("Android"))?g=e.substring(b+11):-1!=(b=e.indexOf("Chrome"))?g=e.substring(b+7):-1!=(b=e.indexOf("Safari"))?(g=e.substring(b+7),-1!=(b=e.indexOf("Version"))&&(g=e.substring(b+8))):-1!=(b=e.indexOf("Firefox"))?g=e.substring(b+8):"Microsoft Internet Explorer"==f?(d=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=d.exec(e)&&(g=parseFloat(RegExp.$1))):"Netscape"==f?(d=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=d.exec(e)&&(g=parseFloat(RegExp.$1))):g=e.lastIndexOf(" ")+1<(b=e.lastIndexOf("/"))?e.substring(b+1):"unknown",g=g.toString(),-1!=(c=g.indexOf(";"))&&(g=g.substring(0,c)),-1!=(c=g.indexOf(" "))&&(g=g.substring(0,c)),-1!=(c=g.indexOf(")"))&&(g=g.substring(0,c)),a=parseInt(""+g,10),isNaN(a)&&(g=""+parseFloat(navigator.appVersion)),g},browserAcceptsLargeURLs:function(){return"undefined"!=typeof window?(null!==window.ActiveXObject,!0):!0},getNamespace:function(){return a.ns_||a}};return a.StreamSense=a.StreamSense||function(){var c=function(){var a="cs_";return function(){var c="undefined"!=typeof localStorage?localStorage:null;b.extend(this,{get:function(b){return c&&c.getItem(a+b)},set:function(b,d){c&&c.setItem(a+b,d)},has:function(b){return c&&c.getItem(a+b)},remove:function(b){c&&c.removeItem(a+b)},clear:function(){for(var b=0;c&&b<c.length;++b){var d=c.key(b);d.substr(0,a.length)===a&&c.removeItem(d)}}})}}(),d=function(a,b){if("undefined"!=typeof Image){var c=new Image;c.onload=function(){b&&b(200),c=null},c.onerror=function(){b&&b(),c=null},c.src=a}},e=function(a,b,c){c&&"undefined"!=typeof setTimeout&&setTimeout(c,0)},f=function(){return{dir:function(){return null},append:function(a,b,c){},write:function(a,b,c){},deleteFile:function(){return!1},read:function(){return null}}}(),g=function(){return{PLATFORM:"generic",httpGet:d,httpPost:e,Storage:c,IO:f,getCrossPublisherId:function(){return null},getAppName:function(){return h.UNKNOWN_VALUE},getAppVersion:function(){return h.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return h.UNKNOWN_VALUE},getPlatformVersion:function(){return h.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return h.UNKNOWN_VALUE},getRuntimeVersion:function(){return h.UNKNOWN_VALUE},getResolution:function(){return h.UNKNOWN_VALUE},getLanguage:function(){return h.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(a,b){return setTimeout(a,b)},clearTimeout:function(a){return clearTimeout(a)},getDeviceArchitecture:function(){return h.UNKNOWN_VALUE},getConnectionType:function(){return h.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return h.UNKNOWN_VALUE},isConnSecure:function(){return"s"===document.location.href.charAt(4)},processMeasurementLabels:function(){}}}(),h={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};b.jsonObjectToStringDictionary=function(a){var b={};for(var c in a){var d=a[c];null===d||void 0===d?b[c]=d:b[c]=a[c]+""}return b},b.getKeys=function(a,b){var c,d=[];for(c in a)b&&!b.test(c)||!a.hasOwnProperty(c)||(d[d.length]=c);return d},b.fixEventTime=function(a){if(a.ns_ts)return parseInt(a.ns_ts);var b=+new Date;return a.ns_ts=String(b),b},b.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},b.addNewPlaybackInterval=function(a,c,d,e){var f={};if(!(d>=c))return b.cloneObject(a);if(f.start=c,f.end=d,0==a.length)return a.push(f),b.cloneObject(a);var g;for(g=0;g<a.length;g++)if(f.start>=a[g].start&&f.end<=a[g].end)return b.cloneObject(a);var h,i=!1;for(h=0;h<a.length;h++)if(h+1===a.length&&f.start>=a[h].start||f.start>=a[h].start&&f.start<a[h+1].start){a.splice(h+1,0,f),i=!0;break}i||a.splice(0,0,f);var j=[a[0]];for(g=1;g<a.length;g++)j[j.length-1].end+e<a[g].start?j.push(a[g]):j[j.length-1].end<a[g].end&&(j[j.length-1].end=a[g].end);return b.cloneObject(j)};var i=function(){var a=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,START:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(b){return a[b]}}}(),j=function(){return{IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12}}(),k=function(){var a=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(b){return a[b]}}}(),l={STREAMSENSE_VERSION:"5.1.1.160316",MODEL_VERSION:"5.1",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,STANDARD_METADATA_LABELS:["ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},m=function(){function a(){function a(){I={},I.ns_st_pt="0",I.ns_st_bt="0",I.ns_st_bc="0",I.ns_st_pc="0",I.ns_st_sq="0",I.ns_st_cl="0",I.ns_st_pn="1",I.ns_st_tp="1",I.ns_st_skc="0",I.ns_st_et="0",I.ns_st_cn="1",I.ns_st_sc="0",I.ns_st_ska="0",I.ns_st_skd="0",I.ns_st_skt="0",I.ns_st_upc="0",I.ns_st_lpc="0",I.ns_st_upa="0",I.ns_st_lpa="0",I.ns_st_ub="0",I.ns_st_br="0",f=!1,e=!1,d=h.UNKNOWN_VALUE,g=NaN,m=0,j=0,i=NaN,n=NaN,p=0,o=0,k=0,s=NaN,q=[],r=[],t=0,u=0,v=0,w=0,x=0,y=0,z=NaN,A=0,B=!1,C=NaN,F=!1,E=0,H=0,D=0,G=0,J=0,K=0,L=0,M=0,N=0}function c(){var a,b,c=0;for(a=0;a<q.length;a++)c+=Math.abs(q[a].end-q[a].start);O.setUniquePlaybackInterval(c);var d=0;for(a=0;a<q.length;a++)b=Math.abs(q[a].end-q[a].start),b>d&&(d=b);O.setLongestPlaybackInterval(d);var e=0;for(a=0;a<r.length;a++)e+=Math.abs(r[a].end-r[a].start);O.setAssetUniquePlaybackInterval(e);var f=0;for(a=0;a<r.length;a++)b=Math.abs(r[a].end-r[a].start),b>f&&(f=b);O.setAssetLongestPlaybackInterval(f)}var d,e,f,g,i,j,k,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=this,P=l.INTERVAL_MERGE_TOLERANCE;b.extend(this,{getHash:function(){return d},setHash:function(a){d=a},setPlaybackIntervalMergeTolerance:function(a){P=a},getPlaybackIntervalMergeTolerance:function(){return P},setLabels:function(a){null!=a&&b.extend(I,a)},getLabels:function(){return I},setLabel:function(a,b){var c={};c[a]=b,O.setLabels(c)},getLabel:function(a){return I[a]},getClipNumber:function(){return parseInt(O.getLabel("ns_st_cn"))},setClipNumber:function(a){O.setLabel("ns_st_cn",String(a))},getPartNumber:function(){return parseInt(O.getLabel("ns_st_pn"))},createLabels:function(a){var c=a||{};c.ns_st_dbt=String(O.getBufferingTime()-A),A=O.getBufferingTime(),c.ns_st_det=String(O.getElapsedTime()-o),o=O.getElapsedTime(),c.ns_st_dupc=String(O.getUniquePlaybackInterval()-t),t=O.getUniquePlaybackInterval(),parseInt(c.ns_st_dupc)<0&&(c.ns_st_dupc="0");var d;d=b.exists(c.ns_st_upc)?parseInt(c.ns_st_upc):O.getUniquePlaybackInterval(),c.ns_st_iupc=String(d-u),u=d,parseInt(c.ns_st_iupc)<0&&(c.ns_st_iupc="0"),c.ns_st_dupa=String(O.getAssetUniquePlaybackInterval()-v),v=O.getAssetUniquePlaybackInterval(),parseInt(c.ns_st_dupa)<0&&(c.ns_st_dupa="0");var e;e=b.exists(c.ns_st_upa)?parseInt(c.ns_st_upa):O.getAssetUniquePlaybackInterval(),c.ns_st_iupa=String(e-w),w=e,parseInt(c.ns_st_iupa)<0&&(c.ns_st_iupa="0"),c.ns_st_dlpc=String(O.getLongestPlaybackInterval()-x),x=O.getLongestPlaybackInterval(),parseInt(c.ns_st_dlpc)<0&&(c.ns_st_dlpc="0"),c.ns_st_dlpa=String(O.getAssetLongestPlaybackInterval()-y),y=O.getAssetLongestPlaybackInterval(),parseInt(c.ns_st_dlpa)<0&&(c.ns_st_dlpa="0");var g;return g=b.exists(c.ns_st_pt)?parseInt(c.ns_st_pt):O.getPlaybackTime(),c.ns_st_ipt=String(g-k),k=g,c.ns_st_dpt=String(O.getPlaybackTime()-j),j=O.getPlaybackTime(),c.ns_st_dpc=String(O.getPauses()-J),J=O.getPauses(),c.ns_st_dskc=String(O.getSeeks()-K),K=O.getSeeks(),c.ns_st_dbc=String(O.getBuffers()-L),L=O.getBuffers(),c.ns_st_dskt=String(O.getSeekingTime()-D),D=O.getSeekingTime(),c.ns_st_dska=String(O.getSeekingAmount()-G),G=O.getSeekingAmount(),b.extend(c,O.getLabels()),O.setSeekingDirection(0),f&&(c.ns_st_spc=String(M),c.ns_st_apc=String(N)),f||b.parseBoolean(c.ns_st_sc)||(c.ns_st_sc="1"),c},getVideoTrack:function(){return O.getLabel("ns_st_vt")},setVideoTrack:function(a){O.setLabel("ns_st_vt",String(a))},getAudioTrack:function(){return O.getLabel("ns_st_at")},setAudioTrack:function(a){O.setLabel("ns_st_at",String(a))},getSubtitleTrack:function(){return O.getLabel("ns_st_tt")},setSubtitleTrack:function(a){O.setLabel("ns_st_tt",String(a))},getCDN:function(){return O.getLabel("ns_st_cdn")},setCDN:function(a){O.setLabel("ns_st_cdn",String(a))},getClipPlaybackIntervals:function(){return q},setClipPlaybackIntervals:function(a){q=a},getAssetPlaybackIntervals:function(){return r},getUniquePlaybackInterval:function(){return parseInt(O.getLabel("ns_st_upc"))},getAssetUniquePlaybackInterval:function(){return parseInt(O.getLabel("ns_st_upa"))},setAssetUniquePlaybackInterval:function(a){O.setLabel("ns_st_upa",String(a))},setUniquePlaybackInterval:function(a){O.setLabel("ns_st_upc",String(a))},getLongestPlaybackInterval:function(){return parseInt(O.getLabel("ns_st_lpc"))},setLongestPlaybackInterval:function(a){O.setLabel("ns_st_lpc",String(a))},getAssetLongestPlaybackInterval:function(){return parseInt(O.getLabel("ns_st_lpa"))},setAssetLongestPlaybackInterval:function(a){O.setLabel("ns_st_lpa",String(a))},incrementPauses:function(){O.setLabel("ns_st_pc",String(O.getPauses()+1))},incrementSeeks:function(){O.setLabel("ns_st_skc",String(O.getSeeks()+1))},incrementPlayCounter:function(){O.setLabel("ns_st_sq",String(O.getPlayCounter()+1))},getPlayCounter:function(){return parseInt(O.getLabel("ns_st_sq"))},getBufferingTime:function(){return parseInt(O.getLabel("ns_st_bt"))},setBufferingTime:function(a){O.setLabel("ns_st_bt",String(a))},addBufferingTime:function(a){if(!isNaN(z)){var b=O.getBufferingTime();b+=a-z,O.setBufferingTime(b),z=NaN}},setPlaybackStartPosition:function(a){s=parseInt(a)},getPlaybackStartPosition:function(){return s},addInterval:function(a){isNaN(s)||isNaN(a)||(q=b.addNewPlaybackInterval(q,s,a,P),r=b.addNewPlaybackInterval(r,s,a,P),c(),s=NaN)},getElapsedTime:function(){return parseInt(O.getLabel("ns_st_et"))},setElapsedTime:function(a){O.setLabel("ns_st_et",String(a))},addElapsedTime:function(a){if(!isNaN(n)){var b=O.getElapsedTime();b+=a-n,O.setElapsedTime(b),n=NaN}},getElapsedTimestamp:function(){return n},setElapsedTimestamp:function(a){n=a},addPlaybackTime:function(a){if(!isNaN(g)){var b=O.getPlaybackTime();b+=a-g,O.setPlaybackTime(b),g=NaN}},getPlaybackTime:function(){return parseInt(O.getLabel("ns_st_pt"))},getExpectedPlaybackPosition:function(a){return isNaN(g)||(m+=a-g),m},setPlaybackTimeOffset:function(a){m=a},getPlaybackTimeOffset:function(){return m},setPlaybackTime:function(a){O.setLabel("ns_st_pt",String(a))},getPlaybackTimestamp:function(){return g},setPlaybackTimestamp:function(a){g=a},setPreviousPlaybackTime:function(a){j=a},setPreviousPlaybackTimestamp:function(a){i=a},getBufferingTimestamp:function(){return z},setBufferingTimestamp:function(a){z=a},getPauses:function(){return parseInt(O.getLabel("ns_st_pc"))},setPauses:function(a){O.setLabel("ns_st_pc",String(a))},getSeeks:function(){return parseInt(O.getLabel("ns_st_skc"))},setSeeks:function(a){O.setLabel("ns_st_skc",String(a))},setSeeking:function(a){B=a},isSeeking:function(){return B},setCollectingSeekingTime:function(a){F=a},isCollectingSeekingTime:function(){return F},setClipStarted:function(a){e=a},isClipStarted:function(){return e},setPlaybackStarted:function(a){f=a},isPlaybackStarted:function(){return f},setSeekingTimestamp:function(a){C=a},getSeekingTimestamp:function(){return C},addSeekingTime:function(a){if(!isNaN(C)){var b=O.getSeekingTime();b+=a-C,O.setSeekingTime(b),C=NaN}},getSeekingTime:function(){return parseInt(O.getLabel("ns_st_skt"))},setSeekingTime:function(a){O.setLabel("ns_st_skt",String(a))},setSeekingTimeBeforeEnd:function(a){H=a},getSeekingTimeBeforeEnd:function(){return H},setSeekStartPosition:function(a){E=a},getSeekStartPosition:function(){return E},setSeekingAmount:function(a){O.setLabel("ns_st_ska",String(a))},getSeekingAmount:function(){return parseInt(O.getLabel("ns_st_ska"))},addSeekingAmount:function(a){var b=O.getSeekingAmount();b+=Math.abs(a-E),O.setSeekingAmount(b);var c;E==a?c=0:E>a?c=-1:a>E&&(c=1),O.setSeekingDirection(c),E=0},getSeekingDirection:function(){return parseInt(O.getLabel("ns_st_skd"))},setSeekingDirection:function(a){O.setLabel("ns_st_skd",String(a))},resetClipLifecycleLabels:function(){I.ns_st_pt="0",j=0,k=0,I.ns_st_bt="0",A=0,I.ns_st_bc="0",L=0,I.ns_st_pc="0",J=0,I.ns_st_sq="0",I.ns_st_upa="0",v=0,w=0,I.ns_st_et="0",o=0,I.ns_st_lpa="0",y=0,I.ns_st_skt="0",D=0,I.ns_st_ska="0",G=0,I.ns_st_skc="0",K=0},incrementSegmentPlaybackCounter:function(){M++},incrementClipLoadCounter:function(){O.setLabel("ns_st_sc",String(O.getClipLoadCounter()+1))},incrementAssetPlaybackCounter:function(){N++},setPreviousUniquePlaybackInterval:function(a){t=a},setPreviousEventIndependentUniquePlaybackInterval:function(a){u=a},setPreviousLongestPlaybackInterval:function(a){x=a},resetAssetPlaybackCounters:function(){r=[],O.setAssetUniquePlaybackInterval(0),v=0,w=0,O.setAssetLongestPlaybackInterval(0),y=0},setSegmentPlaybackCounter:function(a){M=a},setClipLoadCounter:function(a){O.setLabel("ns_st_sc",String(a))},setAssetPlaybackCounter:function(a){N=a},setLowestPartNumberPlayed:function(a){p=a},getSegmentPlaybackCounter:function(){return M},getClipLoadCounter:function(){return parseInt(O.getLabel("ns_st_sc"))},getAssetPlaybackCounter:function(){return N},getLowestPartNumberPlayed:function(){return p},getBuffers:function(){return parseInt(O.getLabel("ns_st_bc"))},incrementBufferCount:function(){O.setLabel("ns_st_bc",String(O.getBuffers()+1))},getPreviousBufferingTime:function(){return A}}),a()}return a.resetClip=function(a,b,c){for(var d=a.getLabels(),e={},f=0;c&&f<c.length;++f)d.hasOwnProperty(c[f])&&(e[c[f]]=d[c[f]]);b.setLabels(e),b.setPlaybackIntervalMergeTolerance(a.getPlaybackIntervalMergeTolerance())},a}(),n=function(){function a(){function a(){c=new m,f={},f.ns_st_bp="0",f.ns_st_pa="0",f.ns_st_pp="0",f.ns_st_sp="1",f.ns_st_id=String(+new Date),d=NaN,e=NaN,h={},i=0,g=!1,j=!1,k=0}var c,d,e,f,g,h,i,j,k,l=this;b.extend(this,{resetClip:function(){var a=c;c=new m,m.resetClip(a,c)},hashExists:function(a){return null!=h[a]},storeHash:function(a){h[a]={}},removeHash:function(a){delete h[a]},storeClipPlaybackCounters:function(){for(var a in h)if(h.hasOwnProperty(a)&&h[a].clipNumber===c.getClipNumber()){b.extend(h[a],{segmentPlaybackCounter:c.getSegmentPlaybackCounter(),clipLoadCounter:c.getClipLoadCounter(),assetPlaybackCounter:c.getAssetPlaybackCounter(),lowestPartNumberPlayed:c.getLowestPartNumberPlayed(),seeking:c.isSeeking(),seekingTimeBeforeEnd:c.getSeekingTimeBeforeEnd(),seekingStartPosition:c.getSeekStartPosition(),clipPlaybackIntervals:c.getClipPlaybackIntervals(),uniquePlaybackInterval:c.getUniquePlaybackInterval(),longestPlaybackInterval:c.getLongestPlaybackInterval(),videoTrack:c.getVideoTrack(),audioTrack:c.getAudioTrack(),subtitleTrack:c.getSubtitleTrack(),cdn:c.getCDN()});break}},getStoredClipRegisters:function(a){return h[a]},getClipNumber:function(a){return h[a].clipNumber},getMaxClipNumber:function(){return i},storeClipNumber:function(a,b){h[a].clipNumber=b,b>i&&(i=b)},setLabels:function(a){null!=a&&b.extend(f,a)},getLabels:function(){return f},setLabel:function(a,b){var c={};c[a]=b,l.setLabels(c)},getLabel:function(a){return f[a]},getClip:function(){return c},createLabels:function(a){var d=a||{};return j||(d.ns_st_pb=null!=d.ns_st_pb?d.ns_st_pb:"1"),b.extend(d,l.getLabels()),c.isPlaybackStarted()&&(d.ns_st_ppc=String(k)),d},incrementPlayCounter:function(){l.setLabel("ns_st_sp",String(parseInt(l.getLabel("ns_st_sp"))+1))},incrementPauses:function(){l.setLabel("ns_st_pp",String(l.getPauses()+1))},addPlaybackTime:function(a){if(!isNaN(e)){var b=l.getPlaybackTime();b+=a-e,l.setPlaybackTime(b),e=NaN}},addBufferingTime:function(a){if(!isNaN(d)){var b=l.getBufferingTime();b+=a-d,l.setBufferingTime(b),d=NaN}},getBufferingTime:function(){return parseInt(l.getLabel("ns_st_bp"))},setBufferingTime:function(a){l.setLabel("ns_st_bp",String(a))},getPlaybackTime:function(){return parseInt(l.getLabel("ns_st_pa"))},setBufferingTimestamp:function(a){d=a},getBufferingTimestamp:function(){return d},setPlaybackTime:function(a){l.setLabel("ns_st_pa",String(a))},setPlaybackTimestamp:function(a){e=a},getPlaybackTimestamp:function(){return e},getPauses:function(){return parseInt(l.getLabel("ns_st_pp"))},setPauses:function(a){l.setLabel("ns_st_pp",String(a))},isPlaylistStarted:function(){return g},setPlaylistStarted:function(a){g=a},getPlaybackCounter:function(){return k},incrementPlaybackCounter:function(){k++},setFirstEventSent:function(a){j=a}}),a()}return a.resetPlaylist=function(b,c,d){for(var e=b.getClip(),f=b.getLabels(),g={},h=0;d&&h<d.length;h++)f.hasOwnProperty(d[h])&&(g[d[h]]=f[d[h]]);c=new a,c.setLabels(g),m.resetClip(e,c.getClip(),d)},a}(),o=function(){return function(a){function c(){e=1}function d(c){f=b.extend({},c);var d=a.getSSECore().getPixelURL();if(a.getAppCore()){if(a.getSSECore().isProperlyInitialized()){var e=a.getSSECore().getExports().am,g=a.getSSECore().getExports().et,h=e.newApplicationMeasurement(a.getAppCore(),g.HIDDEN,c,d);a.getAppCore().getQueue().offer(h)}}else d&&a.getSSECore().getPlatformAPI().httpGet(a.getSSECore().prepareUrl(d,c))}var e,f,g=this;b.extend(this,{newEvent:function(a){d(a.eventLabels),a.eventType!=i.HEARTBEAT&&g.incrementEventCounter()},getEventCounter:function(){return e},incrementEventCounter:function(){e++},setEventCounter:function(a){e=a},getMeasurementSnapshot:function(){return f}}),c()}}(),p=function(){return function(a){function c(){g=0,h=0}function d(){h++;var c={},d=b.fixEventTime(c);c.ns_st_po=String(a.getPlaylist().getClip().getPlaybackTimeOffset()+(d-a.getPlaylist().getClip().getPlaybackTimestamp())),c.ns_st_pa=String(a.getPlaylist().getPlaybackTime()+(d-a.getPlaylist().getPlaybackTimestamp())),c.ns_st_pt=String(a.getPlaylist().getClip().getPlaybackTime()+(d-a.getPlaylist().getClip().getPlaybackTimestamp())),c.ns_st_dpt=String(d-a.getPlaylist().getClip().getPlaybackTimestamp()),a.getStateMachine().getCurrentState()==j.BUFFERING_DURING_PLAYBACK?(c.ns_st_bp=String(a.getPlaylist().getBufferingTime()+(d-a.getPlaylist().getBufferingTimestamp())),c.ns_st_bt=String(a.getPlaylist().getClip().getBufferingTime()+(d-a.getPlaylist().getClip().getBufferingTimestamp())),c.ns_st_dbt=String(d-a.getPlaylist().getClip().getBufferingTimestamp())):c.ns_st_dbt=String(a.getPlaylist().getClip().getBufferingTime()-a.getPlaylist().getClip().getPreviousBufferingTime()),c.ns_st_et=String(a.getPlaylist().getClip().getElapsedTime()+(d-a.getPlaylist().getClip().getElapsedTimestamp())),c.ns_st_det=String(d-a.getPlaylist().getClip().getElapsedTimestamp());var e=b.cloneObject(a.getPlaylist().getClip().getClipPlaybackIntervals()),f=b.cloneObject(a.getPlaylist().getClip().getAssetPlaybackIntervals());e=b.addNewPlaybackInterval(e,a.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(c.ns_st_po),a.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()),f=b.addNewPlaybackInterval(f,a.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(c.ns_st_po),a.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());var l,m,n=0;for(l=0;l<e.length;l++)n+=Math.abs(e[l].end-e[l].start);c.ns_st_upc=String(n),c.ns_st_dupc=String(n-a.getPlaylist().getClip().getUniquePlaybackInterval());var o=0;for(l=0;l<e.length;l++)m=Math.abs(e[l].end-e[l].start),m>o&&(o=m);c.ns_st_lpc=String(o),c.ns_st_dlpc=String(o-a.getPlaylist().getClip().getLongestPlaybackInterval());var p=0;for(l=0;l<f.length;l++)p+=Math.abs(f[l].end-f[l].start);c.ns_st_upa=String(p),c.ns_st_dupa=String(p-a.getPlaylist().getClip().getAssetUniquePlaybackInterval());var q=0;for(l=0;l<f.length;l++)m=Math.abs(f[l].end-f[l].start),m>q&&(q=m);c.ns_st_lpa=String(q),c.ns_st_dlpa=String(q-a.getPlaylist().getClip().getAssetLongestPlaybackInterval()),c.ns_st_hc=String(a.getHeartbeat().getCount());var r=a.getSSECore().createLabels(i.HEARTBEAT,c,d);a.getEventManager().newEvent(r),g=0,k.resume()}function e(){null!=f&&(a.getSSECore().getPlatformAPI().clearTimeout(f),f=null)}var f,g,h,k=this,m=l.DEFAULT_HEARTBEAT_INTERVAL;b.extend(this,{getCount:function(){return h},setIntervals:function(a){m=a},getInterval:function(a){var b=0;if(null!=m)for(var c=0;c<m.length;c++){var d=m[c],e=d.playingtime;if(!e||e>a){b=d.interval;break}}return b},resume:function(){e();var b=k.getInterval(a.getPlaylist().getClip().getPlaybackTime()+(+new Date-a.getPlaylist().getClip().getPlaybackTimestamp()));if(b>0){var c=g>0?g:b;f=a.getSSECore().getPlatformAPI().setTimeout(d,c)}g=0},pause:function(){e();var b=k.getInterval(a.getPlaylist().getClip().getPlaybackTime()+(+new Date-a.getPlaylist().getClip().getPlaybackTimestamp()));g=b-(a.getPlaylist().getClip().getPlaybackTime()+(+new Date-a.getPlaylist().getClip().getPlaybackTimestamp()))%b}}),c()}}(),q=function(){return function(a){function c(){}function d(){var c={},d=b.fixEventTime(c);c.ns_st_po=String(a.getPlaylist().getClip().getExpectedPlaybackPosition(d)),a.getPlaylist().addPlaybackTime(d),a.getPlaylist().setPlaybackTimestamp(d),a.getPlaylist().getClip().addPlaybackTime(d),a.getPlaylist().getClip().setPlaybackTimestamp(d),a.getStateMachine().getCurrentState()==j.BUFFERING_DURING_PLAYBACK&&(a.getPlaylist().addBufferingTime(d),a.getPlaylist().setBufferingTimestamp(d),a.getPlaylist().getClip().addBufferingTime(d),a.getPlaylist().getClip().setBufferingTimestamp(d)),a.getPlaylist().getClip().addElapsedTime(d),a.getPlaylist().getClip().setElapsedTimestamp(d),a.getPlaylist().getClip().addInterval(parseInt(c.ns_st_po)),a.getPlaylist().getClip().setPlaybackStartPosition(parseInt(c.ns_st_po));
        var e=a.getSSECore().createLabels(i.KEEPALIVE,c,d);a.getEventManager().newEvent(e),g.resume()}function e(){null!=f&&(a.getSSECore().getPlatformAPI().clearTimeout(f),f=null)}var f,g=this,h=l.DEFAULT_KEEP_ALIVE_INTERVAL;b.extend(g,{resume:function(){e(),f=a.getSSECore().getPlatformAPI().setTimeout(d,h)},pause:function(){e()},setInterval:function(a){h=a},getInterval:function(){return h}}),c()}}(),r=function(){return function(a){function c(){f=j.IDLE,e=null,d=NaN}var d,e,f,g=this;b.extend(g,{eventTypeToState:function(a){if(f==j.IDLE){if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_BEFORE_PLAYBACK;if(a==i.BUFFER)return j.BUFFERING_BEFORE_PLAYBACK}else if(f==j.PLAYBACK_NOT_STARTED){if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_BEFORE_PLAYBACK;if(a==i.BUFFER)return j.BUFFERING_BEFORE_PLAYBACK;if(a==i.END||a==i.AD_SKIP)return j.IDLE}else if(f==j.PLAYING){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.BUFFER)return j.BUFFERING_DURING_PLAYBACK;if(a==i.PAUSE)return j.PAUSED;if(a==i.SEEK_START)return j.SEEKING_DURING_PLAYBACK}else if(f==j.PAUSED){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.BUFFER)return j.BUFFERING_DURING_PAUSE;if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_DURING_PAUSE}else if(f==j.BUFFERING_BEFORE_PLAYBACK){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PAUSE||a==i.BUFFER_STOP)return j.PLAYBACK_NOT_STARTED;if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_BEFORE_PLAYBACK}else if(f==j.BUFFERING_DURING_PLAYBACK){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY||a==i.BUFFER_STOP)return j.PLAYING;if(a==i.PAUSE_ON_BUFFERING)return j.PAUSED_DURING_BUFFERING;if(a==i.SEEK_START)return j.SEEKING_DURING_BUFFERING;if(a==i.PAUSE)return j.PAUSED}else if(f==j.BUFFERING_DURING_SEEKING){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.BUFFER_STOP)return j.SEEKING_DURING_PLAYBACK;if(a==i.PAUSE)return j.PAUSED}else if(f==j.BUFFERING_DURING_PAUSE){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.SEEK_START)return j.SEEKING_DURING_PAUSE;if(a==i.BUFFER_STOP||a==i.PAUSE)return j.PAUSED}else if(f==j.SEEKING_BEFORE_PLAYBACK){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PAUSE)return j.PLAYBACK_NOT_STARTED;if(a==i.PLAY)return j.PLAYING;if(a==i.BUFFER)return j.BUFFERING_BEFORE_PLAYBACK}else if(f==j.SEEKING_DURING_PLAYBACK){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.PAUSE)return j.PAUSED;if(a==i.BUFFER)return j.BUFFERING_DURING_SEEKING}else if(f==j.SEEKING_DURING_BUFFERING){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.PAUSE||a==i.BUFFER_STOP)return j.PAUSED}else if(f==j.SEEKING_DURING_PAUSE){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.PLAY)return j.PLAYING;if(a==i.PAUSE||a==i.BUFFER_STOP)return j.PAUSED;if(a==i.BUFFER)return j.BUFFERING_DURING_PAUSE}else if(f==j.PAUSED_DURING_BUFFERING){if(a==i.END||a==i.AD_SKIP)return j.IDLE;if(a==i.SEEK_START)return j.SEEKING_DURING_BUFFERING;if(a==i.PAUSE)return j.PAUSED;if(a==i.PLAY||a==i.BUFFER_STOP)return j.PLAYING}return null},getCurrentState:function(){return f},newEvent:function(a,b){var c=g.eventTypeToState(a);f!=c&&(e=f,f=c,d=b)},getPreviousState:function(){return e},getLastStateChangeTimestamp:function(){return d}}),c()}}(),s=function(){return function(a){var c=this;b.extend(c,{onSeekStartWhenPausedOrBufferingDuringPause:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().isSeeking()?a.getPlaylist().getClip().isCollectingSeekingTime()||(a.getPlaylist().getClip().setSeekingTimestamp(b),a.getPlaylist().getClip().setCollectingSeekingTime(!0)):a.getPlaylist().getClip().incrementSeeks(),a.getPlaylist().getClip().isSeeking()||(a.getPlaylist().getClip().setSeeking(!0),a.getPlaylist().getClip().setCollectingSeekingTime(!0),a.getPlaylist().getClip().setSeekStartPosition(d),a.getPlaylist().getClip().setSeekingTimestamp(b))},onBufferWhenSeekingOrPlayBackNotStartedOrPaused:function(b,c){a.getPlaylist().setBufferingTimestamp(b),a.getPlaylist().getClip().setBufferingTimestamp(b)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(b,c){a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(b,c){a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1))},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(c,d){a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getPlaylist().getClip().addElapsedTime(c);var e=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(e),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(b,c){a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1))}})}}(),t=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getPlaylist().addBufferingTime(c),a.getPlaylist().getClip().addBufferingTime(c),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onBufferStop:function(b,c){a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1))},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().isSeeking()?a.getPlaylist().getClip().isCollectingSeekingTime()||(a.getPlaylist().getClip().setSeekingTimestamp(b),a.getPlaylist().getClip().setCollectingSeekingTime(!0)):a.getPlaylist().getClip().incrementSeeks(),a.getPlaylist().getClip().isSeeking()||(a.getPlaylist().getClip().setSeeking(!0),a.getPlaylist().getClip().setCollectingSeekingTime(!0),a.getPlaylist().getClip().setSeekStartPosition(d),a.getPlaylist().getClip().setSeekingTimestamp(b))},onPause:function(b,c){a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().isPlaylistStarted()||(a.getPlaylist().setPlaylistStarted(!0),a.getPlaylist().incrementPlaybackCounter()),a.getPlaylist().getClip().setClipStarted(!0),a.getPlaylist().getClip().setPlaybackStarted(!0),a.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==a.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(a.getPlaylist().getClip().getLabels().ns_st_pn)<=a.getPlaylist().getClip().getLowestPartNumberPlayed())&&(a.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(a.getPlaylist().getClip().getLabels().ns_st_pn)),a.getPlaylist().getClip().incrementAssetPlaybackCounter(),a.getPlaylist().getClip().resetAssetPlaybackCounters()),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=String(a.getSSECore().getLoadTimeOffset()+b-a.getSSECore().getInitTimestamp()),a.getSSECore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),u=function(){return function(a){var c=this;b.extend(c,{onEndAndSkip:function(c,d){a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getPlaylist().addBufferingTime(c),a.getPlaylist().getClip().addBufferingTime(c),a.getPlaylist().getClip().addElapsedTime(c);var e=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(e),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onPause:function(b,c){a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b)},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),v=function(){return function(a){var c=this;b.extend(c,{onPauseOnBuffering:function(b,c){var d=parseInt(c.ns_st_po);a.getSSECore().stopPausedOnBufferingTimer(),a.getHeartbeat().pause(),a.getSSECore().resetKeepAlive(),a.getPlaylist().addPlaybackTime(b),a.getPlaylist().getClip().addPlaybackTime(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().addInterval(d),a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses();var e=a.getSSECore().createLabels(i.PAUSE,c,b);a.getEventManager().newEvent(e),a.getPlaylist().setBufferingTimestamp(b),a.getPlaylist().getClip().setBufferingTimestamp(b),a.getPlaylist().getClip().setPlaybackTimeOffset(d)},onBufferStop:function(b,c){a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b)},onEndOrAdSkip:function(c,d){var e=parseInt(d.ns_st_po);a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getSSECore().stopPausedOnBufferingTimer(),a.getPlaylist().addBufferingTime(c),a.getPlaylist().getClip().addBufferingTime(c),a.getPlaylist().getClip().addPlaybackTime(c),a.getPlaylist().getClip().addElapsedTime(c),a.getPlaylist().getClip().addInterval(e);var f=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(f),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getSSECore().stopPausedOnBufferingTimer(),a.getPlaylist().addPlaybackTime(b),a.getPlaylist().getClip().addPlaybackTime(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().addInterval(d),a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().incrementSeeks(),a.getPlaylist().getClip().setSeeking(!0),a.getPlaylist().getClip().setCollectingSeekingTime(!0),a.getPlaylist().getClip().setSeekStartPosition(d),a.getPlaylist().getClip().setSeekingTimestamp(b),a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses();var e=a.getSSECore().createLabels(i.PAUSE,c,b);a.getEventManager().newEvent(e)},onPause:function(b,c){var d=parseInt(c.ns_st_po);a.getSSECore().stopPausedOnBufferingTimer(),a.getPlaylist().addPlaybackTime(b),a.getPlaylist().getClip().addPlaybackTime(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().addInterval(d),a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses();var e=a.getSSECore().createLabels(i.PAUSE,c,b);a.getEventManager().newEvent(e)},onPlay:function(b,c){a.getSSECore().stopPausedOnBufferingTimer(),a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b)}})}}(),w=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getSSECore().stopPausedOnBufferingTimer(),a.getPlaylist().addBufferingTime(c),a.getPlaylist().getClip().addBufferingTime(c),a.getPlaylist().getClip().addElapsedTime(c);var e=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(e),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onPause:function(b,c){a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses(),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),x=function(){return function(a){var c=this;b.extend(c,{onBuffer:function(b,c){a.getPlaylist().getClip().setSeekingTime(a.getPlaylist().getClip().getSeekingTimeBeforeEnd()),a.getPlaylist().setBufferingTimestamp(b),a.getPlaylist().getClip().setBufferingTimestamp(b)},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().setSeekingTime(a.getPlaylist().getClip().getSeekingTimeBeforeEnd()),a.getPlaylist().getClip().incrementSeeks(),a.getPlaylist().getClip().setSeeking(!0),a.getPlaylist().getClip().setCollectingSeekingTime(!0),a.getPlaylist().getClip().setSeekStartPosition(d),a.getPlaylist().getClip().setSeekingTimestamp(b)},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().setSeekingTime(a.getPlaylist().getClip().getSeekingTimeBeforeEnd()),a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().isPlaylistStarted()||(a.getPlaylist().setPlaylistStarted(!0),a.getPlaylist().incrementPlaybackCounter()),a.getPlaylist().getClip().setClipStarted(!0),a.getPlaylist().getClip().setPlaybackStarted(!0),a.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==a.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(a.getPlaylist().getClip().getLabel("ns_st_pn"))<=a.getPlaylist().getClip().getLowestPartNumberPlayed())&&(a.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(a.getPlaylist().getClip().getLabel("ns_st_pn"))),a.getPlaylist().getClip().incrementAssetPlaybackCounter(),a.getPlaylist().getClip().resetAssetPlaybackCounters()),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=String(a.getSSECore().getLoadTimeOffset()+b-a.getSSECore().getInitTimestamp()),a.getSSECore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),y=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getPlaylist().getClip().addElapsedTime(c);var e=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(e),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),z=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getPlaylist().addBufferingTime(c),a.getPlaylist().getClip().addBufferingTime(c),a.getPlaylist().getClip().addElapsedTime(c);var e=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(e),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onBufferStop:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().isSeeking()?a.getPlaylist().getClip().isCollectingSeekingTime()||(a.getPlaylist().getClip().setSeekingTimestamp(b),a.getPlaylist().getClip().setCollectingSeekingTime(!0)):a.getPlaylist().getClip().incrementSeeks(),a.getPlaylist().getClip().isSeeking()||(a.getPlaylist().getClip().setSeeking(!0),a.getPlaylist().getClip().setCollectingSeekingTime(!0),a.getPlaylist().getClip().setSeekStartPosition(d),a.getPlaylist().getClip().setSeekingTimestamp(b))},onPause:function(b,c){a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses()},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().addBufferingTime(b),a.getPlaylist().getClip().addBufferingTime(b),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),A=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().isSeeking()?a.getPlaylist().getClip().setSeekingTimestamp(b):a.getPlaylist().getClip().incrementSeeks(),a.getPlaylist().getClip().isSeeking()||(a.getPlaylist().getClip().setSeeking(!0),a.getPlaylist().getClip().setCollectingSeekingTime(!0),a.getPlaylist().getClip().setSeekStartPosition(d),a.getPlaylist().getClip().setSeekingTimestamp(b))},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().isPlaylistStarted()||(a.getPlaylist().setPlaylistStarted(!0),a.getPlaylist().incrementPlaybackCounter()),a.getPlaylist().getClip().setClipStarted(!0),a.getPlaylist().getClip().setPlaybackStarted(!0),a.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==a.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(a.getPlaylist().getClip().getLabels().ns_st_pn)<=a.getPlaylist().getClip().getLowestPartNumberPlayed())&&(a.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(a.getPlaylist().getClip().getLabels().ns_st_pn)),a.getPlaylist().getClip().incrementAssetPlaybackCounter(),a.getPlaylist().getClip().resetAssetPlaybackCounters()),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=String(a.getSSECore().getLoadTimeOffset()+b-a.getSSECore().getInitTimestamp()),a.getSSECore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),B=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){var e=parseInt(d.ns_st_po);a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getPlaylist().addPlaybackTime(c),a.getPlaylist().getClip().addPlaybackTime(c),a.getPlaylist().getClip().addElapsedTime(c),a.getPlaylist().getClip().addInterval(e);var f=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(f),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onBuffer:function(b,c){a.getSSECore().isPauseOnBufferingEnabled()&&a.getSSECore().startPausedOnBufferingTimer(b,c),a.getPlaylist().getClip().incrementBufferCount(),a.getPlaylist().setBufferingTimestamp(b),a.getPlaylist().getClip().setBufferingTimestamp(b)},onSeekStart:function(b,c){var d=parseInt(c.ns_st_po);a.getHeartbeat().pause(),a.getSSECore().resetKeepAlive(),a.getPlaylist().addPlaybackTime(b),a.getPlaylist().getClip().addPlaybackTime(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().addInterval(d),a.getPlaylist().getClip().incrementSeeks(),a.getPlaylist().getClip().setSeeking(!0),a.getPlaylist().getClip().setCollectingSeekingTime(!0),a.getPlaylist().getClip().setSeekStartPosition(d),a.getPlaylist().getClip().setSeekingTimestamp(b),a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses();var e=a.getSSECore().createLabels(i.PAUSE,c,b);a.getEventManager().newEvent(e)},onPause:function(b,c){var d=parseInt(c.ns_st_po);a.getHeartbeat().pause(),a.getSSECore().resetKeepAlive(),a.getPlaylist().addPlaybackTime(b),a.getPlaylist().getClip().addPlaybackTime(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().addInterval(d),a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses();var e=a.getSSECore().createLabels(i.PAUSE,c,b);a.getEventManager().newEvent(e)}})}}(),C=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onPause:function(b,c){a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().isPlaylistStarted()||(a.getPlaylist().setPlaylistStarted(!0),a.getPlaylist().incrementPlaybackCounter()),a.getPlaylist().getClip().setClipStarted(!0),a.getPlaylist().getClip().setPlaybackStarted(!0),a.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==a.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(a.getPlaylist().getClip().getLabels().ns_st_pn)<=a.getPlaylist().getClip().getLowestPartNumberPlayed())&&(a.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(a.getPlaylist().getClip().getLabels().ns_st_pn)),a.getPlaylist().getClip().incrementAssetPlaybackCounter(),a.getPlaylist().getClip().resetAssetPlaybackCounters()),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=String(a.getSSECore().getLoadTimeOffset()+b-a.getSSECore().getInitTimestamp()),a.getSSECore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),D=function(){return function(a){var c=this;b.extend(c,{onPause:function(b,c){a.getPlaylist().incrementPauses(),a.getPlaylist().getClip().incrementPauses(),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1))}})}}(),E=function(){return function(a){var c=this;b.extend(c,{onEndOrAdSkip:function(c,d){parseInt(d.ns_st_po);a.getSSECore().resetHeartbeat(),a.getSSECore().resetKeepAlive(),a.getPlaylist().getClip().addElapsedTime(c);var e=a.getSSECore().createLabels(i.END,d,c);a.getEventManager().newEvent(e),a.getPlaylist().getClip().isSeeking()&&a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().setSeekingTimeBeforeEnd(c-a.getPlaylist().getClip().getSeekingTimestamp()),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().storeClipPlaybackCounters(),a.getPlaylist().getClip().resetClipLifecycleLabels(),a.getPlaylist().getClip().setPlaybackStarted(!1),d.hasOwnProperty("ns_st_pe")&&b.parseBoolean(d.ns_st_pe,!1)&&a.getSSECore().resetPlaylist()},onPlay:function(b,c){var d=parseInt(c.ns_st_po);a.getPlaylist().getClip().isSeeking()&&(a.getPlaylist().getClip().isCollectingSeekingTime()&&(a.getPlaylist().getClip().addSeekingTime(b),a.getPlaylist().getClip().setCollectingSeekingTime(!1)),a.getPlaylist().getClip().addSeekingAmount(d),a.getPlaylist().getClip().setSeeking(!1)),a.getPlaylist().getClip().incrementPlayCounter(),a.getPlaylist().setPlaybackTimestamp(b),a.getPlaylist().getClip().setPlaybackTimestamp(b),a.getPlaylist().getClip().addElapsedTime(b),a.getPlaylist().getClip().setElapsedTimestamp(b),a.getPlaylist().getClip().setPlaybackStartPosition(d),a.getSSECore().isLoadingTimeSent()||(c.ns_st_lt=String(a.getSSECore().getLoadTimeOffset()+b-a.getSSECore().getInitTimestamp()),a.getSSECore().setLoadingTimeSent(!0)),a.getHeartbeat().resume(),a.getKeepAlive().resume();var e=a.getSSECore().createLabels(i.PLAY,c,b);a.getEventManager().newEvent(e)}})}}(),F=function(){return function(){function a(){f=new G(aa),b.getNamespace().comScore?(ba=b.getNamespace().comScore.exports,f.setAppCore(ba.c())):f.setAppCore(null),f.setKeepAlive(new q(f)),
        f.setHeartbeat(new p(f)),f.setEventManager(new o(f)),f.setStateMachine(new r),f.setPlaylist(new n),$={},m=new x(f),F=new y(f),H=new A(f),I=new B(f),J=new t(f),K=new v(f),L=new w(f),M=new u(f),N=new z(f),O=new C(f),P=new D(f),Q=new E(f),R=new s(f),S=!1,T=0,U=+new Date,V=!0,X=!1,Z=[]}function c(a){var b=f.getStateMachine().getCurrentState();if(b==j.IDLE||b==j.PLAYBACK_NOT_STARTED||b==j.BUFFERING_BEFORE_PLAYBACK||b==j.SEEKING_BEFORE_PLAYBACK){if(a==i.PLAY)return!0}else if(b==j.PLAYING){if(a==i.END||a==i.AD_SKIP||a==i.SEEK_START||a==i.PAUSE)return!0}else if(b==j.PAUSED||b==j.BUFFERING_DURING_PAUSE||b==j.SEEKING_DURING_PLAYBACK||b==j.SEEKING_DURING_BUFFERING||b==j.SEEKING_DURING_PAUSE){if(a==i.END||a==i.AD_SKIP||a==i.PLAY)return!0}else if(b==j.BUFFERING_DURING_PLAYBACK){if(a==i.PAUSE_ON_BUFFERING||a==i.END||a==i.AD_SKIP||a==i.SEEK_START||a==i.PAUSE||a==i.PLAY)return!0}else if(b==j.BUFFERING_DURING_SEEKING){if(a==i.END||a==i.AD_SKIP||a==i.PAUSE||a==i.PLAY)return!0}else if(b==j.PAUSED_DURING_BUFFERING&&(a==i.END||a==i.AD_SKIP||a==i.BUFFER_STOP||a==i.PLAY))return!0;return!1}function d(a,b,d){var e=f.getStateMachine().getCurrentState();a==i.AD_SKIP&&!d.hasOwnProperty("ns_st_ui")&&c(a)?d.ns_st_ui="skip":a==i.SEEK_START&&!d.hasOwnProperty("ns_st_ui")&&c(a)&&(d.ns_st_ui="seek"),e==j.IDLE?a==i.BUFFER?m.onBuffer(b,d):a==i.SEEK_START?m.onSeekStart(b,d):a==i.PLAY&&m.onPlay(b,d):e==j.PLAYBACK_NOT_STARTED?a==i.END||a==i.AD_SKIP?H.onEndOrAdSkip(b,d):a==i.SEEK_START?H.onSeekStart(b,d):a==i.PLAY?H.onPlay(b,d):a==i.BUFFER&&R.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):e==j.PLAYING?a==i.END||a==i.AD_SKIP?I.onEndOrAdSkip(b,d):a==i.BUFFER?I.onBuffer(b,d):a==i.SEEK_START?I.onSeekStart(b,d):a==i.PAUSE&&I.onPause(b,d):e==j.PAUSED?a==i.END||a==i.AD_SKIP?F.onEndOrAdSkip(b,d):a==i.PLAY?F.onPlay(b,d):a==i.BUFFER?R.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):a==i.SEEK_START&&R.onSeekStartWhenPausedOrBufferingDuringPause(b,d):e==j.BUFFERING_BEFORE_PLAYBACK?a==i.END||a==i.AD_SKIP?J.onEndOrAdSkip(b,d):a==i.BUFFER_STOP?J.onBufferStop(b,d):a==i.SEEK_START?J.onSeekStart(b,d):a==i.PAUSE?J.onPause(b,d):a==i.PLAY&&J.onPlay(b,d):e==j.BUFFERING_DURING_PLAYBACK?a==i.PAUSE_ON_BUFFERING?K.onPauseOnBuffering(b,d):a==i.BUFFER_STOP?K.onBufferStop(b,d):a==i.END||a==i.AD_SKIP?K.onEndOrAdSkip(b,d):a==i.SEEK_START?K.onSeekStart(b,d):a==i.PAUSE?K.onPause(b,d):a==i.PLAY&&K.onPlay(b,d):e==j.BUFFERING_DURING_SEEKING?a==i.END||a==i.AD_SKIP?L.onEndOrAdSkip(b,d):a==i.PAUSE?L.onPause(b,d):a==i.PLAY?L.onPlay(b,d):a==i.BUFFER_STOP&&R.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(b,d):e==j.BUFFERING_DURING_PAUSE?a==i.END||a==i.AD_SKIP?M.onEndAndSkip(b,d):a==i.PAUSE?M.onPause(b,d):a==i.PLAY?M.onPlay(b,d):a==i.SEEK_START?R.onSeekStartWhenPausedOrBufferingDuringPause(b,d):a==i.BUFFER_STOP&&R.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(b,d):e==j.SEEKING_BEFORE_PLAYBACK?a==i.END||a==i.AD_SKIP?O.onEndOrAdSkip(b,d):a==i.PAUSE?O.onPause(b,d):a==i.PLAY?O.onPlay(b,d):a==i.BUFFER&&R.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):e==j.SEEKING_DURING_PLAYBACK?a==i.END||a==i.AD_SKIP?Q.onEndOrAdSkip(b,d):a==i.PLAY?Q.onPlay(b,d):a==i.BUFFER?R.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):a==i.PAUSE&&R.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(b,d):e==j.SEEKING_DURING_BUFFERING?a==i.PAUSE?P.onPause(b,d):a==i.BUFFER?R.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):a==i.PLAY?R.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):a==i.END||a==i.AD_SKIP?R.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):a==i.BUFFER_STOP&&R.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):e==j.PAUSED_DURING_BUFFERING?a==i.END||a==i.AD_SKIP?N.onEndOrAdSkip(b,d):a==i.BUFFER_STOP?N.onBufferStop(b,d):a==i.SEEK_START?N.onSeekStart(b,d):a==i.PAUSE?N.onPause(b,d):a==i.PLAY&&N.onPlay(b,d):e==j.SEEKING_DURING_PAUSE&&(a==i.BUFFER?R.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(b,d):a==i.PLAY?R.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):a==i.PAUSE?R.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(b,d):a==i.END||a==i.AD_SKIP?R.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(b,d):a==i.BUFFER_STOP&&R.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(b,d)),c(a)&&f.getPlaylist().setFirstEventSent(!0)}function e(a,c){for(var d,e=ea.encodeURIComponent||escape,f=[],g=l.LABELS_ORDER,h=a.split("?"),i=h[0],j=h[1],k=j.split("&"),m=0,n=k.length;n>m;m++){var o=k[m].split("="),p=unescape(o[0]),q=unescape(o[1]);p&&(c[p]=q)}for(var r={},s=0,t=g.length;t>s;s++){var u=g[s];if(c.hasOwnProperty(u)){var v=c[u];"undefined"!=typeof v&&null!=v&&(r[u]=!0,f.push(e(u)+"="+e(c[u])))}}for(var w in c)if(c.hasOwnProperty(w)){if(r[w])continue;var x=c[w];"undefined"!=typeof x&&null!=x&&f.push(e(w)+"="+e(c[w]))}d=i+"?"+f.join("&"),d=d+(d.indexOf("&c8=")<0?"&c8="+e(fa.title):"")+(d.indexOf("&c7=")<0?"&c7="+e(fa.URL):"")+(d.indexOf("&c9=")<0?"&c9="+e(fa.referrer):"");var y=b.browserAcceptsLargeURLs()?l.URL_LENGTH_LIMIT:l.RESTRICTED_URL_LENGTH_LIMIT;if(d.length>y&&d.indexOf("&")>0){var z=d.substr(0,y-8).lastIndexOf("&");d=(d.substring(0,z)+"&ns_cut="+e(d.substring(z+1))).substr(0,y)}return d}var f,m,F,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa=this,ba={},ca=l.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,da=l.THROTTLING_DELAY;b.extend(aa,{createLabels:function(a,c,d){var e={};if("undefined"!=typeof document){var g=document;e.c7=g.URL,e.c8=g.title,e.c9=g.referrer}return null!=c&&b.extend(e,c),e.ns_ts=null!=e.ns_ts?e.ns_ts:String(+new Date),e.ns_st_ev=null!=e.ns_st_ev?e.ns_st_ev:i.toString(a),e.ns_st_mp=null!=e.ns_st_mp?e.ns_st_mp:l.DEFAULT_PLAYERNAME,e.ns_st_mv=null!=e.ns_st_mv?e.ns_st_mv:l.STREAMSENSE_VERSION,e.ns_st_ub=null!=e.ns_st_ub?e.ns_st_ub:"0",e.ns_st_br=null!=e.ns_st_br?e.ns_st_br:"0",e.ns_st_pn=null!=e.ns_st_pn?e.ns_st_pn:"1",e.ns_st_tp=null!=e.ns_st_tp?e.ns_st_tp:"1",e.ns_st_it=null!=e.ns_st_it?e.ns_st_it:k.toString(k.SINGLE_CLIP),e.ns_st_sv=null!=e.ns_st_sv?e.ns_st_sv:l.STREAMSENSE_VERSION,e.ns_st_smv=null!=e.ns_st_smv?e.ns_st_smv:l.MODEL_VERSION,e.ns_type=null!=e.ns_type?e.ns_type:"hidden",e.ns_st_ec=null!=e.ns_st_ec?e.ns_st_ec:String(f.getEventManager().getEventCounter()),e.ns_st_po=null!=e.ns_st_po?e.ns_st_po:String(f.getPlaylist().getPlaylist().getClip().getExpectedPlaybackPosition(d)),e.ns_st_ki=null!=e.ns_st_ki?e.ns_st_ki:String(f.getKeepAlive().getInterval()),f.getPlaylist().createLabels(e),f.getPlaylist().getClip().createLabels(e),b.extend(e,aa.getLabels()),b.extend(e,c),{eventType:a,eventLabels:e}},newEvent:function(a,b,c,e){aa.stopDelayedTransitionTimer();var g=f.getStateMachine().getCurrentState(),h=f.getStateMachine().eventTypeToState(a);if(null!=h&&h!=g)if(!aa.isThrottlingEnabled()||g!=j.PLAYING&&g!=j.PAUSED||h!=j.PLAYING&&h!=j.PAUSED||e){c.ns_st_po||(f.getStateMachine().getCurrentState()==j.PLAYING&&a==i.BUFFER||f.getStateMachine().getCurrentState()==j.BUFFERING_DURING_PLAYBACK&&a==i.BUFFER_STOP?c.ns_st_po=String(f.getPlaylist().getClip().getPlaybackTimeOffset()+(b-f.getPlaylist().getClip().getPlaybackTimestamp())):c.ns_st_po=String(f.getPlaylist().getClip().getExpectedPlaybackPosition(b))),d(a,b,c);var k=0;isNaN(f.getStateMachine().getLastStateChangeTimestamp())||(k=b-f.getStateMachine().getLastStateChangeTimestamp()),f.getStateMachine().newEvent(a,b);for(var l=0,m=Z.length;m>l;l++)Z[l](g,h,c,k)}else Y=f.getPlatformAPI().setTimeout(function(a,c,d){return function(){aa.newEvent(a,b,d,!0)}}(a,h,c),da)},newPseudoEvent:function(a,b,c){if(a!=i.LOAD&&a!=i.START||f.getStateMachine().getCurrentState()==j.IDLE){a!=i.ERROR||c.ns_st_er||(c.ns_st_er=h.UNKNOWN_VALUE),f.getStateMachine().getCurrentState()!=j.IDLE&&f.getStateMachine().getCurrentState()!=j.PLAYBACK_NOT_STARTED&&f.getStateMachine().getCurrentState()!=j.SEEKING_BEFORE_PLAYBACK&&f.getStateMachine().getCurrentState()!=j.BUFFERING_BEFORE_PLAYBACK&&(f.getPlaylist().getClip().addElapsedTime(b),f.getPlaylist().getClip().setElapsedTimestamp(b));var d,e,g,k=!0,l=!1;switch(a){case i.BIT_RATE:d="ns_st_br",e="ns_st_pbr",l=!0;break;case i.PLAYBACK_RATE:d="ns_st_rt",e="ns_st_prt",l=!0;break;case i.VOLUME:d="ns_st_vo",e="ns_st_pvo",l=!0;break;case i.WINDOW_STATE:d="ns_st_ws",e="ns_st_pws",l=!0;break;case i.AUDIO:d="ns_st_at",e="ns_st_pat",l=!1;break;case i.VIDEO:d="ns_st_vt",e="ns_st_pvt",l=!1;break;case i.SUBS:d="ns_st_tt",e="ns_st_ptt",l=!1;break;case i.CDN:d="ns_st_cdn",e="ns_st_pcdn",l=!1;break;default:k=!1}if(k&&c.hasOwnProperty(d)&&(l?(aa.getLabels().hasOwnProperty(d)&&(g=aa.getLabels()[d],c[e]=g),aa.setLabel(d,c[d])):(f.getPlaylist().getClip().getLabels().hasOwnProperty(d)&&(g=f.getPlaylist().getClip().getLabels()[d],c[e]=g),f.getPlaylist().getClip().setLabel(d,c[d]))),!k||f.getStateMachine().getCurrentState()==j.PLAYING||f.getStateMachine().getCurrentState()==j.BUFFERING_DURING_PLAYBACK){c.ns_st_po||(c.ns_st_po=String(f.getPlaylist().getClip().getExpectedPlaybackPosition(b))),f.getStateMachine().getCurrentState()!=j.PLAYING&&f.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PLAYBACK||(f.getPlaylist().addPlaybackTime(b),f.getPlaylist().setPlaybackTimestamp(b),f.getPlaylist().getClip().addPlaybackTime(b),f.getPlaylist().getClip().setPlaybackTimestamp(b),f.getPlaylist().getClip().addInterval(parseInt(c.ns_st_po)),f.getPlaylist().getClip().setPlaybackStartPosition(parseInt(c.ns_st_po))),f.getStateMachine().getCurrentState()!=j.BUFFERING_BEFORE_PLAYBACK&&f.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PAUSE&&f.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_PLAYBACK&&f.getStateMachine().getCurrentState()!=j.BUFFERING_DURING_SEEKING||(f.getPlaylist().addBufferingTime(b),f.getPlaylist().setBufferingTimestamp(b),f.getPlaylist().getClip().addBufferingTime(b),f.getPlaylist().getClip().setBufferingTimestamp(b));var m=aa.createLabels(a,c,b);f.getEventManager().newEvent(m)}}},getState:function(){return f.getStateMachine().getCurrentState()},addListener:function(a){Z.push(a)},removeListener:function(a){Z.splice(b.indexOf(a,Z),1)},getLabel:function(a){return $[a]},getLabels:function(){return $},setLabel:function(a,b){null==b?delete $[a]:$[a]=b},setLabels:function(a){for(var b in a)a.hasOwnProperty(b)&&aa.setLabel(b,a[b])},getPlatformAPI:function(){return f.getAppCore()?f.getAppCore().getPlatformAPI():g},getExports:function(){return ba},isProperlyInitialized:function(){var a=f.getAppCore().getAppContext(),b=f.getAppCore().getSalt(),c=f.getAppCore().getPixelURL();return a&&c&&b},setImplementationType:function(a){f.getStateMachine().getCurrentState()!=j.IDLE||a!=k.SINGLE_CLIP&&a!=k.SEGMENTED&&a!=k.REDUCED||f.getPlaylist().setLabel("ns_st_it",k.toString(a))},setThrottlingDelay:function(a){da=a},getThrottlingDelay:function(){return da},isThrottlingEnabled:function(){return X},setThrottlingEnabled:function(a){X=a},isLoadingTimeSent:function(){return S},setLoadingTimeSent:function(a){S=a},getLoadTimeOffset:function(){return T},setLoadTimeOffset:function(a){T=a},getInitTimestamp:function(){return U},setPauseOnBufferingInterval:function(a){ca=a},getPauseOnBufferingInterval:function(){return ca},isPauseOnBufferingEnabled:function(){return V},setPauseOnBufferingEnabled:function(a){V=a},startPausedOnBufferingTimer:function(a,c){aa.stopPausedOnBufferingTimer(),W=aa.getPlatformAPI().setTimeout(function(){var d={},e=b.fixEventTime(d),f=parseInt(c.ns_st_po);d.ns_st_po=String(f+e-a),aa.newEvent(i.PAUSE_ON_BUFFERING,e,d)},ca)},stopPausedOnBufferingTimer:function(){null!=W&&(aa.getPlatformAPI().clearTimeout(W),W=null)},stopDelayedTransitionTimer:function(){Y&&(aa.getPlatformAPI().clearTimeout(Y),Y=null)},setPixelURL:function(a){if(null==a||0==a.length)return null;var b=decodeURIComponent||unescape,c=a.indexOf("?");if(c>=0){if(c<a.length-1){for(var d=a.substring(c+1).split("&"),e=0,f=d.length;f>e;e++){var g=d[e],h=g.split("=");2==h.length?aa.setLabel(h[0],b(h[1])):1==h.length&&aa.setLabel(l.PAGE_NAME_LABEL,b(h[0]))}a=a.substring(0,c+1)}}else a+="?";return _=a},getPixelURL:function(){return _?_:"undefined"!=typeof ns_p&&"string"==typeof ns_p.src?_=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?_=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null},getSseSM:function(){return f},resetPlaylist:function(a){var b=f.getPlaylist();f.setPlaylist(new n),n.resetPlaylist(b,f.getPlaylist(),a)},resetHeartbeat:function(){f.getHeartbeat().pause(),f.setHeartbeat(new p(f))},resetKeepAlive:function(){f.getKeepAlive().pause(),f.setKeepAlive(new q(f))}});var ea,fa;b.isBrowser()?(ea=window,fa=document):(ea={},fa={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),b.extend(this,{prepareUrl:e}),a()}}(),G=function(){return function(a){var c,d,e,f,g,h,i=this;b.extend(i,{getAppCore:function(){return c},getSSECore:function(){return a},getEventManager:function(){return d},getStateMachine:function(){return e},getHeartbeat:function(){return f},getKeepAlive:function(){return g},getPlaylist:function(){return h},setAppCore:function(a){c=a},setKeepAlive:function(a){g=a},setHeartbeat:function(a){f=a},setEventManager:function(a){d=a},setStateMachine:function(a){e=a},setPlaylist:function(a){h=a}})}}(),H=function(){return function(a,c){function d(){h=new F,g=!0,a&&k.setLabels(a),c&&k.setPixelURL(c)}function e(a,b){k.notify(i.CUSTOM,a,b)}function f(){g&&h.getSseSM().getStateMachine().getCurrentState()!=j.IDLE&&k.end()}var g,h,k=this,m=l.STANDARD_METADATA_LABELS;b.extend(this,{isProperlyInitialized:function(){return h.isProperlyInitialized()},reset:function(a){var b=h;b.getSseSM().getKeepAlive().pause(),b.getSseSM().getHeartbeat().pause(),h=new F,n.resetPlaylist(b.getSseSM().getPlaylist(),h.getSseSM().getPlaylist(),a)},setPauseOnBufferingInterval:function(a){h.setPauseOnBufferingInterval(a)},getPauseOnBufferingInterval:function(){return h.getPauseOnBufferingInterval()},setKeepAliveInterval:function(a){h.getSseSM().getKeepAlive().setInterval(a)},getKeepAliveInterval:function(){return h.getSseSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(a){h.getSseSM().getHeartbeat().setIntervals(a)},play:function(a,b){k.notify(i.PLAY,a,b)},pause:function(a,b){k.notify(i.PAUSE,a,b)},end:function(a,b){k.notify(i.END,a,b)},bufferStart:function(a,b){k.notify(i.BUFFER,a,b)},bufferStop:function(a,b){k.notify(i.BUFFER_STOP,a,b)},load:function(a,b){k.notify(i.LOAD,a,b)},start:function(a,b){k.notify(i.START,a,b)},seekStart:function(a,b){k.notify(i.SEEK_START,a,b)},skipAd:function(a,b){k.notify(i.AD_SKIP,a,b)},callToAction:function(a,b){k.notify(i.CTA,a,b)},error:function(a,b){k.notify(i.ERROR,a,b)},transferPlayback:function(a,b){k.notify(i.TRANSFER,a,b)},drmFail:function(a,b){k.notify(i.DRM_FAILED,a,b)},drmApprove:function(a,b){k.notify(i.DRM_APPROVED,a,b)},drmDeny:function(a,b){k.notify(i.DRM_DENIED,a,b)},changeBitrate:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_br=String(a),k.notify(i.BIT_RATE,d,b)}},changePlaybackRate:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_rt=String(a),k.notify(i.PLAYBACK_RATE,d,b)}},changeVolume:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_vo=String(a),k.notify(i.VOLUME,d,b)}},changeWindowState:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_ws=String(a),k.notify(i.WINDOW_STATE,d,b)}},changeAudio:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_at=String(a),k.notify(i.AUDIO,d,b)}},changeVideo:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_vt=String(a),k.notify(i.VIDEO,d,b)}},changeSubtitle:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_tt=String(a),k.notify(i.SUBS,d,b)}},changeCDN:function(a,b,c){if(null!=a){var d=c||{};d.ns_st_cdn=String(a),k.notify(i.CDN,d,b)}},notify:function(a){var c,d;if(c="object"==typeof arguments[1]?arguments[1]:"object"==typeof arguments[2]?arguments[2]:{},d="number"==typeof arguments[1]?arguments[1]:"number"==typeof arguments[2]?arguments[2]:NaN,i.toString(a)){c=b.jsonObjectToStringDictionary(c);var e=b.fixEventTime(c);c.ns_st_po||isNaN(d)||(c.ns_st_po=b.getInteger(d,0).toString()),c.ns_st_po&&h.getSseSM().getPlaylist().getClip().setPlaybackTimeOffset(parseInt(c.ns_st_po)),a==i.PLAY||a==i.PAUSE||a==i.BUFFER||a==i.END||a==i.SEEK_START||a==i.AD_SKIP||a==i.BUFFER_STOP?h.newEvent(a,e,c):h.newPseudoEvent(a,e,c)}},getLabels:function(){return h.getLabels()},getState:function(){return h.getSseSM().getStateMachine().getCurrentState()},setLabels:function(a){h.setLabels(a)},getLabel:function(a){return h.getLabel(a)},setLabel:function(a,b){h.setLabel(a,b)},getLoadTimeOffset:function(){return h.getLoadTimeOffset()},setLoadTimeOffset:function(a){h.setLoadTimeOffset(a)},setPixelURL:function(a){return h.setPixelURL(a)},getPixelURL:function(){return h.getSseSM().getSSECore().getPixelURL()},setImplementationType:function(a){h.setImplementationType(a)},isPauseOnBufferingEnabled:function(){return h.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(a){h.setPauseOnBufferingEnabled(a)},isThrottlingEnabled:function(){return h.isThrottlingEnabled()},setThrottlingEnabled:function(a){h.setThrottlingEnabled(a)},setThrottlingDelay:function(a){h.setThrottlingDelay(a)},getThrottlingDelay:function(){return h.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(a){h.getSseSM().getPlaylist().getClip().setPlaybackIntervalMergeTolerance(a)},getPlaybackIntervalMergeTolerance:function(){return h.getSseSM().getPlaylist().getClip().getPlaybackIntervalMergeTolerance()},setClip:function(a,c,d){if(void 0===d&&(d=!0),a=b.jsonObjectToStringDictionary(a),d&&h.getSseSM().getStateMachine().getCurrentState()!==j.IDLE&&k.end(),h.getSseSM().getStateMachine().getCurrentState()==j.IDLE){var e="",f=0;if(null!=a.ns_st_cn)e=String(a.ns_st_cn);else for(var g=0;g<m.length;g++)a[m[g]]&&(e+=m[g]+":"+a[m[g]]+";");var i=h.getSseSM().getPlaylist(),l=i.getClip();l.isClipStarted()?(i.hashExists(l.getHash())||(i.storeHash(l.getHash()),i.storeClipNumber(l.getHash(),l.getClipNumber())),i.storeClipPlaybackCounters(),f=i.hashExists(e)?i.getClipNumber(e):b.exists(a.ns_st_cn)?parseInt(a.ns_st_cn):i.getMaxClipNumber()+1):f=i.hashExists(e)?i.getClipNumber(e):l.getClipNumber(),i.resetClip(),l=i.getClip(),l.setHash(e),l.setClipNumber(f),l.setLabels(a);var n=i.getStoredClipRegisters(e);return n&&(l.setClipStarted(!0),l.setSegmentPlaybackCounter(n.segmentPlaybackCounter),l.setClipLoadCounter(n.clipLoadCounter),l.setAssetPlaybackCounter(n.assetPlaybackCounter),l.setLowestPartNumberPlayed(n.lowestPartNumberPlayed),l.setSeeking(n.seeking),l.setSeekingTimeBeforeEnd(n.seekingTimeBeforeEnd),l.setSeekStartPosition(n.seekingStartPosition),l.setClipPlaybackIntervals(n.clipPlaybackIntervals),l.setUniquePlaybackInterval(n.uniquePlaybackInterval),l.setLongestPlaybackInterval(n.longestPlaybackInterval),l.setVideoTrack(n.videoTrack),l.setAudioTrack(n.audioTrack),l.setSubtitleTrack(n.subtitleTrack),l.setCDN(n.cdn),l.setPreviousUniquePlaybackInterval(n.uniquePlaybackInterval),l.setPreviousEventIndependentUniquePlaybackInterval(n.uniquePlaybackInterval),l.setPreviousLongestPlaybackInterval(n.longestPlaybackInterval)),l.incrementClipLoadCounter(),l.isClipStarted()&&c&&(i.incrementPlayCounter(),i.incrementPlaybackCounter()),!0}return!1},setPlaylist:function(a,c){return void 0===c&&(c=!0),a=b.jsonObjectToStringDictionary(a),c&&h.getSseSM().getStateMachine().getCurrentState()!==j.IDLE&&k.end(),h.getSseSM().getStateMachine().getCurrentState()==j.IDLE?(h.getSseSM().getPlaylist().isPlaylistStarted()&&h.resetPlaylist(),h.getSseSM().getPlaylist().setLabels(a),!0):!1},importState:function(){},exportState:function(){return{}},getVersion:function(){return l.STREAMSENSE_VERSION},addListener:function(a){h.addListener(a)},removeListener:function(a){h.removeListener(a)},getClip:function(){return console&&console.warn&&console.warn("getClip() is deprecated. Use getPlaylist().getClip() instead."),h.getSseSM().getPlaylist().getClip()},getPlaylist:function(){return h.getSseSM().getPlaylist()},setHttpGet:function(a){"function"==typeof a&&(h.getPlatformAPI().httpGet=a)},setHttpPost:function(a){"function"==typeof a&&(h.getPlatformAPI().httpPost=a)},setExitEndEventEnabled:function(a){g=a},isExitEndEventEnabled:function(){return g},getPlatformAPI:function(){return h.getPlatformAPI()}}),b.extend(this,{customNotify:e,viewNotify:function(a,b){a=a||k.getPixelURL(),a&&viewNotify(a,b)}}),b.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",f),window.addEventListener("unload",f)):window.attachEvent&&(window.attachEvent("onbeforeunload",f),window.attachEvent("onunload",f))),d()}}();return function(c){function d(a,b){return x[z]||f(a,b)}function e(){z=-1;for(var b=0;y>=b;b++)if(x.hasOwnProperty(String(b))){z=b;break}return a.StreamSense.activeIndex=z,z}function f(b,c){return b=b||null,c=c||null,b&&"object"==typeof b&&(c=b,b=null),x[++y]=new a.StreamSense(c,b),e(),x[y]}function g(){var b=!1,c=z;if("number"==typeof arguments[0]&&isFinite(arguments[0]))c=arguments[0];else if(arguments[0]instanceof a.StreamSense)for(var d in x)if(x.hasOwnProperty(d)&&x[d]===arguments[0]){c=d;break}return x.hasOwnProperty(String(c))&&(b=x[c],delete x[c],b.reset(),e()),b}function h(a){return a=a||{},d().setPlaylist(a),d().getPlaylist()}function i(a,b,c){return a=a||{},"number"==typeof b&&(a.ns_st_cn=String(b)),d().setClip(a,c),d().getClip()}function j(a,b,c){return"undefined"==typeof a?!1:(c=c||null,b=b||{},d().notify(a,b,c))}function k(a){"undefined"!=typeof a&&d().setLabels(a)}function l(){return d().getLabels()}function m(a){"undefined"!=typeof a&&d().getPlaylist().setLabels(a)}function n(){return d().getPlaylist().getLabels()}function o(a){"undefined"!=typeof a&&d().getClip().setLabels(a)}function p(){return d().getClip().getLabels()}function q(a){return d().reset(a||{})}function r(a){return d().getPlaylist().reset(a||{})}function s(a){return d().getClip().reset(a||{})}function t(a){return a=a||{},d().viewNotify(null,a)}function u(a,b){return arguments.length>2&&(a=arguments[1],b=arguments[2]),a=a||{},"number"==typeof b&&(a.ns_st_po=String(b)),d().customNotify(a,b)}function v(){return d().exportState()}function w(a){d().importState(a)}var x={},y=-1,z=-1;b.extend(c,{activeIndex:z,newInstance:f,"new":f,destroyInstance:g,destroy:g,newPlaylist:h,newClip:i,notify:j,setLabels:k,getLabels:l,setPlaylistLabels:m,getPlaylistLabels:n,setClipLabels:o,getClipLabels:p,resetInstance:q,resetPlaylist:r,resetClip:s,viewEvent:t,customEvent:u,exportState:v,importState:w})}(H),H.PlayerEvents=i,H.InternalStates=j,H.ImplementationType=k,H}(),a.StreamingTag=a.StreamingTag||function(){var c=a.StreamSense,d=(a.StreamSense.PlayerEvents,a.StreamSense.InternalStates||null),e=a.StreamSense.ImplementationType||null,f=null!=a.StreamSense.InternalStates&&null!=a.StreamSense.ImplementationType;return function(){var a={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},g={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",Other:"00"},h=function(a){function g(){if(f)if(b.getNamespace().comScore)q=new c,q.setImplementationType(e.REDUCED);else if(b.exists(a))if(r=b.isTrue(a.debug),b.exists(a.customerC2)&&a.customerC2.length>0){var d=a.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");q=new c,q.setPixelURL(d+".scorecardresearch.com/p?c1=2"),q.setLabel("c2",a.customerC2),q.setImplementationType(e.REDUCED)}else r&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}function h(a){b.exists(a)||(a={});for(var c in t)t.hasOwnProperty(c)&&!b.exists(a[t[c]])&&("ns_st_ci"==t[c]?a.ns_st_ci="0":a[t[c]]="*null");return a}function i(a){for(var b in t)if(t.hasOwnProperty(b)&&!j(t[b],o,a))return!1;return!0}function j(a,c,d){if(b.exists(a)&&b.exists(c)&&b.exists(d)){var e=c[a],f=d[a];return b.exists(e)&&b.exists(f)&&e===f}return!1}function k(a){n++;var c={ns_st_cn:String(n),ns_st_pn:"1",ns_st_tp:"0"};b.extend(c,a),q.setClip(c),o=a,q.play()}function l(a){n++,a=h(a);var c={ns_st_cn:String(n),ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};b.extend(c,a),q.setClip(c),q.play(),p=!1}function m(a,b){a=h(a),u==s.None&&(u=b),p&&u==b&&i(a)?(q.getClip().setLabels(a),q.getState()!=d.PLAYING&&q.play()):k(a),p=!0,u=b}var n=0,o=null,p=!1,q=null,r=!1,s={None:0,AudioContent:1,VideoContent:2},t=["ns_st_ci","c3","c4","c6","ns_st_st","ns_st_pu","ns_st_pr","ns_st_ep","ns_st_sn","ns_st_en","ns_st_ct"],u=s.None;b.extend(this,{playAdvertisement:function(){if(q){r&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead.");var a={ns_st_ct:"va"};l(a)}},playVideoAdvertisement:function(a,c){if(q){var d={ns_st_ct:"va"};c?d.ns_st_ct="va"+c:r&&console&&console.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),a&&b.extend(d,a),l(d)}},playAudioAdvertisement:function(a,c){if(q){var d={ns_st_ct:"aa"};c?d.ns_st_ct="aa"+c:r&&console&&console.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),a&&b.extend(d,a),l(d)}},playContentPart:function(a){if(q){r&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var c={ns_st_ct:"vc"};a&&b.extend(c,a),m(c,s.VideoContent)}},playVideoContentPart:function(a,c){if(q){var d={ns_st_ct:"vc"};c?d.ns_st_ct="vc"+c:r&&console&&console.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),a&&b.extend(d,a),m(d,s.VideoContent)}},playAudioContentPart:function(a,c){if(q){var d={ns_st_ct:"ac"};c?d.ns_st_ct="ac"+c:r&&console&&console.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),a&&b.extend(d,a),m(d,s.AudioContent)}},stop:function(){q&&q.pause()}}),g()};return function(a){}(h),h.ContentType=a,h.AdType=g,h}()}(),a});

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Hls=e():t.Hls=e()}(this,function(){return function(t){function e(i){if(r[i])return r[i].exports;var a=r[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=8)}([function(t,e,r){"use strict";function i(){}function a(t,e){return e="["+t+"] > "+e}function n(t){var e=self.console[t];return e?function(){for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];i[0]&&(i[0]=a(t,i[0])),e.apply(self.console,i)}:i}function o(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];r.forEach(function(e){u[e]=t[e]?t[e].bind(t):n(e)})}r.d(e,"a",function(){return d}),r.d(e,"b",function(){return h});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l={trace:i,debug:i,log:i,warn:i,info:i,error:i},u=l,d=function(t){if(!0===t||"object"===(void 0===t?"undefined":s(t))){o(t,"debug","log","info","warn","error");try{u.log()}catch(t){u=l}}else u=l},h=u},function(t,e,r){"use strict";e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(t,e,r){"use strict";r.d(e,"b",function(){return i}),r.d(e,"a",function(){return a});var i={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},a={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"b",function(){return n});var a=function(){function t(){i(this,t)}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,r){for(var i=r,a=0;t.isHeader(e,r);){a+=10;a+=t._readSize(e,r+6),t.isFooter(e,r+10)&&(a+=10),r+=a}if(a>0)return e.subarray(i,i+a)},t._readSize=function(t,e){var r=0;return r=(127&t[e])<<21,r|=(127&t[e+1])<<14,r|=(127&t[e+2])<<7,r|=127&t[e+3]},t.getTimeStamp=function(e){for(var r=t.getID3Frames(e),i=0;i<r.length;i++){var a=r[i];if(t.isTimeStampFrame(a))return t._readTimeStamp(a)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var r=String.fromCharCode(e[0],e[1],e[2],e[3]),i=t._readSize(e,4);return{type:r,size:i,data:e.subarray(10,10+i)}},t.getID3Frames=function(e){for(var r=0,i=[];t.isHeader(e,r);){var a=t._readSize(e,r+6);r+=10;for(var n=r+a;r+8<n;){var o=t._getFrameData(e.subarray(r)),s=t._decodeFrame(o);s&&i.push(s),r+=o.size+10}t.isFooter(e,r)&&(r+=10)}return i},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),r=1&e[3],i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,r&&(i+=47721858.84),Math.round(i)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var r=t._utf8ArrayToStr(e.data,!0),i=new Uint8Array(e.data.subarray(r.length+1));return{key:e.type,info:r,data:i.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var r=1,i=t._utf8ArrayToStr(e.data.subarray(r));r+=i.length+1;var a=t._utf8ArrayToStr(e.data.subarray(r));return{key:e.type,info:i,data:a}}var n=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:n}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var r=1,i=t._utf8ArrayToStr(e.data.subarray(r));r+=i.length+1;var a=t._utf8ArrayToStr(e.data.subarray(r));return{key:e.type,info:i,data:a}}var n=t._utf8ArrayToStr(e.data);return{key:e.type,data:n}},t._utf8ArrayToStr=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.length,i=void 0,a=void 0,n=void 0,o="",s=0;s<r;){if(0===(i=t[s++])&&e)return o;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:a=t[s++],o+=String.fromCharCode((31&i)<<6|63&a);break;case 14:a=t[s++],n=t[s++],o+=String.fromCharCode((15&i)<<12|(63&a)<<6|(63&n)<<0)}}return o},t}(),n=a._utf8ArrayToStr;e.a=a},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(e,r){i(this,t),this.subtle=e,this.aesIV=r}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),l=s,u=function(){function t(e,r){a(this,t),this.subtle=e,this.key=r}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),d=u,h=function(){function t(){n(this,t),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return t.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),r=new Uint32Array(4),i=0;i<4;i++)r[i]=e.getUint32(4*i);return r},t.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,r=this.subMix,i=r[0],a=r[1],n=r[2],o=r[3],s=this.invSubMix,l=s[0],u=s[1],d=s[2],h=s[3],c=new Uint32Array(256),f=0,p=0,g=0;for(g=0;g<256;g++)c[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,t[f]=v,e[v]=f;var y=c[f],m=c[y],b=c[m],E=257*c[v]^16843008*v;i[f]=E<<24|E>>>8,a[f]=E<<16|E>>>16,n[f]=E<<8|E>>>24,o[f]=E,E=16843009*b^65537*m^257*y^16843008*f,l[v]=E<<24|E>>>8,u[v]=E<<16|E>>>16,d[v]=E<<8|E>>>24,h[v]=E,f?(f=y^c[c[c[b^y]]],p^=c[c[p]]):f=p=1}},t.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),r=!0,i=0;i<e.length&&r;)r=e[i]===this.key[i],i++;if(!r){this.key=e;var a=this.keySize=e.length;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size="+a);var n=this.ksRows=4*(a+6+1),o=void 0,s=void 0,l=this.keySchedule=new Uint32Array(n),u=this.invKeySchedule=new Uint32Array(n),d=this.sBox,h=this.rcon,c=this.invSubMix,f=c[0],p=c[1],g=c[2],v=c[3],y=void 0,m=void 0;for(o=0;o<n;o++)o<a?y=l[o]=e[o]:(m=y,o%a==0?(m=m<<8|m>>>24,m=d[m>>>24]<<24|d[m>>>16&255]<<16|d[m>>>8&255]<<8|d[255&m],m^=h[o/a|0]<<24):a>6&&o%a==4&&(m=d[m>>>24]<<24|d[m>>>16&255]<<16|d[m>>>8&255]<<8|d[255&m]),l[o]=y=(l[o-a]^m)>>>0);for(s=0;s<n;s++)o=n-s,m=3&s?l[o]:l[o-4],u[s]=s<4||o<=4?m:f[d[m>>>24]]^p[d[m>>>16&255]]^g[d[m>>>8&255]]^v[d[255&m]],u[s]=u[s]>>>0}},t.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},t.prototype.decrypt=function(t,e,r){for(var i,a,n=this.keySize+6,o=this.invKeySchedule,s=this.invSBox,l=this.invSubMix,u=l[0],d=l[1],h=l[2],c=l[3],f=this.uint8ArrayToUint32Array_(r),p=f[0],g=f[1],v=f[2],y=f[3],m=new Int32Array(t),b=new Int32Array(m.length),E=void 0,T=void 0,R=void 0,A=void 0,S=void 0,L=void 0,_=void 0,w=void 0,D=void 0,I=void 0,k=void 0,O=void 0,C=this.networkToHostOrderSwap;e<m.length;){for(D=C(m[e]),I=C(m[e+1]),k=C(m[e+2]),O=C(m[e+3]),S=D^o[0],L=O^o[1],_=k^o[2],w=I^o[3],i=4,a=1;a<n;a++)E=u[S>>>24]^d[L>>16&255]^h[_>>8&255]^c[255&w]^o[i],T=u[L>>>24]^d[_>>16&255]^h[w>>8&255]^c[255&S]^o[i+1],R=u[_>>>24]^d[w>>16&255]^h[S>>8&255]^c[255&L]^o[i+2],A=u[w>>>24]^d[S>>16&255]^h[L>>8&255]^c[255&_]^o[i+3],S=E,L=T,_=R,w=A,i+=4;E=s[S>>>24]<<24^s[L>>16&255]<<16^s[_>>8&255]<<8^s[255&w]^o[i],T=s[L>>>24]<<24^s[_>>16&255]<<16^s[w>>8&255]<<8^s[255&S]^o[i+1],R=s[_>>>24]<<24^s[w>>16&255]<<16^s[S>>8&255]<<8^s[255&L]^o[i+2],A=s[w>>>24]<<24^s[S>>16&255]<<16^s[L>>8&255]<<8^s[255&_]^o[i+3],i+=3,b[e]=C(E^p),b[e+1]=C(A^g),b[e+2]=C(R^v),b[e+3]=C(T^y),p=D,g=I,v=k,y=O,e+=4}return b.buffer},t.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}(),c=h,f=r(2),p=r(0),g=function(){function t(e,r){o(this,t),this.observer=e,this.config=r,this.logEnabled=!0;try{var i=crypto||self.crypto;this.subtle=i.subtle||i.webkitSubtle}catch(t){}this.disableWebCrypto=!this.subtle}return t.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.prototype.decrypt=function(t,e,r,i){var a=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(p.b.log("JS AES decrypt"),this.logEnabled=!1);var n=this.decryptor;n||(this.decryptor=n=new c),n.expandKey(e),i(n.decrypt(t,0,r))}else{this.logEnabled&&(p.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var o=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new d(o,e)),this.fastAesKey.expandKey().then(function(n){new l(o,r).decrypt(t,n).catch(function(n){a.onWebCryptoError(n,t,e,r,i)}).then(function(t){i(t)})}).catch(function(n){a.onWebCryptoError(n,t,e,r,i)})}},t.prototype.onWebCryptoError=function(t,e,r,i,a){this.config.enableSoftwareAES?(p.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,r,i,a)):(p.b.error("decrypting error : "+t.message),this.observer.trigger(Event.ERROR,{type:f.b.MEDIA_ERROR,details:f.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},t.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.a=g},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function a(t){return"number"==typeof t}function n(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!a(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,a,s,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var d=new Error('Uncaught, unspecified "error" event. ('+e+")");throw d.context=e,d}if(r=this._events[t],o(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(n(r))for(s=Array.prototype.slice.call(arguments,1),u=r.slice(),a=u.length,l=0;l<a;l++)u[l].apply(this,s);return!0},r.prototype.addListener=function(t,e){var a;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?n(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,n(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),a||(a=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var a=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,a,o,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],o=r.length,a=-1,r===e||i(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(n(r)){for(s=o;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){a=s;break}if(a<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(a,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],i(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){!function(e){var r=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/;?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,n=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.alwaysNormalize)return t;var a=this.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");return a.path=o.normalizePath(a.path),o.buildURLFromParts(a)}var n=this.parseURL(e);if(!n)throw new Error("Error trying to parse relative URL.");if(n.scheme)return r.alwaysNormalize?(n.path=o.normalizePath(n.path),o.buildURLFromParts(n)):e;var s=this.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=i.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:n.netLoc,path:null,params:n.params,query:n.query,fragment:n.fragment};if(!n.netLoc&&(u.netLoc=s.netLoc,"/"!==n.path[0]))if(n.path){var d=s.path,h=d.substring(0,d.lastIndexOf("/")+1)+n.path;u.path=o.normalizePath(h)}else u.path=s.path,n.params||(u.params=s.params,n.query||(u.query=s.query));return null===u.path&&(u.path=r.alwaysNormalize?o.normalizePath(n.path):n.path),o.buildURLFromParts(u)},parseURL:function(t){var e=r.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(a,"");t.length!==(t=t.replace(n,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=o}()},function(t,e,r){"use strict";function i(t,e,r,i){var a,n,o,s,l,u=navigator.userAgent.toLowerCase(),d=i,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return a=1+((192&e[r+2])>>>6),(n=(60&e[r+2])>>>2)>h.length-1?void t.trigger(Event.ERROR,{type:L.b.MEDIA_ERROR,details:L.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+n}):(s=(1&e[r+2])<<2,s|=(192&e[r+3])>>>6,w.b.log("manifest codec:"+i+",ADTS data:type:"+a+",sampleingIndex:"+n+"["+h[n]+"Hz],channelConfig:"+s),/firefox/i.test(u)?n>=6?(a=5,l=new Array(4),o=n-3):(a=2,l=new Array(2),o=n):-1!==u.indexOf("android")?(a=2,l=new Array(2),o=n):(a=5,l=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&n>=6?o=n-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(n>=6&&1===s||/vivaldi/i.test(u))||!i&&1===s)&&(a=2,l=new Array(2)),o=n)),l[0]=a<<3,l[0]|=(14&n)>>1,l[1]|=(1&n)<<7,l[1]|=s<<3,5===a&&(l[1]|=(14&o)>>1,l[2]=(1&o)<<7,l[2]|=8,l[3]=0),{config:l,samplerate:h[n],channelCount:s,codec:"mp4a.40."+a,manifestCodec:d})}function a(t,e){return 255===t[e]&&240==(246&t[e+1])}function n(t,e){return 1&t[e+1]?7:9}function o(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function s(t,e){return!!(e+1<t.length&&a(t,e))}function l(t,e){if(e+1<t.length&&a(t,e)){var r=n(t,e),i=r;e+5<t.length&&(i=o(t,e));var s=e+i;if(s===t.length||s+1<t.length&&a(t,s))return!0}return!1}function u(t,e,r,a,n){if(!t.samplerate){var o=i(e,r,a,n);t.config=o.config,t.samplerate=o.samplerate,t.channelCount=o.channelCount,t.codec=o.codec,t.manifestCodec=o.manifestCodec,w.b.log("parsed codec:"+t.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}}function d(t){return 9216e4/t}function h(t,e,r,i,a){var s,l,u,d=t.length;if(s=n(t,e),l=o(t,e),(l-=s)>0&&e+s+l<=d)return u=r+i*a,{headerLength:s,frameLength:l,stamp:u}}function c(t,e,r,i,a){var n=d(t.samplerate),o=h(e,r,i,a,n);if(o){var s=o.stamp,l=o.headerLength,u=o.frameLength,c={unit:e.subarray(r+l,r+l+u),pts:s,dts:s};return t.samples.push(c),t.len+=u,{sample:c,length:u+l}}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var S=r(1),L=r(2),_=r(4),w=r(0),D=r(3),I=function(){function t(e,r,i){f(this,t),this.observer=e,this.config=i,this.remuxer=r}return t.prototype.resetInitSegment=function(t,e,r,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=D.a.getID3Data(t,0)||[],r=e.length,i=t.length;r<i;r++)if(l(t,r))return w.b.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,e,r,i){for(var a=this._audioTrack,n=D.a.getID3Data(t,0)||[],o=D.a.getTimeStamp(n),l=o?90*o:9e4*e,d=0,h=l,f=t.length,p=n.length,g=[{pts:h,dts:h,data:n}];p<f-1;)if(s(t,p)&&p+5<f){u(a,this.observer,t,p,a.manifestCodec);var v=c(a,t,p,l,d);if(!v){w.b.log("Unable to parse AAC frame");break}p+=v.length,h=v.sample.pts,d++}else D.a.isHeader(t,p)?(n=D.a.getID3Data(t,p),g.push({pts:h,dts:h,data:n}),p+=n.length):p++;this.remuxer.remux(a,{samples:[]},{samples:g,inputTimeScale:9e4},{samples:[]},e,r,i)},t.prototype.destroy=function(){},t}(),k=I,O=Math.pow(2,32)-1,C=function(){function t(e,r){p(this,t),this.observer=e,this.remuxer=r}return t.prototype.resetTimeStamp=function(t){this.initPTS=t},t.prototype.resetInitSegment=function(e,r,i,a){if(e&&e.byteLength){var n=this.initData=t.parseInitSegment(e);null==r&&(r="mp4a.40.5"),null==i&&(i="avc1.42e01e");var o={};n.audio&&n.video?o.audiovideo={container:"video/mp4",codec:r+","+i,initSegment:a?e:null}:(n.audio&&(o.audio={container:"audio/mp4",codec:r,initSegment:a?e:null}),n.video&&(o.video={container:"video/mp4",codec:i,initSegment:a?e:null})),this.observer.trigger(S.a.FRAG_PARSING_INIT_SEGMENT,{tracks:o})}else r&&(this.audioCodec=r),i&&(this.videoCodec=i)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var r=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return r<0?4294967296+r:r},t.writeUint32=function(t,e,r){t.data&&(e+=t.start,t=t.data),t[e]=r>>24,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r},t.findBox=function(e,r){var i,a,n,o,s,l,u,d=[];if(e.data?(l=e.start,o=e.end,e=e.data):(l=0,o=e.byteLength),!r.length)return null;for(i=l;i<o;)a=t.readUint32(e,i),n=t.bin2str(e.subarray(i+4,i+8)),u=a>1?i+a:o,n===r[0]&&(1===r.length?d.push({data:e,start:i+8,end:u}):(s=t.findBox({data:e,start:i+8,end:u},r.slice(1)),s.length&&(d=d.concat(s)))),i=u;return d},t.parseInitSegment=function(e){var r=[];return t.findBox(e,["moov","trak"]).forEach(function(e){var i=t.findBox(e,["tkhd"])[0];if(i){var a=i.data[i.start],n=0===a?12:20,o=t.readUint32(i,n),s=t.findBox(e,["mdia","mdhd"])[0];if(s){a=s.data[s.start],n=0===a?12:20;var l=t.readUint32(s,n),u=t.findBox(e,["mdia","hdlr"])[0];if(u){var d=t.bin2str(u.data.subarray(u.start+8,u.start+12)),h={soun:"audio",vide:"video"}[d];if(h){var c=t.findBox(e,["mdia","minf","stbl","stsd"]);if(c.length){c=c[0];var f=t.bin2str(c.data.subarray(c.start+12,c.start+16));w.b.log("MP4Demuxer:"+h+":"+f+" found")}r[o]={timescale:l,type:h},r[h]={timescale:l,id:o}}}}}}),r},t.getStartDTS=function(e,r){var i,a,n;return i=t.findBox(r,["moof","traf"]),a=[].concat.apply([],i.map(function(r){return t.findBox(r,["tfhd"]).map(function(i){var a,n;return a=t.readUint32(i,4),n=e[a].timescale||9e4,t.findBox(r,["tfdt"]).map(function(e){var r,i;return r=e.data[e.start],i=t.readUint32(e,4),1===r&&(i*=Math.pow(2,32),i+=t.readUint32(e,8)),i})[0]/n})})),n=Math.min.apply(null,a),isFinite(n)?n:0},t.offsetStartDTS=function(e,r,i){t.findBox(r,["moof","traf"]).map(function(r){return t.findBox(r,["tfhd"]).map(function(a){var n=t.readUint32(a,4),o=e[n].timescale||9e4;t.findBox(r,["tfdt"]).map(function(e){var r=e.data[e.start],a=t.readUint32(e,4);if(0===r)t.writeUint32(e,4,a-i*o);else{a*=Math.pow(2,32),a+=t.readUint32(e,8),a-=i*o,a=Math.max(a,0);var n=Math.floor(a/(O+1)),s=Math.floor(a%(O+1));t.writeUint32(e,4,n),t.writeUint32(e,8,s)}})})})},t.prototype.append=function(e,r,i,a){var n=this.initData;n||(this.resetInitSegment(e,this.audioCodec,this.videoCodec),n=this.initData);var o=void 0,s=this.initPTS;if(void 0===s){var l=t.getStartDTS(n,e);this.initPTS=s=l-r,this.observer.trigger(S.a.INIT_PTS_FOUND,{initPTS:s})}t.offsetStartDTS(n,e,s),o=t.getStartDTS(n,e),this.remuxer.remux(n.audio,n.video,null,null,o,i,a,e)},t.prototype.destroy=function(){},t}(),P=C,x={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,r,i,a){if(!(r+24>e.length)){var n=this.parseHeader(e,r);if(n&&r+n.frameLength<=e.length){var o=9e4*n.samplesPerFrame/n.sampleRate,s=i+a*o,l={unit:e.subarray(r,r+n.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=n.channelCount,t.samplerate=n.sampleRate,t.samples.push(l),t.len+=n.frameLength,{sample:l,length:n.frameLength}}}},parseHeader:function(t,e){var r=t[e+1]>>3&3,i=t[e+1]>>1&3,a=t[e+2]>>4&15,n=t[e+2]>>2&3,o=t[e+2]>>1&1;if(1!==r&&0!==a&&15!==a&&3!==n){var s=3===r?3-i:3===i?3:4,l=1e3*x.BitratesMap[14*s+a-1],u=3===r?0:2===r?1:2,d=x.SamplingRateMap[3*u+n],h=t[e+3]>>6==3?1:2,c=x.SamplesCoefficients[r][i],f=x.BytesInSlot[i],p=8*c*f;return{sampleRate:d,channelCount:h,frameLength:parseInt(c*l/d+o,10)*f,samplesPerFrame:p}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var r=this.parseHeader(t,e),i=4;r&&r.frameLength&&(i=r.frameLength);var a=e+i;if(a===t.length||a+1<t.length&&this.isHeaderPattern(t,a))return!0}return!1}},F=x,N=function(){function t(e){g(this,t),this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return t.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,r=t.byteLength-e,i=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");i.set(t.subarray(r,r+a)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*a,this.bytesAvailable-=a},t.prototype.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,e=t>>3,t-=e>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},t.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),r=this.word>>>32-e;return t>32&&w.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),e=t-e,e>0&&this.bitsAvailable?r<<e|this.readBits(e):r},t.prototype.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},t.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},t.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},t.prototype.readBoolean=function(){return 1===this.readBits(1)},t.prototype.readUByte=function(){return this.readBits(8)},t.prototype.readUShort=function(){return this.readBits(16)},t.prototype.readUInt=function(){return this.readBits(32)},t.prototype.skipScalingList=function(t){var e,r,i=8,a=8;for(e=0;e<t;e++)0!==a&&(r=this.readEG(),a=(i+r+256)%256),i=0===a?i:a},t.prototype.readSPS=function(){var t,e,r,i,a,n,o,s=0,l=0,u=0,d=0,h=this.readUByte.bind(this),c=this.readBits.bind(this),f=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),v=this.skipEG.bind(this),y=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(h(),t=h(),c(5),g(3),h(),y(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var b=f();if(3===b&&g(1),y(),y(),g(1),p())for(n=3!==b?8:12,o=0;o<n;o++)p()&&m(o<6?16:64)}y();var E=f();if(0===E)f();else if(1===E)for(g(1),v(),v(),e=f(),o=0;o<e;o++)v();y(),g(1),r=f(),i=f(),a=c(1),0===a&&g(1),g(1),p()&&(s=f(),l=f(),u=f(),d=f());var T=[1,1];if(p()&&p()){switch(h()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[h()<<8|h(),h()<<8|h()]}}return{width:Math.ceil(16*(r+1)-2*s-2*l),height:(2-a)*(i+1)*16-(a?2:4)*(u+d),pixelRatio:T}},t.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),M=N,U=function(){function t(e,r,i,a){v(this,t),this.decryptdata=i,this.discardEPB=a,this.decrypter=new _.a(e,r)}return t.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},t.prototype.decryptAacSample=function(t,e,r,i){var a=t[e].unit,n=a.subarray(16,a.length-a.length%16),o=n.buffer.slice(n.byteOffset,n.byteOffset+n.length),s=this;this.decryptBuffer(o,function(n){n=new Uint8Array(n),a.set(n,16),i||s.decryptAacSamples(t,e+1,r)})},t.prototype.decryptAacSamples=function(t,e,r){for(;;e++){if(e>=t.length)return void r();if(!(t[e].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(t,e,r,i),!i)return}}},t.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,r=new Int8Array(e),i=0,a=32;a<=t.length-16;a+=160,i+=16)r.set(t.subarray(a,a+16),i);return r},t.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var r=0,i=32;i<=t.length-16;i+=160,r+=16)t.set(e.subarray(r,r+16),i);return t},t.prototype.decryptAvcSample=function(t,e,r,i,a,n){var o=this.discardEPB(a.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,function(s){a.data=l.getAvcDecryptedUnit(o,s),n||l.decryptAvcSamples(t,e,r+1,i)})},t.prototype.decryptAvcSamples=function(t,e,r,i){for(;;e++,r=0){if(e>=t.length)return void i();for(var a=t[e].units;!(r>=a.length);r++){var n=a[r];if(!(n.length<=48||1!==n.type&&5!==n.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(t,e,r,i,n,o),!o)return}}}},t}(),B=U,G={video:0,audio:1,id3:2,text:3},j=function(){function t(e,r,i,a){y(this,t),this.observer=e,this.config=i,this.typeSupported=a,this.remuxer=r,this.sampleAes=null}return t.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new B(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var r=t._syncOffset(e);return!(r<0)&&(r&&w.b.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),!0)},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),r=0;r<e;){if(71===t[r]&&71===t[r+188]&&71===t[r+376])return r;r++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:G[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},t.prototype.resetInitSegment=function(e,r,i,a){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",a),this._audioTrack=t.createTrack("audio",a),this._id3Track=t.createTrack("id3",a),this._txtTrack=t.createTrack("text",a),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=i,this._duration=a},t.prototype.resetTimeStamp=function(){},t.prototype.append=function(e,r,i,a){var n,o,s,l,u,d=e.length,h=!1;this.contiguous=i;var c=this.pmtParsed,f=this._avcTrack,p=this._audioTrack,g=this._id3Track,v=f.pid,y=p.pid,m=g.pid,b=this._pmtId,E=f.pesData,T=p.pesData,R=g.pesData,A=this._parsePAT,_=this._parsePMT,D=this._parsePES,I=this._parseAVCPES.bind(this),k=this._parseAACPES.bind(this),O=this._parseMPEGPES.bind(this),C=this._parseID3PES.bind(this),P=t._syncOffset(e);for(d-=(d+P)%188,n=P;n<d;n+=188)if(71===e[n]){if(o=!!(64&e[n+1]),s=((31&e[n+1])<<8)+e[n+2],(48&e[n+3])>>4>1){if((l=n+5+e[n+4])===n+188)continue}else l=n+4;switch(s){case v:o&&(E&&(u=D(E))&&I(u,!1),E={data:[],size:0}),E&&(E.data.push(e.subarray(l,n+188)),E.size+=n+188-l);break;case y:o&&(T&&(u=D(T))&&(p.isAAC?k(u):O(u)),T={data:[],size:0}),T&&(T.data.push(e.subarray(l,n+188)),T.size+=n+188-l);break;case m:o&&(R&&(u=D(R))&&C(u),R={data:[],size:0}),R&&(R.data.push(e.subarray(l,n+188)),R.size+=n+188-l);break;case 0:o&&(l+=e[l]+1),b=this._pmtId=A(e,l);break;case b:o&&(l+=e[l]+1);var x=_(e,l,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);v=x.avc,v>0&&(f.pid=v),y=x.audio,y>0&&(p.pid=y,p.isAAC=x.isAAC),m=x.id3,m>0&&(g.pid=m),h&&!c&&(w.b.log("reparse from beginning"),h=!1,n=P-188),c=this.pmtParsed=!0;break;case 17:case 8191:break;default:h=!0}}else this.observer.trigger(S.a.ERROR,{type:L.b.MEDIA_ERROR,details:L.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});E&&(u=D(E))?(I(u,!0),f.pesData=null):f.pesData=E,T&&(u=D(T))?(p.isAAC?k(u):O(u),p.pesData=null):(T&&T.size&&w.b.log("last AAC PES packet truncated,might overlap between fragments"),p.pesData=T),R&&(u=D(R))?(C(u),g.pesData=null):g.pesData=R,null==this.sampleAes?this.remuxer.remux(p,f,g,this._txtTrack,r,i,a):this.decryptAndRemux(p,f,g,this._txtTrack,r,i,a)},t.prototype.decryptAndRemux=function(t,e,r,i,a,n,o){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){s.decryptAndRemuxAvc(t,e,r,i,a,n,o)})}else this.decryptAndRemuxAvc(t,e,r,i,a,n,o)},t.prototype.decryptAndRemuxAvc=function(t,e,r,i,a,n,o){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){s.remuxer.remux(t,e,r,i,a,n,o)})}else this.remuxer.remux(t,e,r,i,a,n,o)},t.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},t.prototype._parsePMT=function(t,e,r,i){var a,n,o,s,l={audio:-1,avc:-1,id3:-1,isAAC:!0};for(a=(15&t[e+1])<<8|t[e+2],n=e+3+a-4,o=(15&t[e+10])<<8|t[e+11],e+=12+o;e<n;){switch(s=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!i){w.b.log("unkown stream type:"+t[e]);break}case 15:-1===l.audio&&(l.audio=s);break;case 21:-1===l.id3&&(l.id3=s);break;case 219:if(!i){w.b.log("unkown stream type:"+t[e]);break}case 27:-1===l.avc&&(l.avc=s);break;case 3:case 4:r?-1===l.audio&&(l.audio=s,l.isAAC=!1):w.b.log("MPEG audio found, not supported in this browser for now");break;case 36:w.b.warn("HEVC stream type found, not supported for now");break;default:w.b.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return l},t.prototype._parsePES=function(t){var e,r,i,a,n,o,s,l,u=0,d=t.data;if(!t||0===t.size)return null;for(;d[0].length<19&&d.length>1;){var h=new Uint8Array(d[0].length+d[1].length);h.set(d[0]),h.set(d[1],d[0].length),d[0]=h,d.splice(1,1)}if(e=d[0],1===(e[0]<<16)+(e[1]<<8)+e[2]){if((i=(e[4]<<8)+e[5])&&i>t.size-6)return null;r=e[7],192&r&&(o=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,o>4294967295&&(o-=8589934592),64&r?(s=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,s>4294967295&&(s-=8589934592),o-s>54e5&&(w.b.warn(Math.round((o-s)/9e4)+"s delta between PTS and DTS, align them"),o=s)):s=o),a=e[8],l=a+9,t.size-=l,n=new Uint8Array(t.size);for(var c=0,f=d.length;c<f;c++){e=d[c];var p=e.byteLength;if(l){if(l>p){l-=p;continue}e=e.subarray(l),p-=l,l=0}n.set(e,u),u+=p}return i&&(i-=a+3),{data:n,pts:o,dts:s,len:i}}return null},t.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var r=e.samples,i=r.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(i||this.contiguous)?(t.id=i,r.push(t)):e.dropped++}t.debug.length&&w.b.log(t.pts+"/"+t.dts+":"+t.debug)},t.prototype._parseAVCPES=function(t,e){var r,i,a,n=this,o=this._avcTrack,s=this._parseAVCNALu(t.data),l=this.avcSample,u=!1,d=this.pushAccesUnit.bind(this),h=function(t,e,r,i){return{key:t,pts:e,dts:r,units:[],debug:i}};t.data=null,l&&s.length&&!o.audFound&&(d(l,o),l=this.avcSample=h(!1,t.pts,t.dts,"")),s.forEach(function(e){switch(e.type){case 1:i=!0,l||(l=n.avcSample=h(!0,t.pts,t.dts,"")),l.frame=!0;var s=e.data;if(u&&s.length>4){var c=new M(s).readSliceType();2!==c&&4!==c&&7!==c&&9!==c||(l.key=!0)}break;case 5:i=!0,l||(l=n.avcSample=h(!0,t.pts,t.dts,"")),l.key=!0,l.frame=!0;break;case 6:i=!0,r=new M(n.discardEPB(e.data)),r.readUByte();for(var f=0,p=0,g=!1,v=0;!g&&r.bytesAvailable>1;){f=0;do{v=r.readUByte(),f+=v}while(255===v);p=0;do{v=r.readUByte(),p+=v}while(255===v);if(4===f&&0!==r.bytesAvailable){g=!0;if(181===r.readUByte()){if(49===r.readUShort()){if(1195456820===r.readUInt()){if(3===r.readUByte()){var y=r.readUByte(),m=r.readUByte(),b=31&y,E=[y,m];for(a=0;a<b;a++)E.push(r.readUByte()),E.push(r.readUByte()),E.push(r.readUByte());n._insertSampleInOrder(n._txtTrack.samples,{type:3,pts:t.pts,bytes:E})}}}}}else if(p<r.bytesAvailable)for(a=0;a<p;a++)r.readUByte()}break;case 7:if(i=!0,u=!0,!o.sps){r=new M(e.data);var T=r.readSPS();o.width=T.width,o.height=T.height,o.pixelRatio=T.pixelRatio,o.sps=[e.data],o.duration=n._duration;var R=e.data.subarray(1,4),A="avc1.";for(a=0;a<3;a++){var S=R[a].toString(16);S.length<2&&(S="0"+S),A+=S}o.codec=A}break;case 8:i=!0,o.pps||(o.pps=[e.data]);break;case 9:i=!1,o.audFound=!0,l&&d(l,o),l=n.avcSample=h(!1,t.pts,t.dts,"");break;case 12:i=!1;break;default:i=!1,l&&(l.debug+="unknown NAL "+e.type+" ")}if(l&&i){l.units.push(e)}}),e&&l&&(d(l,o),this.avcSample=null)},t.prototype._insertSampleInOrder=function(t,e){var r=t.length;if(r>0){if(e.pts>=t[r-1].pts)t.push(e);else for(var i=r-1;i>=0;i--)if(e.pts<t[i].pts){t.splice(i,0,e);break}}else t.push(e)},t.prototype._getLastNalUnit=function(){var t=this.avcSample,e=void 0;if(!t||0===t.units.length){var r=this._avcTrack,i=r.samples;t=i[i.length-1]}if(t){var a=t.units;e=a[a.length-1]}return e},t.prototype._parseAVCNALu=function(t){var e,r,i,a,n,o=0,s=t.byteLength,l=this._avcTrack,u=l.naluState||0,d=u,h=[],c=-1;for(-1===u&&(c=0,n=31&t[0],u=0,o=1);o<s;)if(e=t[o++],u)if(1!==u)if(e)if(1===e){if(c>=0)i={data:t.subarray(c,o-u-1),type:n},h.push(i);else{var f=this._getLastNalUnit();if(f&&(d&&o<=4-d&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-d)),(r=o-u-1)>0)){var p=new Uint8Array(f.data.byteLength+r);p.set(f.data,0),p.set(t.subarray(0,r),f.data.byteLength),f.data=p}}o<s?(a=31&t[o],c=o,n=a,u=0):u=-1}else u=0;else u=3;else u=e?0:2;else u=e?0:1;if(c>=0&&u>=0&&(i={data:t.subarray(c,s),type:n,state:u},h.push(i)),0===h.length){var g=this._getLastNalUnit();if(g){var v=new Uint8Array(g.data.byteLength+t.byteLength);v.set(g.data,0),v.set(t,g.data.byteLength),g.data=v}}return l.naluState=u,h},t.prototype.discardEPB=function(t){for(var e,r,i=t.byteLength,a=[],n=1;n<i-2;)0===t[n]&&0===t[n+1]&&3===t[n+2]?(a.push(n+2),n+=2):n++;if(0===a.length)return t;e=i-a.length,r=new Uint8Array(e);var o=0;for(n=0;n<e;o++,n++)o===a[0]&&(o++,a.shift()),r[n]=t[o];return r},t.prototype._parseAACPES=function(t){var e,r,i,a,n,o=this._audioTrack,l=t.data,h=t.pts,f=this.aacOverFlow,p=this.aacLastPTS;if(f){var g=new Uint8Array(f.byteLength+l.byteLength);g.set(f,0),g.set(l,f.byteLength),l=g}for(i=0,n=l.length;i<n-1&&!s(l,i);i++);if(i){var v,y;if(i<n-1?(v="AAC PES did not start with ADTS header,offset:"+i,y=!1):(v="no ADTS header found in AAC PES",y=!0),w.b.warn("parsing error:"+v),this.observer.trigger(S.a.ERROR,{type:L.b.MEDIA_ERROR,details:L.a.FRAG_PARSING_ERROR,fatal:y,reason:v}),y)return}if(u(o,this.observer,l,i,this.audioCodec),r=0,e=d(o.samplerate),f&&p){var m=p+e;Math.abs(m-h)>1&&(w.b.log("AAC: align PTS for overlapping frames by "+Math.round((m-h)/90)),h=m)}for(;i<n;)if(s(l,i)&&i+5<n){var b=c(o,l,i,h,r);if(!b)break;i+=b.length,a=b.sample.pts,r++}else i++;f=i<n?l.subarray(i,n):null,this.aacOverFlow=f,this.aacLastPTS=a},t.prototype._parseMPEGPES=function(t){for(var e=t.data,r=e.length,i=0,a=0,n=t.pts;a<r;)if(F.isHeader(e,a)){var o=F.appendFrame(this._audioTrack,e,a,n,i);if(!o)break;a+=o.length,i++}else a++},t.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},t}(),H=j,K=function(){function t(e,r,i){m(this,t),this.observer=e,this.config=i,this.remuxer=r}return t.prototype.resetInitSegment=function(t,e,r,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e,r,i=D.a.getID3Data(t,0);if(i&&void 0!==D.a.getTimeStamp(i))for(e=i.length,r=Math.min(t.length-1,e+100);e<r;e++)if(F.probe(t,e))return w.b.log("MPEG Audio sync word found !"),!0;return!1},t.prototype.append=function(t,e,r,i){for(var a=D.a.getID3Data(t,0),n=D.a.getTimeStamp(a),o=n?90*n:9e4*e,s=a.length,l=t.length,u=0,d=0,h=this._audioTrack,c=[{pts:o,dts:o,data:a}];s<l;)if(F.isHeader(t,s)){var f=F.appendFrame(h,t,s,o,u);if(!f)break;s+=f.length,d=f.sample.pts,u++}else D.a.isHeader(t,s)?(a=D.a.getID3Data(t,s),c.push({pts:d,dts:d,data:a}),s+=a.length):s++;this.remuxer.remux(h,{samples:[]},{samples:c,inputTimeScale:9e4},{samples:[]},e,r,i)},t.prototype.destroy=function(){},t}(),W=K,V=function(){function t(){b(this,t)}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}(),Y=V,z=Math.pow(2,32)-1,X=function(){function t(){E(this,t)}return t.init=function(){t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var e;for(e in t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:r,audio:i};var a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=n,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,o,l,o,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,a))},t.box=function(t){for(var e,r=Array.prototype.slice.call(arguments,1),i=8,a=r.length,n=a;a--;)i+=r[a].byteLength;for(e=new Uint8Array(i),e[0]=i>>24&255,e[1]=i>>16&255,e[2]=i>>8&255,e[3]=255&i,e.set(t,4),a=0,i=8;a<n;a++)e.set(r[a],i),i+=r[a].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,r){r*=e;var i=Math.floor(r/(z+1)),a=Math.floor(r%(z+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,r,i){return t.box(t.types.moof,t.mfhd(e),t.traf(i,r))},t.moov=function(e){for(var r=e.length,i=[];r--;)i[r]=t.trak(e[r]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(t.mvex(e)))},t.mvex=function(e){for(var r=e.length,i=[];r--;)i[r]=t.trex(e[r]);return t.box.apply(null,[t.types.mvex].concat(i))},t.mvhd=function(e,r){r*=e;var i=Math.floor(r/(z+1)),a=Math.floor(r%(z+1)),n=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,n)},t.sdtp=function(e){var r,i,a=e.samples||[],n=new Uint8Array(4+a.length);for(i=0;i<a.length;i++)r=a[i].flags,n[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return t.box(t.types.sdtp,n)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var r,i,a,n=[],o=[];for(r=0;r<e.sps.length;r++)i=e.sps[r],a=i.byteLength,n.push(a>>>8&255),n.push(255&a),n=n.concat(Array.prototype.slice.call(i));for(r=0;r<e.pps.length;r++)i=e.pps[r],a=i.byteLength,o.push(a>>>8&255),o.push(255&a),o=o.concat(Array.prototype.slice.call(i));var s=t.box(t.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(o))),l=e.width,u=e.height,d=e.pixelRatio[0],h=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,255&d,h>>24,h>>16&255,h>>8&255,255&h])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var r=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var r=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var r=e.id,i=e.duration*e.timescale,a=e.width,n=e.height,o=Math.floor(i/(z+1)),s=Math.floor(i%(z+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,n>>8&255,255&n,0,0]))},t.traf=function(e,r){var i=t.sdtp(e),a=e.id,n=Math.floor(r/(z+1)),o=Math.floor(r%(z+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,o>>24,o>>16&255,o>>8&255,255&o])),t.trun(e,i.length+16+20+8+16+8+8),i)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var r=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,r){var i,a,n,o,s,l,u=e.samples||[],d=u.length,h=12+16*d,c=new Uint8Array(h);for(r+=8+h,c.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),i=0;i<d;i++)a=u[i],n=a.duration,o=a.size,s=a.flags,l=a.cts,c.set([n>>>24&255,n>>>16&255,n>>>8&255,255&n,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return t.box(t.types.trun,c)},t.initSegment=function(e){t.types||t.init();var r,i=t.moov(e);return r=new Uint8Array(t.FTYP.byteLength+i.byteLength),r.set(t.FTYP),r.set(i,t.FTYP.byteLength),r},t}(),q=X,Q=function(){function t(e,r,i,a){T(this,t),this.observer=e,this.config=r,this.typeSupported=i;var n=navigator.userAgent;this.isSafari=a&&a.indexOf("Apple")>-1&&n&&!n.match("CriOS"),this.ISGenerated=!1}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},t.prototype.resetInitSegment=function(){this.ISGenerated=!1},t.prototype.remux=function(t,e,r,i,a,n,o){if(this.ISGenerated||this.generateIS(t,e,a),this.ISGenerated){var s=t.samples.length,l=e.samples.length,u=a,d=a;if(s&&l){var h=(t.samples[0].dts-e.samples[0].dts)/e.inputTimeScale;u+=Math.max(0,h),d+=Math.max(0,-h)}if(s){t.timescale||(w.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,a));var c=this.remuxAudio(t,u,n,o);if(l){var f=void 0;c&&(f=c.endPTS-c.startPTS),e.timescale||(w.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,a)),this.remuxVideo(e,d,n,f,o)}}else{var p=void 0;l&&(p=this.remuxVideo(e,d,n,o)),p&&t.codec&&this.remuxEmptyAudio(t,u,n,p)}}r.samples.length&&this.remuxID3(r,a),i.samples.length&&this.remuxText(i,a),this.observer.trigger(S.a.FRAG_PARSED)},t.prototype.generateIS=function(t,e,r){var i,a,n=this.observer,o=t.samples,s=e.samples,l=this.typeSupported,u="audio/mp4",d={},h={tracks:d},c=void 0===this._initPTS;if(c&&(i=a=1/0),t.config&&o.length&&(t.timescale=t.samplerate,w.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(l.mpeg?(u="audio/mpeg",t.codec=""):l.mp3&&(t.codec="mp3")),d.audio={container:u,codec:t.codec,initSegment:!t.isAAC&&l.mpeg?new Uint8Array:q.initSegment([t]),metadata:{channelCount:t.channelCount}},c&&(i=a=o[0].pts-t.inputTimeScale*r)),e.sps&&e.pps&&s.length){var f=e.inputTimeScale;e.timescale=f,d.video={container:"video/mp4",codec:e.codec,initSegment:q.initSegment([e]),metadata:{width:e.width,height:e.height}},c&&(i=Math.min(i,s[0].pts-f*r),a=Math.min(a,s[0].dts-f*r),this.observer.trigger(S.a.INIT_PTS_FOUND,{initPTS:i}))}Object.keys(d).length?(n.trigger(S.a.FRAG_PARSING_INIT_SEGMENT,h),this.ISGenerated=!0,c&&(this._initPTS=i,this._initDTS=a)):n.trigger(S.a.ERROR,{type:L.b.MEDIA_ERROR,details:L.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.prototype.remuxVideo=function(t,e,r,i,a){var n,o,s,l,u,d,h,c=8,f=t.timescale,p=t.samples,g=[],v=p.length,y=this._PTSNormalize,m=this._initDTS,b=this.nextAvcDts,E=this.isSafari;E&&(r|=p.length&&b&&(a&&Math.abs(e-b/f)<.1||Math.abs(p[0].pts-b-m)<f/5)),r||(b=e*f),p.forEach(function(t){t.pts=y(t.pts-m,b),t.dts=y(t.dts-m,b)}),p.sort(function(t,e){var r=t.dts-e.dts,i=t.pts-e.pts;return r||(i||t.id-e.id)});var T=p.reduce(function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)},0);if(T<0){w.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(T/90)+" ms to overcome this issue");for(var R=0;R<p.length;R++)p[R].dts+=T}var A=p[0];u=Math.max(A.dts,0),l=Math.max(A.pts,0);var _=Math.round((u-b)/90);r&&_&&(_>1?w.b.log("AVC:"+_+" ms hole between fragments detected,filling it"):_<-1&&w.b.log("AVC:"+-_+" ms overlapping between fragments detected"),u=b,p[0].dts=u,l=Math.max(l-_,b),p[0].pts=l,w.b.log("Video/PTS/DTS adjusted: "+Math.round(l/90)+"/"+Math.round(u/90)+",delta:"+_+" ms")),A=p[p.length-1],h=Math.max(A.dts,0),d=Math.max(A.pts,0,h),E&&(n=Math.round((h-u)/(p.length-1)));for(var D=0,I=0,k=0;k<v;k++){for(var O=p[k],C=O.units,P=C.length,x=0,F=0;F<P;F++)x+=C[F].data.length;I+=x,D+=P,O.length=x,O.dts=E?u+k*n:Math.max(O.dts,u),O.pts=Math.max(O.pts,O.dts)}var N=I+4*D+8;try{o=new Uint8Array(N)}catch(t){return void this.observer.trigger(S.a.ERROR,{type:L.b.MUX_ERROR,details:L.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}var M=new DataView(o.buffer);M.setUint32(0,N),o.set(q.types.mdat,4);for(var U=0;U<v;U++){for(var B=p[U],G=B.units,j=0,H=void 0,K=0,W=G.length;K<W;K++){var V=G[K],Y=V.data,z=V.data.byteLength;M.setUint32(c,z),c+=4,o.set(Y,c),c+=z,j+=4+z}if(E)H=Math.max(0,n*Math.round((B.pts-B.dts)/n));else{if(U<v-1)n=p[U+1].dts-B.dts;else{var X=this.config,Q=B.dts-p[U>0?U-1:U].dts;if(X.stretchShortVideoTrack){var J=X.maxBufferHole,$=X.maxSeekHole,Z=Math.floor(Math.min(J,$)*f),tt=(i?l+i*f:this.nextAudioPts)-B.pts;tt>Z?(n=tt-Q,n<0&&(n=Q),w.b.log("It is approximately "+tt/90+" ms to the next segment; using duration "+n/90+" ms for the last video frame.")):n=Q}else n=Q}H=Math.round(B.pts-B.dts)}g.push({size:j,duration:n,cts:H,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:B.key?2:1,isNonSync:B.key?0:1}})}this.nextAvcDts=h+n;var et=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,g.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var rt=g[0].flags;rt.dependsOn=2,rt.isNonSync=0}t.samples=g,s=q.moof(t.sequenceNumber++,u,t),t.samples=[];var it={data1:s,data2:o,startPTS:l/f,endPTS:(d+n)/f,startDTS:u/f,endDTS:this.nextAvcDts/f,type:"video",nb:g.length,dropped:et};return this.observer.trigger(S.a.FRAG_PARSING_DATA,it),it},t.prototype.remuxAudio=function(t,e,r,i){var a,n,o,s,l,u,d,h=t.inputTimeScale,c=t.timescale,f=h/c,p=t.isAAC?1024:1152,g=p*f,v=this._PTSNormalize,y=this._initDTS,m=!t.isAAC&&this.typeSupported.mpeg,b=t.samples,E=[],T=this.nextAudioPts;if(r|=b.length&&T&&(i&&Math.abs(e-T/h)<.1||Math.abs(b[0].pts-T-y)<20*g),b.forEach(function(t){t.pts=t.dts=v(t.pts-y,e*h)}),b=b.filter(function(t){return t.pts>=0}),0!==b.length){if(r||(T=i?e*h:b[0].pts),t.isAAC)for(var R=this.config.maxAudioFramesDrift,A=0,_=T;A<b.length;){var D,I=b[A],k=I.pts;D=k-_;var O=Math.abs(1e3*D/h);if(D<=-R*g)w.b.warn("Dropping 1 audio frame @ "+(_/h).toFixed(3)+"s due to "+Math.round(O)+" ms overlap."),b.splice(A,1),t.len-=I.unit.length;else if(D>=R*g&&O<1e4&&_){var C=Math.round(D/g);w.b.warn("Injecting "+C+" audio frame @ "+(_/h).toFixed(3)+"s due to "+Math.round(1e3*D/h)+" ms gap.");for(var P=0;P<C;P++){var x=Math.max(_,0);o=Y.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),o||(w.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),o=I.unit.subarray()),b.splice(A,0,{unit:o,pts:x,dts:x}),t.len+=o.length,_+=g,A++}I.pts=I.dts=_,_+=g,A++}else Math.abs(D),I.pts=I.dts=_,_+=g,A++}for(var F=0,N=b.length;F<N;F++){var M=b[F],U=M.unit,B=M.pts;if(void 0!==d)n.duration=Math.round((B-d)/f);else{var G=Math.round(1e3*(B-T)/h),j=0;if(r&&t.isAAC&&G){if(G>0&&G<1e4)j=Math.round((B-T)/g),w.b.log(G+" ms hole between AAC samples detected,filling it"),j>0&&(o=Y.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),o||(o=U.subarray()),t.len+=j*o.length);else if(G<-12){w.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(T/h).toFixed(3)+"s/"+(B/h).toFixed(3)+"s/"+-G+"ms"),t.len-=U.byteLength;continue}B=T}if(u=B,!(t.len>0))return;var H=m?t.len:t.len+8;a=m?0:8;try{s=new Uint8Array(H)}catch(t){return void this.observer.trigger(S.a.ERROR,{type:L.b.MUX_ERROR,details:L.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:H,reason:"fail allocating audio mdat "+H})}if(!m){new DataView(s.buffer).setUint32(0,H),s.set(q.types.mdat,4)}for(var K=0;K<j;K++)o=Y.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),o||(w.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),o=U.subarray()),s.set(o,a),a+=o.byteLength,n={size:o.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(n)}s.set(U,a);var W=U.byteLength;a+=W,n={size:W,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(n),d=B}var V=0,z=E.length;if(z>=2&&(V=E[z-2].duration,n.duration=V),z){this.nextAudioPts=T=d+f*V,t.len=0,t.samples=E,l=m?new Uint8Array:q.moof(t.sequenceNumber++,u/f,t),t.samples=[];var X=u/h,Q=T/h,J={data1:l,data2:s,startPTS:X,endPTS:Q,startDTS:X,endDTS:Q,type:"audio",nb:z};return this.observer.trigger(S.a.FRAG_PARSING_DATA,J),J}return null}},t.prototype.remuxEmptyAudio=function(t,e,r,i){var a=t.inputTimeScale,n=t.samplerate?t.samplerate:a,o=a/n,s=this.nextAudioPts,l=(void 0!==s?s:i.startDTS*a)+this._initDTS,u=i.endDTS*a+this._initDTS,d=1024*o,h=Math.ceil((u-l)/d),c=Y.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(w.b.warn("remux empty Audio"),!c)return void w.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var f=[],p=0;p<h;p++){var g=l+p*d;f.push({unit:c,pts:g,dts:g}),t.len+=c.length}t.samples=f,this.remuxAudio(t,e,r)},t.prototype.remuxID3=function(t,e){var r,i=t.samples.length,a=t.inputTimeScale,n=this._initPTS,o=this._initDTS;if(i){for(var s=0;s<i;s++)r=t.samples[s],r.pts=(r.pts-n)/a,r.dts=(r.dts-o)/a;this.observer.trigger(S.a.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[],e=e},t.prototype.remuxText=function(t,e){t.samples.sort(function(t,e){return t.pts-e.pts});var r,i=t.samples.length,a=t.inputTimeScale,n=this._initPTS;if(i){for(var o=0;o<i;o++)r=t.samples[o],r.pts=(r.pts-n)/a;this.observer.trigger(S.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[],e=e},t.prototype._PTSNormalize=function(t,e){var r;if(void 0===e)return t;for(r=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=r;return t},t}(),J=Q,$=function(){function t(e){R(this,t),this.observer=e}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(){},t.prototype.resetInitSegment=function(){},t.prototype.remux=function(t,e,r,i,a,n,o,s){var l=this.observer,u="";t&&(u+="audio"),e&&(u+="video"),l.trigger(S.a.FRAG_PARSING_DATA,{data1:s,startPTS:a,startDTS:a,type:u,nb:1,dropped:0}),l.trigger(S.a.FRAG_PARSED)},t}(),Z=$,tt=function(){function t(e,r,i,a){A(this,t),this.observer=e,this.typeSupported=r,this.config=i,this.vendor=a}return t.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},t.prototype.push=function(t,e,r,i,a,n,o,s,l,u,d,h){if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var c=this.decrypter;null==c&&(c=this.decrypter=new _.a(this.observer,this.config));var f,p=this;try{f=performance.now()}catch(t){f=Date.now()}c.decrypt(t,e.key.buffer,e.iv.buffer,function(t){var c;try{c=performance.now()}catch(t){c=Date.now()}p.observer.trigger(S.a.FRAG_DECRYPTED,{stats:{tstart:f,tdecrypt:c}}),p.pushDecrypted(new Uint8Array(t),e,new Uint8Array(r),i,a,n,o,s,l,u,d,h)})}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(r),i,a,n,o,s,l,u,d,h)},t.prototype.pushDecrypted=function(t,e,r,i,a,n,o,s,l,u,d,h){var c=this.demuxer;if(!c||o&&!this.probe(t)){for(var f=this.observer,p=this.typeSupported,g=this.config,v=[{demux:H,remux:J},{demux:P,remux:Z},{demux:k,remux:J},{demux:W,remux:J}],y=0,m=v.length;y<m;y++){var b=v[y],E=b.demux.probe;if(E(t)){var T=this.remuxer=new b.remux(f,g,p,this.vendor);c=new b.demux(f,T,g,p),this.probe=E;break}}if(!c)return void f.trigger(S.a.ERROR,{type:L.b.MEDIA_ERROR,details:L.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=c}var R=this.remuxer;(o||s)&&(c.resetInitSegment(r,i,a,u),R.resetInitSegment()),o&&(c.resetTimeStamp(h),R.resetTimeStamp(h)),"function"==typeof c.setDecryptData&&c.setDecryptData(e),c.append(t,n,l,d)},t}();e.a=tt},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){var r=jt[e];return!!r&&!0===r[t.slice(0,4)]}function o(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)return null;for(var r=null,i=0;i<t.length;i++){var a=t[i];a.id===e&&(r=a)}return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function y(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e,r){var i=t[e],a=t[r],n=a.startPTS;isNaN(n)?a.start=r>e?i.start+i.duration:Math.max(i.start-a.duration,0):r>e?(i.duration=n-i.start,i.duration<0&&Pt.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(a.duration=i.start-n,a.duration<0&&Pt.b.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!"))}function E(t,e,r,i,a,n){var o=r;if(!isNaN(e.startPTS)){var s=Math.abs(e.startPTS-r);isNaN(e.deltaPTS)?e.deltaPTS=s:e.deltaPTS=Math.max(s,e.deltaPTS),o=Math.max(r,e.startPTS),r=Math.min(r,e.startPTS),i=Math.max(i,e.endPTS),a=Math.min(a,e.startDTS),n=Math.max(n,e.endDTS)}var l=r-e.start;e.start=e.startPTS=r,e.maxStartPTS=o,e.endPTS=i,e.startDTS=a,e.endDTS=n,e.duration=i-r;var u=e.sn;if(!t||u<t.startSN||u>t.endSN)return 0;var d,h,c;for(d=u-t.startSN,h=t.fragments,h[d]=e,c=d;c>0;c--)b(h,c,c-1);for(c=d;c<h.length-1;c++)b(h,c,c+1);return t.PTSKnown=!0,l}function T(t,e){var r,i=Math.max(t.startSN,e.startSN)-e.startSN,a=Math.min(t.endSN,e.endSN)-e.startSN,n=e.startSN-t.startSN,o=t.fragments,s=e.fragments,l=0;if(a<i)return void(e.PTSKnown=!1);for(var u=i;u<=a;u++){var d=o[n+u],h=s[u];h&&d&&(l=d.cc-h.cc,isNaN(d.startPTS)||(h.start=h.startPTS=d.startPTS,h.endPTS=d.endPTS,h.duration=d.duration,h.backtracked=d.backtracked,h.dropped=d.dropped,r=h))}if(l)for(Pt.b.log("discontinuity sliding from playlist, take drift into account"),u=0;u<s.length;u++)s[u].cc+=l;if(r)E(e,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS);else if(n>=0&&n<o.length){var c=o[n].start;for(u=0;u<s.length;u++)s[u].start+=c}e.PTSKnown=t.PTSKnown}function R(t,e){for(var r=null,i=0;i<t.length;i+=1){var a=t[i];if(a&&a.cc===e){r=a;break}}return r}function A(t,e){return re.search(t,function(t){return t.cc<e?1:t.cc>e?-1:0})}function S(t,e,r){var i=!1;return e&&e.details&&r&&(r.endCC>r.startCC||t&&t.cc<r.startCC)&&(i=!0),i}function L(t,e){var r=t.fragments,i=e.fragments;if(!i.length||!r.length)return void Pt.b.log("No fragments to align");var a=R(r,i[0].cc);return!a||a&&!a.startPTS?void Pt.b.log("No frag in previous level to align on"):a}function _(t,e){e.fragments.forEach(function(e){if(e){var r=e.start+t;e.start=e.startPTS=r,e.endPTS=r+e.duration}}),e.PTSKnown=!0}function w(t,e,r){if(S(t,e,r)){var i=L(e.details,r);i&&(Pt.b.log("Adjusting PTS using last level due to CC increase within current level"),_(i.start,r))}if(!1===r.PTSKnown&&e&&e.details){var a=e.details.programDateTime,n=r.programDateTime,o=(n-a)/1e3+e.details.fragments[0].start;isNaN(o)||(Pt.b.log("adjusting PTS using programDateTime delta, sliding:"+o.toFixed(3)),_(o,r))}}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function k(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function P(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function M(){var t=y(),e=window.SourceBuffer||window.WebKitSourceBuffer,r=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!r&&!!i}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function H(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function V(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function X(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function J(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function at(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function nt(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Qe,this.regionList=[]}function ot(t){function e(t,e,r,i){return 3600*(0|t)+60*(0|e)+(0|r)+(0|i)/1e3}var r=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function st(){this.values=Object.create(null)}function lt(t,e,r,i){var a=i?t.split(i):[t];for(var n in a)if("string"==typeof a[n]){var o=a[n].split(r);if(2===o.length){var s=o[0],l=o[1];e(s,l)}}}function ut(t,e,r){function i(){var e=ot(t);if(null===e)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function a(){t=t.replace(/^\s+/,"")}var n=t;if(a(),e.startTime=i(),a(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.substr(3),a(),e.endTime=i(),a(),function(t,e){var i=new st;lt(t,function(t,e){switch(t){case"region":for(var a=r.length-1;a>=0;a--)if(r[a].id===e){i.set(t,r[a].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var n=e.split(","),o=n[0];i.integer(t,o),i.percent(t,o)&&i.set("snapToLines",!1),i.alt(t,o,["auto"]),2===n.length&&i.alt("lineAlign",n[1],["start",$e,"end"]);break;case"position":n=e.split(","),i.percent(t,n[0]),2===n.length&&i.alt("positionAlign",n[1],["start",$e,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",$e,"end","left","right"])}},/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");var a=i.get("line","auto");"auto"===a&&-1===Je.line&&(a=-1),e.line=a,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",$e);var n=i.get("position","auto");"auto"===n&&50===Je.position&&(n="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=n}(t,e)}function dt(t){return t.replace(/<br(?: \/)?>/gi,"\n")}function ht(t,e,r,i){for(var a,n,o,s,l,u=window.VTTCue||window.TextTrackCue,d=0;d<i.rows.length;d++)if(a=i.rows[d],o=!0,s=0,l="",!a.isEmpty()){for(var h=0;h<a.chars.length;h++)a.chars[h].uchar.match(/\s/)&&o?s++:(l+=a.chars[h].uchar,o=!1);a.cueStartTime=e,e===r&&(r+=1e-4),n=new u(e,r,dt(l.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?n.line=d+1:n.line=d>7?d-2:d+1,n.align="left",n.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(n)}}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function vt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function yt(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}function mt(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function bt(t,e,r,i){return Math.min(e,i)-Math.max(t,r)}function Et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Rt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function At(t){for(var e=[],r=0;r<t.length;r++)"subtitles"===t[r].kind&&e.push(t[r]);return e}function St(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var Dt={};r.d(Dt,"newCue",function(){return ht});var It=r(6),kt=r.n(It),Ot=r(1),Ct=r(2),Pt=r(0),xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft=function(){function t(e){i(this,t),this.hls=e,this.onEvent=this.onEvent.bind(this);for(var r=arguments.length,a=Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];this.handledEvents=a,this.useGenericHandler=!0,this.registerListeners()}return t.prototype.destroy=function(){this.unregisterListeners()},t.prototype.isEventHandler=function(){return"object"===xt(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},t.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if("hlsEventGeneric"===t)throw new Error("Forbidden event name: "+t);this.hls.on(t,this.onEvent)},this)},t.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},t.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},t.prototype.onEventGeneric=function(t,e){var r=function(t,e){var r="on"+t.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,e)};try{r.call(this,t,e).call()}catch(e){Pt.b.error("internal error happened while processing "+t+":"+e.message),this.hls.trigger(Ot.a.ERROR,{type:Ct.b.OTHER_ERROR,details:Ct.a.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}(),Nt=Ft,Mt=/^(\d+)x(\d+)$/,Ut=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,Bt=function(){function t(e){a(this,t),"string"==typeof e&&(e=t.parseAttrList(e));for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r])}return t.prototype.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var r=new Uint8Array(e.length/2),i=0;i<e.length/2;i++)r[i]=parseInt(e.slice(2*i,2*i+2),16);return r}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},t.prototype.enumeratedString=function(t){return this[t]},t.prototype.decimalResolution=function(t){var e=Mt.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,r={};for(Ut.lastIndex=0;null!==(e=Ut.exec(t));){var i=e[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),r[e[1]]=i}return r},t}(),Gt=Bt,jt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}},Ht=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Kt=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,Wt=/#EXT-X-MEDIA:(.*)/g,Vt=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),Yt=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,zt=function(){function t(){u(this,t),this.method=null,this.key=null,this.iv=null,this._uri=null}return Ht(t,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=kt.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),t}(),Xt=function(){function t(){u(this,t),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return t.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e},t.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var r=t;return t&&t.method&&t.uri&&!t.iv&&(r=new zt,r.method=t.method,r.baseuri=t.baseuri,r.reluri=t.reluri,r.iv=this.createInitializationVector(e)),r},t.prototype.cloneObj=function(t){return JSON.parse(JSON.stringify(t))},Ht(t,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=kt.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var t=this._byteRange=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var r=this.lastByteRangeEndOffset;t[0]=r||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),t}(),qt=function(t){function e(r){u(this,e);var i=s(this,t.call(this,r,Ot.a.MANIFEST_LOADING,Ot.a.LEVEL_LOADING,Ot.a.AUDIO_TRACK_LOADING,Ot.a.SUBTITLE_TRACK_LOADING));return i.loaders={},i}return l(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},Nt.prototype.destroy.call(this)},e.prototype.onManifestLoading=function(t){this.load(t.url,{type:"manifest"})},e.prototype.onLevelLoading=function(t){this.load(t.url,{type:"level",level:t.level,id:t.id})},e.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:"audioTrack",id:t.id})},e.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:"subtitleTrack",id:t.id})},e.prototype.load=function(t,e){var r=this.loaders[e.type];if(void 0!==r){var i=r.context;if(i&&i.url===t)return void Pt.b.trace("playlist request ongoing");Pt.b.warn("abort previous loader for type:"+e.type),r.abort()}var a=this.hls.config,n=void 0,o=void 0,s=void 0,l=void 0;"manifest"===e.type?(n=a.manifestLoadingMaxRetry,o=a.manifestLoadingTimeOut,s=a.manifestLoadingRetryDelay,l=a.manifestLoadingMaxRetryTimeout):"level"===e.type?(n=0,o=a.levelLoadingTimeOut):(n=a.levelLoadingMaxRetry,o=a.levelLoadingTimeOut,s=a.levelLoadingRetryDelay,l=a.levelLoadingMaxRetryTimeout,Pt.b.log("loading playlist for "+e.type+" "+(e.level||e.id))),r=this.loaders[e.type]=e.loader=void 0!==a.pLoader?new a.pLoader(a):new a.loader(a),e.url=t,e.responseType="";var u=void 0,d=void 0;u={timeout:o,maxRetry:n,retryDelay:s,maxRetryDelay:l},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},r.load(e,u,d)},e.prototype.resolve=function(t,e){return kt.a.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},e.prototype.parseMasterPlaylist=function(t,e){var r=[],i=void 0;for(Kt.lastIndex=0;null!=(i=Kt.exec(t));){var a={},o=a.attrs=new Gt(i[1]);a.url=this.resolve(i[2],e);var s=o.decimalResolution("RESOLUTION");s&&(a.width=s.width,a.height=s.height),a.bitrate=o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),a.name=o.NAME,function(t,e){["video","audio"].forEach(function(r){var i=t.filter(function(t){return n(t,r)});if(i.length){var a=i.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});e[r+"Codec"]=a.length>0?a[0]:i[0],t=t.filter(function(t){return-1===i.indexOf(t)})}}),e.unknownCodecs=t}([].concat((o.CODECS||"").split(/[ ,]+/)),a),a.videoCodec&&-1!==a.videoCodec.indexOf("avc1")&&(a.videoCodec=this.avc1toavcoti(a.videoCodec)),r.push(a)}return r},e.prototype.parseMasterPlaylistMedia=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=void 0,n=[],o=0;for(Wt.lastIndex=0;null!==(a=Wt.exec(t));){var s={},l=new Gt(a[1]);if(l.TYPE===r){if(s.groupId=l["GROUP-ID"],s.name=l.NAME,s.type=r,s.default="YES"===l.DEFAULT,s.autoselect="YES"===l.AUTOSELECT,s.forced="YES"===l.FORCED,l.URI&&(s.url=this.resolve(l.URI,e)),s.lang=l.LANGUAGE,s.name||(s.name=s.lang),i.length){var u=d(i,s.groupId);s.audioCodec=u?u.codec:i[0].codec}s.id=o++,n.push(s)}}return n},e.prototype.avc1toavcoti=function(t){var e,r=t.split(".");return r.length>2?(e=r.shift()+".",e+=parseInt(r.shift()).toString(16),e+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):e=t,e},e.prototype.parseLevelPlaylist=function(t,e,r,i){var a,n,o=0,s=0,l={type:null,version:null,url:e,fragments:[],live:!0,startSN:0},u=new zt,d=0,h=null,c=new Xt;for(Vt.lastIndex=0;null!==(a=Vt.exec(t));){var f=a[1];if(f){c.duration=parseFloat(f);var p=(" "+a[2]).slice(1);c.title=p||null,c.tagList.push(p?["INF",f,p]:["INF",f])}else if(a[3]){if(!isNaN(c.duration)){var g=o++;c.type=i,c.start=s,c.levelkey=u,c.sn=g,c.level=r,c.cc=d,c.baseurl=e,c.relurl=(" "+a[3]).slice(1),l.fragments.push(c),h=c,s+=c.duration,c=new Xt}}else if(a[4]){if(c.rawByteRange=(" "+a[4]).slice(1),h){var v=h.byteRangeEndOffset;v&&(c.lastByteRangeEndOffset=v)}}else if(a[5])c.rawProgramDateTime=(" "+a[5]).slice(1),c.tagList.push(["PROGRAM-DATE-TIME",c.rawProgramDateTime]),void 0===l.programDateTime&&(l.programDateTime=new Date(new Date(Date.parse(a[5]))-1e3*s));else{for(a=a[0].match(Yt),n=1;n<a.length&&void 0===a[n];n++);var y=(" "+a[n+1]).slice(1),m=(" "+a[n+2]).slice(1);switch(a[n]){case"#":c.tagList.push(m?[y,m]:[y]);break;case"PLAYLIST-TYPE":l.type=y.toUpperCase();break;case"MEDIA-SEQUENCE":o=l.startSN=parseInt(y);break;case"TARGETDURATION":l.targetduration=parseFloat(y);break;case"VERSION":l.version=parseInt(y);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":d++,c.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":d=parseInt(y);break;case"KEY":var b=y,E=new Gt(b),T=E.enumeratedString("METHOD"),R=E.URI,A=E.hexadecimalInteger("IV");T&&(u=new zt,R&&["AES-128","SAMPLE-AES"].indexOf(T)>=0&&(u.method=T,u.baseuri=e,u.reluri=R,u.key=null,u.iv=A));break;case"START":var S=y,L=new Gt(S),_=L.decimalFloatingPoint("TIME-OFFSET");isNaN(_)||(l.startTimeOffset=_);break;case"MAP":var w=new Gt(y);c.relurl=w.URI,c.rawByteRange=w.BYTERANGE,c.baseurl=e,c.level=r,c.type=i,c.sn="initSegment",l.initSegment=c,c=new Xt;break;default:Pt.b.warn("line parsed but not handled: "+a)}}}return c=h,c&&!c.relurl&&(l.fragments.pop(),s-=c.duration),l.totalduration=s,l.averagetargetduration=s/l.fragments.length,l.endSN=o-1,l.startCC=l.fragments[0]?l.fragments[0].cc:0,l.endCC=d,l},e.prototype.loadsuccess=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.data,n=t.url,o=r.type,s=r.id,l=r.level,u=this.hls;if(this.loaders[o]=void 0,void 0!==n&&0!==n.indexOf("data:")||(n=r.url),e.tload=performance.now(),0===a.indexOf("#EXTM3U"))if(a.indexOf("#EXTINF:")>0){var d="audioTrack"!==o&&"subtitleTrack"!==o,h=isNaN(l)?isNaN(s)?0:s:l,c=this.parseLevelPlaylist(a,n,h,"audioTrack"===o?"audio":"subtitleTrack"===o?"subtitle":"main");c.tload=e.tload,"manifest"===o&&u.trigger(Ot.a.MANIFEST_LOADED,{levels:[{url:n,details:c}],audioTracks:[],url:n,stats:e,networkDetails:i}),e.tparsed=performance.now(),c.targetduration?d?u.trigger(Ot.a.LEVEL_LOADED,{details:c,level:l||0,id:s||0,stats:e,networkDetails:i}):"audioTrack"===o?u.trigger(Ot.a.AUDIO_TRACK_LOADED,{details:c,id:s,stats:e,networkDetails:i}):"subtitleTrack"===o&&u.trigger(Ot.a.SUBTITLE_TRACK_LOADED,{details:c,id:s,stats:e,networkDetails:i}):u.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:Ct.a.MANIFEST_PARSING_ERROR,fatal:!0,url:n,reason:"invalid targetduration",networkDetails:i})}else{var f=this.parseMasterPlaylist(a,n);if(f.length){var p=f.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),g=this.parseMasterPlaylistMedia(a,n,"AUDIO",p),v=this.parseMasterPlaylistMedia(a,n,"SUBTITLES");if(g.length){var y=!1;g.forEach(function(t){t.url||(y=!0)}),!1===y&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(Pt.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main"}))}u.trigger(Ot.a.MANIFEST_LOADED,{levels:f,audioTracks:g,subtitles:v,url:n,stats:e,networkDetails:i})}else u.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:Ct.a.MANIFEST_PARSING_ERROR,fatal:!0,url:n,reason:"no level found in manifest",networkDetails:i})}else u.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:Ct.a.MANIFEST_PARSING_ERROR,fatal:!0,url:n,reason:"no EXTM3U delimiter",networkDetails:i})},e.prototype.loaderror=function(t,e){var r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.loader;switch(e.type){case"manifest":r=Ct.a.MANIFEST_LOAD_ERROR,i=!0;break;case"level":r=Ct.a.LEVEL_LOAD_ERROR,i=!1;break;case"audioTrack":r=Ct.a.AUDIO_TRACK_LOAD_ERROR,i=!1}n&&(n.abort(),this.loaders[e.type]=void 0),this.hls.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:r,fatal:i,url:n.url,loader:n,response:t,context:e,networkDetails:a})},e.prototype.loadtimeout=function(t,e){var r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.loader;switch(e.type){case"manifest":r=Ct.a.MANIFEST_LOAD_TIMEOUT,i=!0;break;case"level":r=Ct.a.LEVEL_LOAD_TIMEOUT,i=!1;break;case"audioTrack":r=Ct.a.AUDIO_TRACK_LOAD_TIMEOUT,i=!1}n&&(n.abort(),this.loaders[e.type]=void 0),this.hls.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:r,fatal:i,url:n.url,loader:n,context:e,networkDetails:a})},e}(Nt),Qt=qt,Jt=function(t){function e(r){h(this,e);var i=c(this,t.call(this,r,Ot.a.FRAG_LOADING));return i.loaders={},i}return f(e,t),e.prototype.destroy=function(){var t=this.loaders;for(var e in t){var r=t[e];r&&r.destroy()}this.loaders={},Nt.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag,r=e.type,i=this.loaders[r],a=this.hls.config;e.loaded=0,i&&(Pt.b.warn("abort previous fragment loader for type:"+r),i.abort()),i=this.loaders[r]=e.loader=void 0!==a.fLoader?new a.fLoader(a):new a.loader(a);var n=void 0,o=void 0,s=void 0;n={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var l=e.byteRangeStartOffset,u=e.byteRangeEndOffset;isNaN(l)||isNaN(u)||(n.rangeStart=l,n.rangeEnd=u),o={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},i.load(n,o,s)},e.prototype.loadsuccess=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.data,n=r.frag;n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(Ot.a.FRAG_LOADED,{payload:a,frag:n,stats:e,networkDetails:i})},e.prototype.loaderror=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:Ct.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:r})},e.prototype.loadtimeout=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:Ct.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:r})},e.prototype.loadprogress=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=e.frag;a.loaded=t.loaded,this.hls.trigger(Ot.a.FRAG_LOAD_PROGRESS,{frag:a,stats:t,networkDetails:i})},e}(Nt),$t=Jt,Zt=function(t){function e(r){p(this,e);var i=g(this,t.call(this,r,Ot.a.KEY_LOADING));return i.loaders={},i.decryptkey=null,i.decrypturl=null,i}return v(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},Nt.prototype.destroy.call(this)},e.prototype.onKeyLoading=function(t){var e=t.frag,r=e.type,i=this.loaders[r],a=e.decryptdata,n=a.uri;if(n!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;i&&(Pt.b.warn("abort previous key loader for type:"+r),i.abort()),e.loader=this.loaders[r]=new o.loader(o),this.decrypturl=n,this.decryptkey=null;var s=void 0,l=void 0,u=void 0;s={url:n,frag:e,responseType:"arraybuffer"},l={timeout:o.fragLoadingTimeOut,maxRetry:o.fragLoadingMaxRetry,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(s,l,u)}else this.decryptkey&&(a.key=this.decryptkey,this.hls.trigger(Ot.a.KEY_LOADED,{frag:e}))},e.prototype.loadsuccess=function(t,e,r){var i=r.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(t.data),i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(Ot.a.KEY_LOADED,{frag:i})},e.prototype.loaderror=function(t,e){var r=e.frag,i=r.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:Ct.a.KEY_LOAD_ERROR,fatal:!1,frag:r,response:t})},e.prototype.loadtimeout=function(t,e){var r=e.frag,i=r.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Ot.a.ERROR,{type:Ct.b.NETWORK_ERROR,details:Ct.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},e}(Nt),te=Zt,ee={search:function(t,e){for(var r=0,i=t.length-1,a=null,n=null;r<=i;){a=(r+i)/2|0,n=t[a];var o=e(n);if(o>0)r=a+1;else{if(!(o<0))return n;i=a-1}}return null}},re=ee,ie={isBuffered:function(t,e){try{if(t)for(var r=t.buffered,i=0;i<r.length;i++)if(e>=r.start(i)&&e<=r.end(i))return!0}catch(t){}return!1},bufferInfo:function(t,e,r){try{if(t){var i,a=t.buffered,n=[];for(i=0;i<a.length;i++)n.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(n,e,r)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},bufferedInfo:function(t,e,r){var i,a,n,o,s,l=[];for(t.sort(function(t,e){var r=t.start-e.start;return r||e.end-t.end}),s=0;s<t.length;s++){var u=l.length;if(u){var d=l[u-1].end;t[s].start-d<r?t[s].end>d&&(l[u-1].end=t[s].end):l.push(t[s])}else l.push(t[s])}for(s=0,i=0,a=n=e;s<l.length;s++){var h=l[s].start,c=l[s].end;if(e+r>=h&&e<c)a=h,n=c,i=n-e;else if(e+r<h){o=h;break}}return{len:i,start:a,end:n,nextStart:o}}},ae=ie,ne=r(7),oe=r(5),se=r.n(oe),le=r(9),ue=r.n(le),de=y(),he=function(){function t(e,r){m(this,t),this.hls=e,this.id=r;var i=this.observer=new se.a,a=e.config;i.trigger=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];i.emit.apply(i,[t,t].concat(r))},i.off=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];i.removeListener.apply(i,[t].concat(r))};var n=function(t,r){r=r||{},r.frag=this.frag,r.id=this.id,e.trigger(t,r)}.bind(this);i.on(Ot.a.FRAG_DECRYPTED,n),i.on(Ot.a.FRAG_PARSING_INIT_SEGMENT,n),i.on(Ot.a.FRAG_PARSING_DATA,n),i.on(Ot.a.FRAG_PARSED,n),i.on(Ot.a.ERROR,n),i.on(Ot.a.FRAG_PARSING_METADATA,n),i.on(Ot.a.FRAG_PARSING_USERDATA,n),i.on(Ot.a.INIT_PTS_FOUND,n);var o={mp4:de.isTypeSupported("video/mp4"),mpeg:de.isTypeSupported("audio/mpeg"),mp3:de.isTypeSupported('audio/mp4; codecs="mp3"')},s=navigator.vendor;if(a.enableWorker&&"undefined"!=typeof Worker){Pt.b.log("demuxing in webworker");var l=void 0;try{l=this.w=ue()(10),this.onwmsg=this.onWorkerMessage.bind(this),l.addEventListener("message",this.onwmsg),l.onerror=function(t){e.trigger(Ot.a.ERROR,{type:Ct.b.OTHER_ERROR,details:Ct.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},l.postMessage({cmd:"init",typeSupported:o,vendor:s,id:r,config:JSON.stringify(a)})}catch(t){Pt.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),l&&URL.revokeObjectURL(l.objectURL),this.demuxer=new ne.a(i,o,a,s),this.w=void 0}}else this.demuxer=new ne.a(i,o,a,s)}return t.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,e,r,i,a,n,o,s){var l=this.w,u=isNaN(a.startDTS)?a.start:a.startDTS,d=a.decryptdata,h=this.frag,c=!(h&&a.cc===h.cc),f=!(h&&a.level===h.level),p=h&&a.sn===h.sn+1,g=!f&&p;if(c&&Pt.b.log(this.id+":discontinuity detected"),f&&Pt.b.log(this.id+":switch detected"),this.frag=a,l)l.postMessage({cmd:"demux",data:t,decryptdata:d,initSegment:e,audioCodec:r,videoCodec:i,timeOffset:u,discontinuity:c,trackSwitch:f,contiguous:g,duration:n,accurateTimeOffset:o,defaultInitPTS:s},t instanceof ArrayBuffer?[t]:[]);else{var v=this.demuxer;v&&v.push(t,d,e,r,i,u,c,f,g,n,o,s)}},t.prototype.onWorkerMessage=function(t){var e=t.data,r=this.hls;switch(e.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case Ot.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,r.trigger(e.event,e.data)}},t}(),ce=he,fe={toString:function(t){for(var e="",r=t.length,i=0;i<r;i++)e+="["+t.start(i).toFixed(3)+","+t.end(i).toFixed(3)+"]";return e}},pe=fe,ge=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),ve={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},ye=function(t){function e(r){D(this,e);var i=I(this,t.call(this,r,Ot.a.MEDIA_ATTACHED,Ot.a.MEDIA_DETACHING,Ot.a.MANIFEST_LOADING,Ot.a.MANIFEST_PARSED,Ot.a.LEVEL_LOADED,Ot.a.KEY_LOADED,Ot.a.FRAG_LOADED,Ot.a.FRAG_LOAD_EMERGENCY_ABORTED,Ot.a.FRAG_PARSING_INIT_SEGMENT,Ot.a.FRAG_PARSING_DATA,Ot.a.FRAG_PARSED,Ot.a.ERROR,Ot.a.AUDIO_TRACK_SWITCHING,Ot.a.AUDIO_TRACK_SWITCHED,Ot.a.BUFFER_CREATED,Ot.a.BUFFER_APPENDED,Ot.a.BUFFER_FLUSHED));return i.config=r.config,i.audioCodecSwap=!1,i.ticks=0,i._state=ve.STOPPED,i.ontick=i.tick.bind(i),i}return k(e,t),e.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),Nt.prototype.destroy.call(this),this.state=ve.STOPPED},e.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=r.startLevel;-1===i&&(i=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=i,this.loadedmetadata=!1}e>0&&-1===t&&(Pt.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=ve.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=ve.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ve.STOPPED,this.forceStartLoad=!1},e.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){switch(this.state){case ve.ERROR:break;case ve.BUFFER_FLUSHING:this.fragLoadError=0;break;case ve.IDLE:this._doTickIdle();break;case ve.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=ve.IDLE);break;case ve.FRAG_LOADING_WAITING_RETRY:var e=performance.now(),r=this.retryDate;(!r||e>=r||this.media&&this.media.seeking)&&(Pt.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=ve.IDLE);break;case ve.ERROR:case ve.STOPPED:case ve.FRAG_LOADING:case ve.PARSING:case ve.PARSED:case ve.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},e.prototype._doTickIdle=function(){var t=this.hls,e=t.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&e.startFragPrefetch)){var i=void 0;i=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var a=t.nextLoadLevel,n=this.levels[a];if(n){var o=n.bitrate,s=void 0;s=o?Math.max(8*e.maxBufferSize/o,e.maxBufferLength):e.maxBufferLength,s=Math.min(s,e.maxMaxBufferLength);var l=ae.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,i,e.maxBufferHole),u=l.len;if(!(u>=s)){Pt.b.trace("buffer length of "+u.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=a;var d=n.details;if(void 0===d||!0===d.live&&this.levelLastLoaded!==a)return void(this.state=ve.WAITING_LEVEL);var h=this.fragPrevious;if(!d.live&&h&&!h.backtracked&&h.sn===d.endSN&&!l.nextStart){if(Math.min(r.duration,h.start+h.duration)-Math.max(l.end,h.start)<=Math.max(.2,h.duration)){var c={};return this.altAudio&&(c.type="video"),this.hls.trigger(Ot.a.BUFFER_EOS,c),void(this.state=ve.ENDED)}}this._fetchPayloadOrEos(i,l,d)}}}},e.prototype._fetchPayloadOrEos=function(t,e,r){var i=this.fragPrevious,a=this.level,n=r.fragments,o=n.length;if(0!==o){var s=n[0].start,l=n[o-1].start+n[o-1].duration,u=e.end,d=void 0;if(r.initSegment&&!r.initSegment.data)d=r.initSegment;else if(r.live){var h=this.config.initialLiveManifestSize;if(o<h)return void Pt.b.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+h);if(null===(d=this._ensureFragmentAtLivePoint(r,u,s,l,i,n,o)))return}else u<s&&(d=n[0]);d||(d=this._findFragment(s,i,o,n,u,l,r)),d&&this._loadFragmentOrKey(d,a,r,t,u)}},e.prototype._ensureFragmentAtLivePoint=function(t,e,r,i,a,n,o){var s=this.hls.config,l=this.media,u=void 0,d=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(r-s.maxFragLookUpTolerance,i-d)){var h=this.liveSyncPosition=this.computeLivePosition(r,t);Pt.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+h.toFixed(3)),e=h,l&&l.readyState&&l.duration>h&&(l.currentTime=h),this.nextLoadPosition=h}if(t.PTSKnown&&e>i&&l&&l.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(a){var c=a.sn+1;if(c>=t.startSN&&c<=t.endSN){var f=n[c-t.startSN];a.cc===f.cc&&(u=f,Pt.b.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=re.search(n,function(t){return a.cc-t.cc}))&&Pt.b.log("live playlist, switching playlist, load frag with same CC: "+u.sn)}u||(u=n[Math.min(o-1,Math.round(o/2))],Pt.b.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u},e.prototype._findFragment=function(t,e,r,i,a,n,o){var s=this.hls.config,l=void 0,u=void 0,d=s.maxFragLookUpTolerance,h=e?i[e.sn-i[0].sn+1]:void 0,c=function(t){var e=Math.min(d,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-e<=a?1:t.start-e>a&&t.start?-1:0};if(a<n?(a>n-d&&(d=0),u=h&&!c(h)?h:re.search(i,c)):u=i[r-1],u){l=u;var f=l.sn-o.startSN,p=e&&l.level===e.level,g=i[f-1],v=i[f+1];if(e&&l.sn===e.sn)if(p&&!l.backtracked)if(l.sn<o.endSN){var y=e.deltaPTS;y&&y>s.maxBufferHole&&e.dropped&&f?(l=g,Pt.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),e.loadCounter--):(l=v,Pt.b.log("SN just loaded, load next one: "+l.sn))}else l=null;else l.backtracked&&(v&&v.backtracked?(Pt.b.warn("Already backtracked from fragment "+v.sn+", will not backtrack to fragment "+l.sn+". Loading fragment "+v.sn),l=v):(Pt.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),l.dropped=0,g?(g.loadCounter&&g.loadCounter--,l=g,l.backtracked=!0):f&&(l=null)))}return l},e.prototype._loadFragmentOrKey=function(t,e,r,i,a){var n=this.hls,o=n.config;if(!t.decryptdata||null==t.decryptdata.uri||null!=t.decryptdata.key){if(Pt.b.log("Loading "+t.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+e+", currentTime:"+i.toFixed(3)+",bufferEnd:"+a.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,t.loadCounter){t.loadCounter++;var s=o.fragLoadingLoopThreshold;if(t.loadCounter>s&&Math.abs(this.fragLoadIdx-t.loadIdx)<s)return void n.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:t})}else t.loadCounter=1;return t.loadIdx=this.fragLoadIdx,t.autoLevel=n.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.fragCurrent=t,this.startFragRequested=!0,isNaN(t.sn)||t.bitrateTest||(this.nextLoadPosition=t.start+t.duration),n.trigger(Ot.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new ce(n,"main")),void(this.state=ve.FRAG_LOADING)}Pt.b.log("Loading key for "+t.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+e),this.state=ve.KEY_LOADING,n.trigger(Ot.a.KEY_LOADING,{frag:t})},e.prototype.getBufferedFrag=function(t){return re.search(this._bufferedFrags,function(e){return t<e.startPTS?-1:t>e.endPTS?1:0})},e.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},e.prototype._checkFragmentChanged=function(){var t,e,r=this.media;if(r&&r.readyState&&!1===r.seeking&&(e=r.currentTime,e>r.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=e),ae.isBuffered(r,e)?t=this.getBufferedFrag(e):ae.isBuffered(r,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var i=t;if(i!==this.fragPlaying){this.hls.trigger(Ot.a.FRAG_CHANGED,{frag:i});var a=i.level;this.fragPlaying&&this.fragPlaying.level===a||this.hls.trigger(Ot.a.LEVEL_SWITCHED,{level:a}),this.fragPlaying=i}}},e.prototype.immediateLevelSwitch=function(){if(Pt.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,e=void 0;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},e.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,ae.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},e.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e=void 0,r=void 0,i=void 0;if(void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),r=this.getBufferedFrag(t.currentTime),r&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),t.paused)e=0;else{var a=this.hls.nextLoadLevel,n=this.levels[a],o=this.fragLastKbps;e=o&&this.fragCurrent?this.fragCurrent.duration*n.bitrate/(1e3*o)+1:0}if((i=this.getBufferedFrag(t.currentTime+e))&&(i=this.followingBufferedFrag(i))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.maxStartPTS,Number.POSITIVE_INFINITY)}}},e.prototype.flushMainBuffer=function(t,e){this.state=ve.BUFFER_FLUSHING;var r={startOffset:t,endOffset:e};this.altAudio&&(r.type="video"),this.hls.trigger(Ot.a.BUFFER_FLUSHING,r)},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(Pt.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0,t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){var t=this.media,e=t?t.currentTime:void 0,r=this.config;isNaN(e)||Pt.b.log("media seeking to "+e.toFixed(3));var i=this.mediaBuffer?this.mediaBuffer:t,a=ae.bufferInfo(i,e,this.config.maxBufferHole);if(this.state===ve.FRAG_LOADING){var n=this.fragCurrent;if(0===a.len&&n){var o=r.maxFragLookUpTolerance,s=n.start-o,l=n.start+n.duration+o;e<s||e>l?(n.loader&&(Pt.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=ve.IDLE):Pt.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===ve.ENDED&&(0===a.len&&(this.fragPrevious=0),this.state=ve.IDLE);t&&(this.lastCurrentTime=e),this.state!==ve.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*r.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=e),this.tick()},e.prototype.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;isNaN(e)||Pt.b.log("media seeked to "+e.toFixed(3)),this.tick()},e.prototype.onMediaEnded=function(){Pt.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestLoading=function(){Pt.b.log("trigger BUFFER_RESET"),this.hls.trigger(Ot.a.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestParsed=function(t){var e,r=!1,i=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(r=!0),-1!==e.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=r&&i,this.audioCodecSwitch&&Pt.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var a=this.config;(a.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(a.startPosition)},e.prototype.onLevelLoaded=function(t){var e=t.details,r=t.level,i=this.levels[this.levelLastLoaded],a=this.levels[r],n=e.totalduration,o=0;if(Pt.b.log("level "+r+" loaded ["+e.startSN+","+e.endSN+"],duration:"+n),e.live){var s=a.details;s&&e.fragments.length>0?(T(s,e),o=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,s),e.PTSKnown&&!isNaN(o)?Pt.b.log("live playlist sliding:"+o.toFixed(3)):(Pt.b.log("live playlist - outdated PTS, unknown sliding"),w(this.fragPrevious,i,e))):(Pt.b.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,w(this.fragPrevious,i,e))}else e.PTSKnown=!1;if(a.details=e,this.levelLastLoaded=r,this.hls.trigger(Ot.a.LEVEL_UPDATED,{details:e,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var l=e.startTimeOffset;isNaN(l)?e.live?(this.startPosition=this.computeLivePosition(o,e),Pt.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(l<0&&(Pt.b.log("negative start time offset "+l+", count from end of last fragment"),l=o+n+l),Pt.b.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===ve.WAITING_LEVEL&&(this.state=ve.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===ve.KEY_LOADING&&(this.state=ve.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,r=t.frag;if(this.state===ve.FRAG_LOADING&&e&&"main"===r.type&&r.level===e.level&&r.sn===e.sn){var i=t.stats,a=this.levels[e.level],n=a.details;if(Pt.b.log("Loaded  "+e.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e.level),this.bitrateTest=!1,this.stats=i,!0===r.bitrateTest&&this.hls.nextLoadLevel)this.state=ve.IDLE,this.startFragRequested=!1,i.tparsed=i.tbuffered=performance.now(),this.hls.trigger(Ot.a.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),this.tick();else if("initSegment"===r.sn)this.state=ve.IDLE,i.tparsed=i.tbuffered=performance.now(),n.initSegment.data=t.payload,this.hls.trigger(Ot.a.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),this.tick();else{this.state=ve.PARSING;var o=n.totalduration,s=e.level,l=e.sn,u=this.config.defaultAudioCodec||a.audioCodec;this.audioCodecSwap&&(Pt.b.log("swapping playlist audio codec"),void 0===u&&(u=this.lastAudioCodec),u&&(u=-1!==u.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,Pt.b.log("Parsing "+l+" of ["+n.startSN+" ,"+n.endSN+"],level "+s+", cc "+e.cc);var d=this.demuxer;d||(d=this.demuxer=new ce(this.hls,"main"));var h=this.media,c=h&&h.seeking,f=!c&&(n.PTSKnown||!n.live),p=n.initSegment?n.initSegment.data:[];d.push(t.payload,p,u,a.videoCodec,e,o,f,void 0)}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,r=t.frag;if(e&&"main"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===ve.PARSING){var i,a,n=t.tracks;if(n.audio&&this.altAudio&&delete n.audio,a=n.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(Pt.b.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==a.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==a.container&&(o="mp4a.40.2",Pt.b.log("Android: force audio codec to "+o)),a.levelCodec=o,a.id=t.id}a=n.video,a&&(a.levelCodec=this.levels[this.level].videoCodec,a.id=t.id),this.hls.trigger(Ot.a.BUFFER_CODECS,n);for(i in n){a=n[i],Pt.b.log("main track:"+i+",container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var l=a.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(Ot.a.BUFFER_APPENDING,{type:i,data:l,parent:"main",content:"initSegment"}))}this.tick()}},e.prototype.onFragParsingData=function(t){var e=this,r=this.fragCurrent,i=t.frag;if(r&&"main"===t.id&&i.sn===r.sn&&i.level===r.level&&("audio"!==t.type||!this.altAudio)&&this.state===ve.PARSING){var a=this.levels[this.level],n=r;if(isNaN(t.endPTS)&&(t.endPTS=t.startPTS+r.duration,t.endDTS=t.startDTS+r.duration),Pt.b.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(n.dropped=t.dropped,n.dropped)if(n.backtracked)Pt.b.warn("Already backtracked on this fragment, appending with the gap");else{var o=a.details;if(!o||n.sn!==o.startSN)return Pt.b.warn("missing video frame(s), backtracking fragment"),n.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=ve.IDLE,this.fragPrevious=n,void this.tick();Pt.b.warn("missing video frame(s) on first frag, appending with gap")}else n.backtracked=!1;var s=E(a.details,n,t.startPTS,t.endPTS,t.startDTS,t.endDTS),l=this.hls;l.trigger(Ot.a.LEVEL_PTS_UPDATED,{details:a.details,level:this.level,drift:s,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(r){r&&r.length&&e.state===ve.PARSING&&(e.appended=!0,e.pendingBuffering=!0,l.trigger(Ot.a.BUFFER_APPENDING,{type:t.type,data:r,parent:"main",content:"data"}))}),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,r=t.frag;e&&"main"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===ve.PARSING&&(this.stats.tparsed=performance.now(),this.state=ve.PARSED,this._checkAppendedParsed())},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url,r=t.id;if(!e){if(this.mediaBuffer!==this.media){Pt.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(Pt.b.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ve.IDLE}var a=this.hls;a.trigger(Ot.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),a.trigger(Ot.a.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}},e.prototype.onAudioTrackSwitched=function(t){var e=t.id,r=!!this.hls.audioTracks[e].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(Pt.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},e.prototype.onBufferCreated=function(t){var e=t.tracks,r=void 0,i=void 0,a=!1;for(var n in e){var o=e[n];"main"===o.id?(i=n,r=o,"video"===n&&(this.videoBuffer=e[n].buffer)):a=!0}a&&r?(Pt.b.log("alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media},e.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==ve.PARSING&&e!==ve.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==ve.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;Pt.b.log("main buffered : "+pe.toString(e.buffered));var r=this._bufferedFrags.filter(function(t){return ae.isBuffered(e,(t.startPTS+t.endPTS)/2)});r.push(t),this._bufferedFrags=r.sort(function(t,e){return t.startPTS-e.startPTS}),this.fragPrevious=t;var i=this.stats;i.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),this.hls.trigger(Ot.a.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),this.state=ve.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var r=!!this.media&&ae.isBuffered(this.media,this.media.currentTime)&&ae.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case Ct.a.FRAG_LOAD_ERROR:case Ct.a.FRAG_LOAD_TIMEOUT:case Ct.a.KEY_LOAD_ERROR:case Ct.a.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);e.loadCounter=0,Pt.b.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=ve.FRAG_LOADING_WAITING_RETRY}else Pt.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=ve.ERROR;break;case Ct.a.FRAG_LOOP_LOADING_ERROR:t.fatal||(r?(this._reduceMaxBufferLength(e.duration),this.state=ve.IDLE):e.autoLevel&&0!==e.level||(t.fatal=!0,this.state=ve.ERROR));break;case Ct.a.LEVEL_LOAD_ERROR:case Ct.a.LEVEL_LOAD_TIMEOUT:this.state!==ve.ERROR&&(t.fatal?(this.state=ve.ERROR,Pt.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==ve.WAITING_LEVEL||(this.state=ve.IDLE));break;case Ct.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==ve.PARSING&&this.state!==ve.PARSED||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=ve.IDLE):(Pt.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},e.prototype._reduceMaxBufferLength=function(t){var e=this.config;e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,Pt.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*e.fragLoadingLoopThreshold))},e.prototype._checkBuffer=function(){var t=this.media,e=this.config;if(t&&t.readyState){var r=t.currentTime,i=this.mediaBuffer?this.mediaBuffer:t,a=i.buffered;if(!this.loadedmetadata&&a.length){this.loadedmetadata=!0;var n=t.seeking?r:this.startPosition,o=ae.isBuffered(i,n),s=a.start(0),l=!o&&Math.abs(n-s)<e.maxSeekHole;(r!==n||l)&&(Pt.b.log("target start position:"+n),l&&(n=s,Pt.b.log("target start position not buffered, seek to buffered.start(0) "+n)),Pt.b.log("adjust currentTime from "+r+" to "+n),t.currentTime=n)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var u=ae.bufferInfo(t,r,0),d=!(t.paused||t.ended||0===t.buffered.length),h=r!==this.lastCurrentTime;if(h)this.stallReported&&(Pt.b.warn("playback not stuck anymore @"+r+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(d){var c=performance.now(),f=this.hls;if(this.stalled){var p=c-this.stalled,g=u.len,v=this.nudgeRetry||0;if(g<=.5&&p>1e3*e.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,Pt.b.warn("playback stalling in low buffer @"+r),f.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:g}));var y=u.nextStart,m=y-r;if(y&&m<e.maxSeekHole&&m>0){this.nudgeRetry=++v;var b=v*e.nudgeOffset;Pt.b.log("adjust currentTime from "+t.currentTime+" to next buffered @ "+y+" + nudge "+b),t.currentTime=y+b,this.stalled=void 0,f.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:y+b-r})}}else if(g>.5&&p>1e3*e.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,Pt.b.warn("playback stalling in high buffer @"+r),f.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:g})),this.stalled=void 0,this.nudgeRetry=++v,v<e.nudgeMaxRetry){var E=t.currentTime,T=E+v*e.nudgeOffset;Pt.b.log("adjust currentTime from "+E+" to "+T),t.currentTime=T,f.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else Pt.b.error("still stuck in high buffer @"+r+" after "+e.nudgeMaxRetry+", raise fatal error"),f.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=c,this.stallReported=!1}}}},e.prototype.onFragLoadEmergencyAborted=function(){this.state=ve.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},e.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(e){return ae.isBuffered(t,(e.startPTS+e.endPTS)/2)}),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.state=ve.IDLE,this.fragPrevious=null},e.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},e.prototype.computeLivePosition=function(t,e){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-r)},ge(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,Pt.b.log("main stream:"+e+"->"+t),this.hls.trigger(Ot.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),e}(Nt),me=ye,be=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Ee=function(t){function e(r){O(this,e);var i=C(this,t.call(this,r,Ot.a.MANIFEST_LOADED,Ot.a.LEVEL_LOADED,Ot.a.FRAG_LOADED,Ot.a.ERROR));return i.canload=!1,i.currentLevelIndex=null,i.manualLevelIndex=-1,i.timer=null,i}return P(e,t),e.prototype.destroy=function(){this.cleanTimer(),this.manualLevelIndex=-1},e.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},e.prototype.stopLoad=function(){this.canload=!1},e.prototype.onManifestLoaded=function(t){var e=[],r=void 0,i={},a=null,n=!1,s=!1,l=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),u=[];if(t.levels.forEach(function(t){t.loadError=0,t.fragmentError=!1,n=n||!!t.videoCodec,s=s||!!t.audioCodec||!(!t.attrs||!t.attrs.AUDIO),!0===l&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),a=i[t.bitrate],void 0===a?(t.url=[t.url],t.urlId=0,i[t.bitrate]=t,e.push(t)):a.url.push(t.url)}),!0===n&&!0===s&&(e=e.filter(function(t){return!!t.videoCodec})),e=e.filter(function(t){var e=t.audioCodec,r=t.videoCodec;return(!e||o(e))&&(!r||o(r))}),t.audioTracks&&(u=t.audioTracks.filter(function(t){return!t.audioCodec||o(t.audioCodec,"audio")})),e.length>0){r=e[0].bitrate,e.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=e;for(var d=0;d<e.length;d++)if(e[d].bitrate===r){this._firstLevel=d,Pt.b.log("manifest loaded,"+e.length+" level(s) found, first bitrate:"+r);break}this.hls.trigger(Ot.a.MANIFEST_PARSED,{levels:e,audioTracks:u,firstLevel:this._firstLevel,stats:t.stats,audio:s,video:n,altAudio:u.length>0})}else this.hls.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},e.prototype.setLevelInternal=function(t){var e=this._levels,r=this.hls;if(t>=0&&t<e.length){if(this.cleanTimer(),this.currentLevelIndex!==t){Pt.b.log("switching to level "+t),this.currentLevelIndex=t;var i=e[t];i.level=t,r.trigger(Ot.a.LEVEL_SWITCH,i),r.trigger(Ot.a.LEVEL_SWITCHING,i)}var a=e[t],n=a.details;if(!n||!0===n.live){var o=a.urlId;r.trigger(Ot.a.LEVEL_LOADING,{url:a.url[o],level:t,id:o})}}else r.trigger(Ot.a.ERROR,{type:Ct.b.OTHER_ERROR,details:Ct.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},e.prototype.onError=function(t){if(!0===t.fatal)return void(t.type===Ct.b.NETWORK_ERROR&&this.cleanTimer());var e=!1,r=!1,i=void 0;switch(t.details){case Ct.a.FRAG_LOAD_ERROR:case Ct.a.FRAG_LOAD_TIMEOUT:case Ct.a.FRAG_LOOP_LOADING_ERROR:case Ct.a.KEY_LOAD_ERROR:case Ct.a.KEY_LOAD_TIMEOUT:i=t.frag.level,r=!0;break;case Ct.a.LEVEL_LOAD_ERROR:case Ct.a.LEVEL_LOAD_TIMEOUT:i=t.context.level,e=!0;break;case Ct.a.REMUX_ALLOC_ERROR:i=t.level,e=!0}void 0!==i&&this.recoverLevel(t,i,e,r)},e.prototype.recoverLevel=function(t,e,r,i){var a=this,n=this.hls.config,o=t.details,s=this._levels[e],l=void 0,u=void 0,d=void 0;if(s.loadError++,s.fragmentError=i,!0===r){if(!(this.levelRetryCount+1<=n.levelLoadingMaxRetry))return Pt.b.error("level controller, cannot recover from "+o+" error"),this.currentLevelIndex=null,this.cleanTimer(),void(t.fatal=!0);u=Math.min(Math.pow(2,this.levelRetryCount)*n.levelLoadingRetryDelay,n.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return a.loadLevel()},u),t.levelRetry=!0,this.levelRetryCount++,Pt.b.warn("level controller, "+o+", retry in "+u+" ms, current retry count is "+this.levelRetryCount)}!0!==r&&!0!==i||(l=s.url.length,l>1&&s.loadError<l?(Pt.b.warn("level controller, "+o+" for level "+e+": switching to redundant stream id "+s.urlId),s.urlId=(s.urlId+1)%l,s.details=void 0):-1===this.manualLevelIndex?(d=0===e?this._levels.length-1:e-1,Pt.b.warn("level controller, "+o+": switch to "+d),this.hls.nextAutoLevel=this.currentLevelIndex=d):!0===i&&(Pt.b.warn("level controller, "+o+": reload a fragment"),this.currentLevelIndex=null))},e.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var r=this._levels[e.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},e.prototype.onLevelLoaded=function(t){var e=this,r=t.level;if(r===this.currentLevelIndex){var i=this._levels[r];!1===i.fragmentError&&(i.loadError=0,this.levelRetryCount=0);var a=t.details;if(a.live){var n=1e3*(a.averagetargetduration?a.averagetargetduration:a.targetduration),o=i.details;o&&a.endSN===o.endSN&&(n/=2,Pt.b.log("same live playlist, reload twice faster")),n-=performance.now()-t.stats.trequest,n=Math.max(1e3,Math.round(n)),Pt.b.log("live playlist, reload in "+n+" ms"),this.timer=setTimeout(function(){return e.loadLevel()},n)}else this.cleanTimer()}},e.prototype.loadLevel=function(){var t=void 0,e=void 0;null!==this.currentLevelIndex&&!0===this.canload&&void 0!==(t=this._levels[this.currentLevelIndex])&&t.url.length>0&&(e=t.urlId,this.hls.trigger(Ot.a.LEVEL_LOADING,{url:t.url[e],level:this.currentLevelIndex,id:e}))},be(e,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&void 0!==e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),e}(Nt),Te=Ee,Re=r(3),Ae=function(t){function e(r){x(this,e);var i=F(this,t.call(this,r,Ot.a.MEDIA_ATTACHED,Ot.a.MEDIA_DETACHING,Ot.a.FRAG_PARSING_METADATA));return i.id3Track=void 0,i.media=void 0,i}return N(e,t),e.prototype.destroy=function(){Nt.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){this.media=t.media,this.media},e.prototype.onMediaDetaching=function(){this.media=void 0},e.prototype.onFragParsingMetadata=function(t){var e=t.frag,r=t.samples;this.id3Track||(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,a=0;a<r.length;a++){var n=Re.a.getID3Frames(r[a].data);if(n){var o=r[a].pts,s=a<r.length-1?r[a+1].pts:e.endPTS;o===s&&(s+=1e-4);for(var l=0;l<n.length;l++){var u=n[l];if(!Re.a.isTimeStampFrame(u)){var d=new i(o,s,"");d.value=u,this.id3Track.addCue(d)}}}}},e}(Nt),Se=Ae,Le=function(){function t(e){U(this,t),this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return t.prototype.sample=function(t,e){var r=Math.pow(this.alpha_,t);this.estimate_=e*(1-r)+r*this.estimate_,this.totalWeight_+=t},t.prototype.getTotalWeight=function(){return this.totalWeight_},t.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}(),_e=Le,we=function(){function t(e,r,i,a){B(this,t),this.hls=e,this.defaultEstimate_=a,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new _e(r),this.fast_=new _e(i)}return t.prototype.sample=function(t,e){t=Math.max(t,this.minDelayMs_);var r=8e3*e/t,i=t/1e3;this.fast_.sample(i,r),this.slow_.sample(i,r)},t.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},t.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.prototype.destroy=function(){},t}(),De=we,Ie=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),ke=function(t){function e(r){G(this,e);var i=j(this,t.call(this,r,Ot.a.FRAG_LOADING,Ot.a.FRAG_LOADED,Ot.a.FRAG_BUFFERED,Ot.a.ERROR));return i.lastLoadedFragLevel=0,i._nextAutoLevel=-1,i.hls=r,i.timer=null,i._bwEstimator=null,i.onCheck=i._abandonRulesCheck.bind(i),i}return H(e,t),e.prototype.destroy=function(){this.clearTimer(),Nt.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var r=this.hls,i=t.frag.level,a=r.levels[i].details.live,n=r.config,o=void 0,s=void 0;a?(o=n.abrEwmaFastLive,s=n.abrEwmaSlowLive):(o=n.abrEwmaFastVoD,s=n.abrEwmaSlowVoD),this._bwEstimator=new De(r,s,o,n.abrEwmaDefaultEstimate)}this.fragCurrent=e}},e.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,r=this.fragCurrent,i=r.loader,a=t.minAutoLevel;if(!i||i.stats&&i.stats.aborted)return Pt.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var n=i.stats;if(e&&n&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&r.autoLevel&&r.level){var o=performance.now()-n.trequest,s=Math.abs(e.playbackRate);if(o>500*r.duration/s){var l=t.levels,u=Math.max(1,n.bw?n.bw/8:1e3*n.loaded/o),d=l[r.level],h=d.realBitrate?Math.max(d.realBitrate,d.bitrate):d.bitrate,c=n.total?n.total:Math.max(n.loaded,Math.round(r.duration*h/8)),f=e.currentTime,p=(c-n.loaded)/u,g=(ae.bufferInfo(e,f,t.config.maxBufferHole).end-f)/s;if(g<2*r.duration/s&&p>g){var v=void 0,y=void 0;for(y=r.level-1;y>a;y--){var m=l[y].realBitrate?Math.max(l[y].realBitrate,l[y].bitrate):l[y].bitrate;if((v=r.duration*m/(6.4*u))<g)break}v<p&&(Pt.b.warn("loading too slow, abort fragment loading and switch to level "+y+":fragLoadedDelay["+y+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+v.toFixed(1)+"<"+p.toFixed(1)+":"+g.toFixed(1)),t.nextLoadLevel=y,this._bwEstimator.sample(o,n.loaded),i.abort(),this.clearTimer(),t.trigger(Ot.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:n}))}}}},e.prototype.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&!isNaN(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[e.level],i=(r.loaded?r.loaded.bytes:0)+t.stats.loaded,a=(r.loaded?r.loaded.duration:0)+t.frag.duration;r.loaded={bytes:i,duration:a},r.realBitrate=Math.round(8*i/a)}if(t.frag.bitrateTest){var n=t.stats;n.tparsed=n.tbuffered=n.tload,this.onFragBuffered(t)}}},e.prototype.onFragBuffered=function(t){var e=t.stats,r=t.frag;if(!(!0===e.aborted||1!==r.loadCounter||"main"!==r.type||isNaN(r.sn)||r.bitrateTest&&e.tload!==e.tbuffered)){var i=e.tparsed-e.trequest;Pt.b.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(i,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},e.prototype.onError=function(t){switch(t.details){case Ct.a.FRAG_LOAD_ERROR:case Ct.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},e.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},e.prototype._findBestLevel=function(t,e,r,i,a,n,o,s,l){for(var u=a;u>=i;u--){var d=l[u],h=d.details,c=h?h.totalduration/h.fragments.length:e,f=!!h&&h.live,p=void 0;p=u<=t?o*r:s*r;var g=l[u].realBitrate?Math.max(l[u].realBitrate,l[u].bitrate):l[u].bitrate,v=g*c/p;if(Pt.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(p)+"/"+g+"/"+c+"/"+n+"/"+v),p>g&&(!v||f&&!this.bitrateTestDelay||v<n))return u}return-1},Ie(e,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var r=this._nextABRAutoLevel;return-1!==t&&(r=Math.min(t,r)),r},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,r=t.levels,i=t.config,a=t.minAutoLevel,n=t.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=n?n.currentTime:0,u=n&&0!==n.playbackRate?Math.abs(n.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(ae.bufferInfo(n,l,i.maxBufferHole).end-l)/u,c=this._findBestLevel(o,s,d,a,e,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor,r);if(c>=0)return c;Pt.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var f=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,p=i.abrBandWidthFactor,g=i.abrBandWidthUpFactor;if(0===h){var v=this.bitrateTestDelay;if(v){f=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-v,Pt.b.trace("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*f)+" ms"),p=g=1}}return c=this._findBestLevel(o,s,d,a,e,h+f,p,g,r),Math.max(c,0)}}]),e}(Nt),Oe=ke,Ce=y(),Pe=function(t){function e(r){K(this,e);var i=W(this,t.call(this,r,Ot.a.MEDIA_ATTACHING,Ot.a.MEDIA_DETACHING,Ot.a.MANIFEST_PARSED,Ot.a.BUFFER_RESET,Ot.a.BUFFER_APPENDING,Ot.a.BUFFER_CODECS,Ot.a.BUFFER_EOS,Ot.a.BUFFER_FLUSHING,Ot.a.LEVEL_PTS_UPDATED,Ot.a.LEVEL_UPDATED));return i._msDuration=null,i._levelDuration=null,i._live=null,i._objectUrl=null,i.onsbue=i.onSBUpdateEnd.bind(i),i.onsbe=i.onSBUpdateError.bind(i),i.pendingTracks={},i.tracks={},i}return V(e,t),e.prototype.destroy=function(){Nt.prototype.destroy.call(this)},e.prototype.onLevelPtsUpdated=function(t){var e=t.type,r=this.tracks.audio;if("audio"===e&&r&&"audio/mpeg"===r.container){var i=this.sourceBuffer.audio;if(Math.abs(i.timestampOffset-t.start)>.1){var a=i.updating;try{i.abort()}catch(t){a=!0,Pt.b.warn("can not abort audio buffer: "+t)}a?this.audioTimestampOffset=t.start:(Pt.b.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+t.start),i.timestampOffset=t.start)}}},e.prototype.onManifestParsed=function(t){var e=t.audio,r=t.video||t.levels.length&&t.audio,i=0;t.altAudio&&(e||r)&&(i=(e?1:0)+(r?1:0),Pt.b.log(i+" sourceBuffer(s) expected")),this.sourceBufferNb=i},e.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var r=this.mediaSource=new Ce;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),e.src=URL.createObjectURL(r),this._objectUrl=e.src}},e.prototype.onMediaDetaching=function(){Pt.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){Pt.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):Pt.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(Ot.a.MEDIA_DETACHED)},e.prototype.onMediaSourceOpen=function(){Pt.b.log("media source opened"),this.hls.trigger(Ot.a.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},e.prototype.checkPendingTracks=function(){var t=this.pendingTracks,e=Object.keys(t).length;e&&(this.sourceBufferNb<=e||0===this.sourceBufferNb)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},e.prototype.onMediaSourceClose=function(){Pt.b.log("media source closed")},e.prototype.onMediaSourceEnded=function(){Pt.b.log("media source ended")},e.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;Pt.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,r=this.segments.reduce(function(t,r){return r.parent===e?t+1:t},0);this.hls.trigger(Ot.a.BUFFER_APPENDED,{parent:e,pending:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},e.prototype.onSBUpdateError=function(t){Pt.b.error("sourceBuffer error:",t),this.hls.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var r=t[e];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},e.prototype.onBufferCodecs=function(t){if(0===Object.keys(this.sourceBuffer).length){for(var e in t)this.pendingTracks[e]=t[e];var r=this.mediaSource;r&&"open"===r.readyState&&this.checkPendingTracks()}},e.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,r=this.mediaSource;for(var i in t)if(!e[i]){var a=t[i],n=a.levelCodec||a.codec,o=a.container+";codecs="+n;Pt.b.log("creating sourceBuffer("+o+")");try{var s=e[i]=r.addSourceBuffer(o);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe),this.tracks[i]={codec:n,container:a.container},a.buffer=s}catch(t){Pt.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:o})}}this.hls.trigger(Ot.a.BUFFER_CREATED,{tracks:t})},e.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},e.prototype.onBufferAppendFail=function(t){Pt.b.error("sourceBuffer error:",t.event),this.hls.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferEos=function(t){var e=this.sourceBuffer,r=t.type;for(var i in e)r&&i!==r||e[i].ended||(e[i].ended=!0,Pt.b.log(i+" sourceBuffer now EOS"));this.checkEos()},e.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(!e||"open"!==e.readyState)return void(this._needsEos=!1);for(var r in t){var i=t[r];if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}Pt.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){Pt.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1},e.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},e.prototype.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._live=e.live,this.updateMediaElementDuration())},e.prototype.updateMediaElementDuration=function(){var t=this.hls.config,e=void 0;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var r in this.sourceBuffer)if(!0===this.sourceBuffer[r].updating)return;e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(Pt.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||e===1/0||isNaN(e))&&(Pt.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},e.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,r=this.sourceBuffer;try{for(var i in r)e+=r[i].buffered.length}catch(t){Pt.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(Ot.a.BUFFER_FLUSHED)}},e.prototype.doAppending=function(){var t=this.hls,e=this.sourceBuffer,r=this.segments;if(Object.keys(e).length){if(this.media.error)return this.segments=[],void Pt.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(r&&r.length){var i=r.shift();try{var a=i.type,n=e[a];n?n.updating?r.unshift(i):(n.ended=!1,this.parent=i.parent,n.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(e){Pt.b.error("error while trying to append buffer:"+e.message),r.unshift(i);var o={type:Ct.b.MEDIA_ERROR,parent:i.parent};if(22===e.code)return this.segments=[],o.details=Ct.a.BUFFER_FULL_ERROR,o.fatal=!1,void t.trigger(Ot.a.ERROR,o);if(this.appendError?this.appendError++:this.appendError=1,o.details=Ct.a.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry)return Pt.b.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),r=[],o.fatal=!0,void t.trigger(Ot.a.ERROR,o);o.fatal=!1,t.trigger(Ot.a.ERROR,o)}}}},e.prototype.flushBuffer=function(t,e,r){var i,a,n,o,s,l,u=this.sourceBuffer;if(Object.keys(u).length){if(Pt.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var d in u)if(!r||d===r){if(i=u[d],i.ended=!1,i.updating)return Pt.b.warn("cannot flush, sb updating in progress"),!1;try{for(a=0;a<i.buffered.length;a++)if(n=i.buffered.start(a),o=i.buffered.end(a),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&e===Number.POSITIVE_INFINITY?(s=t,l=e):(s=Math.max(n,t),l=Math.min(o,e)),Math.min(l,o)-s>.5)return this.flushBufferCounter++,Pt.b.log("flush "+d+" ["+s+","+l+"], of ["+n+","+o+"], pos:"+this.media.currentTime),i.remove(s,l),!1}catch(t){Pt.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else Pt.b.warn("abort flushing too many retries");Pt.b.log("buffer flushed")}return!0},e}(Nt),xe=Pe,Fe=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Ne=function(t){function e(r){return Y(this,e),z(this,t.call(this,r,Ot.a.FPS_DROP_LEVEL_CAPPING,Ot.a.MEDIA_ATTACHING,Ot.a.MANIFEST_PARSED))}return X(e,t),e.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},e.prototype.onFpsDropLevelCapping=function(t){e.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},e.prototype.onMediaAttaching=function(t){this.media=t.media instanceof HTMLVideoElement?t.media:null},e.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],e.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=t.levels,e.firstLevel=this.getMaxLevel(t.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},e.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},e.prototype.getMaxLevel=function(t){var r=this;if(!this.levels)return-1;var i=this.levels.filter(function(i,a){return e.isLevelAllowed(a,r.restrictedLevels)&&a<=t});return e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},e.isLevelAllowed=function(t){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(t)},e.getMaxLevelByMediaSize=function(t,e,r){if(!t||t&&!t.length)return-1;for(var i=t.length-1,a=0;a<t.length;a+=1){var n=t[a];if((n.width>=e||n.height>=r)&&function(t,e){return!e||(t.width!==e.width||t.height!==e.height)}(n,t[a+1])){i=a;break}}return i},Fe(e,[{key:"mediaWidth",get:function(){var t=void 0,r=this.media;return r&&(t=r.width||r.clientWidth||r.offsetWidth,t*=e.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,r=this.media;return r&&(t=r.height||r.clientHeight||r.offsetHeight,t*=e.contentScaleFactor),t}}],[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}]),e}(Nt),Me=Ne,Ue=function(t){function e(r){return q(this,e),Q(this,t.call(this,r,Ot.a.MEDIA_ATTACHING))}return J(e,t),e.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},e.prototype.onMediaAttaching=function(t){var e=this.hls.config;if(e.capLevelOnFPSDrop){"function"==typeof(this.video=t.media instanceof HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod)}},e.prototype.checkFPS=function(t,e,r){var i=performance.now();if(e){if(this.lastTime){var a=i-this.lastTime,n=r-this.lastDroppedFrames,o=e-this.lastDecodedFrames,s=1e3*n/a,l=this.hls;if(l.trigger(Ot.a.FPS_DROP,{currentDropped:n,currentDecoded:o,totalDroppedFrames:r}),s>0&&n>l.config.fpsDroppedMonitoringThreshold*o){var u=l.currentLevel;Pt.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=u)&&(u-=1,l.trigger(Ot.a.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:l.currentLevel}),l.autoLevelCapping=u,l.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=e}},e.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(Nt),Be=Ue,Ge=function(){function t(e){$(this,t),e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null},t.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,r){this.context=t,this.config=e,this.callbacks=r,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},t.prototype.loadInternal=function(){var t,e=this.context;t=this.loader=new XMLHttpRequest;var r=this.stats;r.tfirst=0,r.loaded=0;var i=this.xhrSetup;try{if(i)try{i(t,e.url)}catch(r){t.open("GET",e.url,!0),i(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(r){return void this.callbacks.onError({code:t.status,text:r.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,r=e.readyState,i=this.stats,a=this.context,n=this.config;if(!i.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(performance.now(),i.trequest)),4===r){var o=e.status;if(o>=200&&o<300){i.tload=Math.max(i.tfirst,performance.now());var s=void 0,l=void 0;"arraybuffer"===a.responseType?(s=e.response,l=s.byteLength):(s=e.responseText,l=s.length),i.loaded=i.total=l;var u={url:e.responseURL,data:s};this.callbacks.onSuccess(u,i,a,e)}else i.retry>=n.maxRetry||o>=400&&o<499?(Pt.b.error(o+" while loading "+a.url),this.callbacks.onError({code:o,text:e.statusText},a,e)):(Pt.b.warn(o+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,n.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),n.timeout)},t.prototype.loadtimeout=function(){Pt.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.prototype.loadprogress=function(t){var e=t.currentTarget,r=this.stats;r.loaded=t.loaded,t.lengthComputable&&(r.total=t.total);var i=this.callbacks.onProgress;i&&i(r,this.context,null,e)},t}(),je=Ge,He=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Ke=function(t){function e(r){Z(this,e);var i=tt(this,t.call(this,r,Ot.a.MANIFEST_LOADING,Ot.a.MANIFEST_PARSED,Ot.a.AUDIO_TRACK_LOADED,Ot.a.ERROR));return i.ticks=0,i.ontick=i.tick.bind(i),i}return et(e,t),e.prototype.destroy=function(){this.cleanTimer(),Nt.prototype.destroy.call(this)},e.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){this.updateTrack(this.trackId)},e.prototype.onError=function(t){t.fatal&&t.type===Ct.b.NETWORK_ERROR&&this.cleanTimer()},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestParsed=function(t){var e=this,r=t.audioTracks||[],i=!1;this.tracks=r,this.hls.trigger(Ot.a.AUDIO_TRACKS_UPDATED,{audioTracks:r});var a=0;r.forEach(function(t){if(t.default&&!i)return e.audioTrack=a,void(i=!0);a++}),!1===i&&r.length&&(Pt.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},e.prototype.onAudioTrackLoaded=function(t){t.id<this.tracks.length&&(Pt.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*t.details.targetduration)),!t.details.live&&this.timer&&this.cleanTimer())},e.prototype.setAudioTrackInternal=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,Pt.b.log("switching to audioTrack "+t);var e=this.tracks[t],r=this.hls,i=e.type,a=e.url,n={id:t,type:i,url:a};r.trigger(Ot.a.AUDIO_TRACK_SWITCH,n),r.trigger(Ot.a.AUDIO_TRACK_SWITCHING,n);var o=e.details;!a||void 0!==o&&!0!==o.live||(Pt.b.log("(re)loading playlist for audioTrack "+t),r.trigger(Ot.a.AUDIO_TRACK_LOADING,{url:a,id:t}))}},e.prototype.updateTrack=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,Pt.b.log("updating audioTrack "+t);var e=this.tracks[t],r=e.url,i=e.details;!r||void 0!==i&&!0!==i.live||(Pt.b.log("(re)loading playlist for audioTrack "+t),this.hls.trigger(Ot.a.AUDIO_TRACK_LOADING,{url:r,id:t}))}},He(e,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.trackId===t&&void 0!==this.tracks[t].details||this.setAudioTrackInternal(t)}}]),e}(Nt),We=Ke,Ve=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Ye={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},ze=function(t){function e(r){rt(this,e);var i=it(this,t.call(this,r,Ot.a.MEDIA_ATTACHED,Ot.a.MEDIA_DETACHING,Ot.a.AUDIO_TRACKS_UPDATED,Ot.a.AUDIO_TRACK_SWITCHING,Ot.a.AUDIO_TRACK_LOADED,Ot.a.KEY_LOADED,Ot.a.FRAG_LOADED,Ot.a.FRAG_PARSING_INIT_SEGMENT,Ot.a.FRAG_PARSING_DATA,Ot.a.FRAG_PARSED,Ot.a.ERROR,Ot.a.BUFFER_RESET,Ot.a.BUFFER_CREATED,Ot.a.BUFFER_APPENDED,Ot.a.BUFFER_FLUSHED,Ot.a.INIT_PTS_FOUND));return i.config=r.config,i.audioCodecSwap=!1,i.ticks=0,i._state=Ye.STOPPED,i.ontick=i.tick.bind(i),i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i}return at(e,t),e.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),Nt.prototype.destroy.call(this),this.state=Ye.STOPPED},e.prototype.onInitPtsFound=function(t){var e=t.id,r=t.frag.cc,i=t.initPTS;"main"===e&&(this.initPTS[r]=i,this.videoTrackCC=r,Pt.b.log("InitPTS for cc:"+r+" found from video track:"+i),this.state===Ye.WAITING_INIT_PTS&&this.tick())},e.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,e>0&&-1===t?(Pt.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=Ye.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=Ye.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=Ye.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Ye.STOPPED},e.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){var t,e,r,i=this.hls,a=i.config;switch(this.state){case Ye.ERROR:case Ye.PAUSED:case Ye.BUFFER_FLUSHING:break;case Ye.STARTING:this.state=Ye.WAITING_TRACK,this.loadedmetadata=!1;break;case Ye.IDLE:var n=this.tracks;if(!n)break;if(!this.media&&(this.startFragRequested||!a.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var o=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,l=ae.bufferInfo(o,t,a.maxBufferHole),u=ae.bufferInfo(s,t,a.maxBufferHole),d=l.len,h=l.end,c=this.fragPrevious,f=Math.max(a.maxBufferLength,u.len),p=this.audioSwitch,g=this.trackId;if((d<f||p)&&g<n.length){if(void 0===(r=n[g].details)){this.state=Ye.WAITING_TRACK;break}if(!p&&!r.live&&c&&c.sn===r.endSN&&!l.nextStart&&(!this.media.seeking||this.media.duration-h<c.duration/2)){this.hls.trigger(Ot.a.BUFFER_EOS,{type:"audio"}),this.state=Ye.ENDED;break}var v=r.fragments,y=v.length,m=v[0].start,b=v[y-1].start+v[y-1].duration,E=void 0;if(p)if(r.live&&!r.PTSKnown)Pt.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),h=0;else if(h=t,r.PTSKnown&&t<m){if(!(l.end>m||l.nextStart))return;Pt.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=m+.05}if(r.initSegment&&!r.initSegment.data)E=r.initSegment;else if(h<=m){if(E=v[0],null!==this.videoTrackCC&&E.cc!==this.videoTrackCC&&(E=A(v,this.videoTrackCC)),r.live&&E.loadIdx&&E.loadIdx===this.fragLoadIdx){var T=l.nextStart?l.nextStart:m;return Pt.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(T+.05)),void(this.media.currentTime=T+.05)}}else{var R=void 0,S=a.maxFragLookUpTolerance,L=c?v[c.sn-v[0].sn+1]:void 0,_=function(t){var e=Math.min(S,t.duration);return t.start+t.duration-e<=h?1:t.start-e>h&&t.start?-1:0};h<b?(h>b-S&&(S=0),R=L&&!_(L)?L:re.search(v,_)):R=v[y-1],R&&(E=R,m=R.start,c&&E.level===c.level&&E.sn===c.sn&&(E.sn<r.endSN?(E=v[E.sn+1-r.startSN],Pt.b.log("SN just loaded, load next one: "+E.sn)):E=null))}if(E)if(E.decryptdata&&null!=E.decryptdata.uri&&null==E.decryptdata.key)Pt.b.log("Loading key for "+E.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+g),this.state=Ye.KEY_LOADING,i.trigger(Ot.a.KEY_LOADING,{frag:E});else{if(Pt.b.log("Loading "+E.sn+", cc: "+E.cc+" of ["+r.startSN+" ,"+r.endSN+"],track "+g+", currentTime:"+t+",bufferEnd:"+h.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,E.loadCounter){E.loadCounter++;var w=a.fragLoadingLoopThreshold;if(E.loadCounter>w&&Math.abs(this.fragLoadIdx-E.loadIdx)<w)return void i.trigger(Ot.a.ERROR,{type:Ct.b.MEDIA_ERROR,details:Ct.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:E})}else E.loadCounter=1;E.loadIdx=this.fragLoadIdx,this.fragCurrent=E,this.startFragRequested=!0,isNaN(E.sn)||(this.nextLoadPosition=E.start+E.duration),i.trigger(Ot.a.FRAG_LOADING,{frag:E}),this.state=Ye.FRAG_LOADING}}break;case Ye.WAITING_TRACK:e=this.tracks[this.trackId],e&&e.details&&(this.state=Ye.IDLE);break;case Ye.FRAG_LOADING_WAITING_RETRY:var D=performance.now(),I=this.retryDate;o=this.media;var k=o&&o.seeking;(!I||D>=I||k)&&(Pt.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Ye.IDLE);break;case Ye.WAITING_INIT_PTS:var O=this.videoTrackCC;if(void 0===this.initPTS[O])break;var C=this.waitingFragment;if(C){var P=C.frag.cc;O!==P?(e=this.tracks[this.trackId],e.details&&e.details.live&&(Pt.b.warn("Waiting fragment CC ("+P+") does not match video track CC ("+O+")"),this.waitingFragment=null,this.state=Ye.IDLE)):(this.state=Ye.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=Ye.IDLE;break;case Ye.STOPPED:case Ye.FRAG_LOADING:case Ye.PARSING:case Ye.PARSED:case Ye.ENDED:}},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(Pt.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.tracks;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){this.state===Ye.ENDED&&(this.state=Ye.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()},e.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},e.prototype.onAudioTracksUpdated=function(t){Pt.b.log("audio tracks updated"),this.tracks=t.audioTracks},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=Ye.PAUSED,this.waitingFragment=null,e?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=Ye.IDLE,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()},e.prototype.onAudioTrackLoaded=function(t){var e=t.details,r=t.id,i=this.tracks[r],a=e.totalduration,n=0;if(Pt.b.log("track "+r+" loaded ["+e.startSN+","+e.endSN+"],duration:"+a),e.live){var o=i.details;o&&e.fragments.length>0?(T(o,e),n=e.fragments[0].start,e.PTSKnown?Pt.b.log("live audio playlist sliding:"+n.toFixed(3)):Pt.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,Pt.b.log("live audio playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(i.details=e,!this.startFragRequested){if(-1===this.startPosition){var s=e.startTimeOffset;isNaN(s)?this.startPosition=0:(Pt.b.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s)}this.nextLoadPosition=this.startPosition}this.state===Ye.WAITING_TRACK&&(this.state=Ye.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===Ye.KEY_LOADING&&(this.state=Ye.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,r=t.frag;if(this.state===Ye.FRAG_LOADING&&e&&"audio"===r.type&&r.level===e.level&&r.sn===e.sn){var i=this.tracks[this.trackId],a=i.details,n=a.totalduration,o=e.level,s=e.sn,l=e.cc,u=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",d=this.stats=t.stats;if("initSegment"===s)this.state=Ye.IDLE,d.tparsed=d.tbuffered=performance.now(),a.initSegment.data=t.payload,this.hls.trigger(Ot.a.FRAG_BUFFERED,{stats:d,frag:e,id:"audio"}),this.tick();else{this.state=Ye.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new ce(this.hls,"audio"));var h=this.initPTS[l],c=a.initSegment?a.initSegment.data:[];if(a.initSegment||void 0!==h){this.pendingBuffering=!0,Pt.b.log("Demuxing "+s+" of ["+a.startSN+" ,"+a.endSN+"],track "+o);this.demuxer.push(t.payload,c,u,null,e,n,!1,h)}else Pt.b.log("unknown video PTS for continuity counter "+l+", waiting for video PTS before demuxing audio frag "+s+" of ["+a.startSN+" ,"+a.endSN+"],track "+o),this.waitingFragment=t,this.state=Ye.WAITING_INIT_PTS}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,r=t.frag;if(e&&"audio"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===Ye.PARSING){var i=t.tracks,a=void 0;if(i.video&&delete i.video,a=i.audio){a.levelCodec=a.codec,a.id=t.id,this.hls.trigger(Ot.a.BUFFER_CODECS,i),Pt.b.log("audio track:audio,container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var n=a.initSegment;if(n){var o={type:"audio",data:n,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(Ot.a.BUFFER_APPENDING,o))}this.tick()}}},e.prototype.onFragParsingData=function(t){var e=this,r=this.fragCurrent,i=t.frag;if(r&&"audio"===t.id&&"audio"===t.type&&i.sn===r.sn&&i.level===r.level&&this.state===Ye.PARSING){var a=this.trackId,n=this.tracks[a],o=this.hls;isNaN(t.endPTS)&&(t.endPTS=t.startPTS+r.duration,t.endDTS=t.startDTS+r.duration),Pt.b.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),E(n.details,r,t.startPTS,t.endPTS);var s=this.audioSwitch,l=this.media,u=!1;if(s&&l)if(l.readyState){var d=l.currentTime;Pt.b.log("switching audio track : currentTime:"+d),d>=t.startPTS&&(Pt.b.log("switching audio track : flushing all audio"),this.state=Ye.BUFFER_FLUSHING,o.trigger(Ot.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),u=!0,this.audioSwitch=!1,o.trigger(Ot.a.AUDIO_TRACK_SWITCHED,{id:a}))}else this.audioSwitch=!1,o.trigger(Ot.a.AUDIO_TRACK_SWITCHED,{id:a});var h=this.pendingData;this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&h.push({type:t.type,data:e,parent:"audio",content:"data"})}),!u&&h.length&&(h.forEach(function(t){e.state===Ye.PARSING&&(e.pendingBuffering=!0,e.hls.trigger(Ot.a.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,r=t.frag;e&&"audio"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===Ye.PARSING&&(this.stats.tparsed=performance.now(),this.state=Ye.PARSED,this._checkAppendedParsed())},e.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},e.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},e.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==Ye.PARSING&&e!==Ye.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==Ye.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,r=this.hls;if(t){this.fragPrevious=t,e.tbuffered=performance.now(),r.trigger(Ot.a.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;Pt.b.log("audio buffered : "+pe.toString(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(Ot.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Ye.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case Ct.a.FRAG_LOAD_ERROR:case Ct.a.FRAG_LOAD_TIMEOUT:if(!t.fatal){var r=this.fragLoadError;r?r++:r=1;var i=this.config;if(r<=i.fragLoadingMaxRetry){this.fragLoadError=r,e.loadCounter=0;var a=Math.min(Math.pow(2,r-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);Pt.b.warn("audioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=performance.now()+a,this.state=Ye.FRAG_LOADING_WAITING_RETRY}else Pt.b.error("audioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=Ye.ERROR}break;case Ct.a.FRAG_LOOP_LOADING_ERROR:case Ct.a.AUDIO_TRACK_LOAD_ERROR:case Ct.a.AUDIO_TRACK_LOAD_TIMEOUT:case Ct.a.KEY_LOAD_ERROR:case Ct.a.KEY_LOAD_TIMEOUT:this.state!==Ye.ERROR&&(this.state=t.fatal?Ye.ERROR:Ye.IDLE,Pt.b.warn("audioStreamController: "+t.details+" while loading frag,switch to "+this.state+" state ..."));break;case Ct.a.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===Ye.PARSING||this.state===Ye.PARSED)){var n=this.mediaBuffer,o=this.media.currentTime;if(n&&ae.isBuffered(n,o)&&ae.isBuffered(n,o+.5)){var s=this.config;s.maxMaxBufferLength>=s.maxBufferLength&&(s.maxMaxBufferLength/=2,Pt.b.warn("audio:reduce max buffer length to "+s.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*s.fragLoadingLoopThreshold),this.state=Ye.IDLE}else Pt.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Ye.BUFFER_FLUSHING,this.hls.trigger(Ot.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},e.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(Pt.b.log("appending pending audio data on Buffer Flushed"),e.forEach(function(e){t.hls.trigger(Ot.a.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=Ye.PARSED):(this.state=Ye.IDLE,this.fragPrevious=null,this.tick())},Ve(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,Pt.b.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),e}(Nt),Xe=ze,qe=function(){function t(t){return"string"==typeof t&&(!!n[t.toLowerCase()]&&t.toLowerCase())}function e(t){return"string"==typeof t&&(!!o[t.toLowerCase()]&&t.toLowerCase())}function r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)t[i]=r[i]}return t}function i(i,n,o){var s=this,l=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var d="",h=!1,c=i,f=n,p=o,g=null,v="",y=!0,m="auto",b="start",E=50,T="middle",R=50,A="middle";if(Object.defineProperty(s,"id",r({},u,{get:function(){return d},set:function(t){d=""+t}})),Object.defineProperty(s,"pauseOnExit",r({},u,{get:function(){return h},set:function(t){h=!!t}})),Object.defineProperty(s,"startTime",r({},u,{get:function(){return c},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");c=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",r({},u,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",r({},u,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",r({},u,{get:function(){return g},set:function(t){g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",r({},u,{get:function(){return v},set:function(e){var r=t(e);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");v=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",r({},u,{get:function(){return y},set:function(t){y=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",r({},u,{get:function(){return m},set:function(t){if("number"!=typeof t&&t!==a)throw new SyntaxError("An invalid number or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",r({},u,{get:function(){return b},set:function(t){var r=e(t);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");b=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",r({},u,{get:function(){return E},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",r({},u,{get:function(){return T},set:function(t){var r=e(t);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");T=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",r({},u,{get:function(){return R},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");R=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",r({},u,{get:function(){return A},set:function(t){var r=e(t);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");A=r,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var a="auto",n={"":!0,lr:!0,rl:!0},o={start:!0,middle:!0,end:!0,left:!0,right:!0};return i.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},i}(),Qe=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};st.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var i=0;i<r.length;++i)if(e===r[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var Je=new qe(0,0,0),$e="middle"===Je.align?"middle":"center";nt.prototype={parse:function(t){function e(){var t=r.buffer,e=0;for(t=dt(t);e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var i=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,r.buffer=t.substr(e),i}var r=this;t&&(r.buffer+=r.decoder.decode(t,{stream:!0}));try{var i;if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;i=e();var a=i.match(/^()?WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Error("Malformed WebVTT signature.");r.state="HEADER"}for(var n=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(n?n=!1:i=e(),r.state){case"HEADER":/:/.test(i)?function(t){lt(t,function(t,e){switch(t){case"Region":console.log("parse region",e)}},/:/)}(i):i||(r.state="ID");continue;case"NOTE":i||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){r.state="NOTE";break}if(!i)continue;if(r.cue=new qe(0,0,""),r.state="CUE",-1===i.indexOf("--\x3e")){r.cue.id=i;continue}case"CUE":try{ut(i,r.cue,r.regionList)}catch(t){r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var o=-1!==i.indexOf("--\x3e");if(!i||o&&(n=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=i;continue;case"BADCUE":i||(r.state="ID");continue}}}catch(t){"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return t.onflush&&t.onflush(),this}};var Ze=nt,tr={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},er=function(t){var e=t;return tr.hasOwnProperty(t)&&(e=tr[t]),String.fromCharCode(e)},rr=15,ir=100,ar={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},nr={17:2,18:4,21:6,22:8,23:10,19:13,20:15},or={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},sr={25:2,26:4,29:6,30:8,31:10,27:13,28:15},lr=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],ur={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){var r=this.verboseFilter[t];this.verboseLevel>=r&&console.log(this.time+" ["+t+"] "+e)}},dr=function(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].toString(16));return e},hr=function(){function t(e,r,i,a,n){ct(this,t),this.foreground=e||"white",this.underline=r||!1,this.italics=i||!1,this.background=a||"black",this.flash=n||!1}return t.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(this[i]=t[i])}},t.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},t.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},t.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),cr=function(){function t(e,r,i,a,n,o){ct(this,t),this.uchar=e||" ",this.penState=new hr(r,i,a,n,o)}return t.prototype.reset=function(){this.uchar=" ",this.penState.reset()},t.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},t.prototype.setPenState=function(t){this.penState.copy(t)},t.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},t.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},t.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),fr=function(){function t(){ct(this,t),this.chars=[];for(var e=0;e<ir;e++)this.chars.push(new cr);this.pos=0,this.currPenState=new hr}return t.prototype.equals=function(t){for(var e=!0,r=0;r<ir;r++)if(!this.chars[r].equals(t.chars[r])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<ir;e++)this.chars[e].copy(t.chars[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<ir;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},t.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(ur.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>ir&&(ur.log("ERROR","Too large cursor position "+this.pos),this.pos=ir)},t.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var r=this.pos+1;r<e+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(e)},t.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=er(t);if(this.pos>=ir)return void ur.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1)},t.prototype.clearFromPos=function(t){var e;for(e=t;e<ir;e++)this.chars[e].reset()},t.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.prototype.getTextString=function(){for(var t=[],e=!0,r=0;r<ir;r++){var i=this.chars[r].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")},t.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),pr=function(){function t(){ct(this,t),this.rows=[];for(var e=0;e<rr;e++)this.rows.push(new fr);this.currRow=rr-1,this.nrRollUpRows=null,this.reset()}return t.prototype.reset=function(){for(var t=0;t<rr;t++)this.rows[t].clear();this.currRow=rr-1},t.prototype.equals=function(t){for(var e=!0,r=0;r<rr;r++)if(!this.rows[r].equals(t.rows[r])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<rr;e++)this.rows[e].copy(t.rows[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<rr;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},t.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},t.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},t.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},t.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},t.prototype.setCursor=function(t){ur.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},t.prototype.setPAC=function(t){ur.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var r=0;r<rr;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){var n=a.rows[i].cueStartTime;if(n&&n<ur.time)for(var o=0;o<this.nrRollUpRows;o++)this.rows[e-this.nrRollUpRows+o+1].copy(a.rows[i+o])}}this.currRow=e;var s=this.rows[this.currRow];if(null!==t.indent){var l=t.indent,u=Math.max(l-1,0);s.setCursor(t.indent),t.color=s.chars[u].penState.foreground}var d={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(d)},t.prototype.setBkgData=function(t){ur.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},t.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},t.prototype.rollUp=function(){if(null===this.nrRollUpRows)return void ur.log("DEBUG","roll_up but nrRollUpRows not set yet");ur.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),ur.log("INFO","Rolling up")},t.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],r="",i=-1,a=0;a<rr;a++){var n=this.rows[a].getTextString();n&&(i=a+1,t?e.push("Row "+i+": '"+n+"'"):e.push(n.trim()))}return e.length>0&&(r=t?"["+e.join(" | ")+"]":e.join("\n")),r},t.prototype.getTextAndFormat=function(){return this.rows},t}(),gr=function(){function t(e,r){ct(this,t),this.chNr=e,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new pr,this.nonDisplayedMemory=new pr,this.lastOutputScreen=new pr,this.currRollUpRow=this.displayedMemory.rows[rr-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return t.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[rr-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},t.prototype.getHandler=function(){return this.outputFilter},t.prototype.setHandler=function(t){this.outputFilter=t},t.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},t.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},t.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,ur.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},t.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";ur.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(ur.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.prototype.ccRCL=function(){ur.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.prototype.ccBS=function(){ur.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.prototype.ccAOF=function(){},t.prototype.ccAON=function(){},t.prototype.ccDER=function(){ur.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.prototype.ccRU=function(t){ur.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},t.prototype.ccFON=function(){ur.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.prototype.ccRDC=function(){ur.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.prototype.ccTR=function(){ur.log("INFO","TR"),this.setMode("MODE_TEXT")},t.prototype.ccRTD=function(){ur.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.prototype.ccEDM=function(){ur.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.prototype.ccCR=function(){ur.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.prototype.ccENM=function(){ur.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.prototype.ccEOC=function(){if(ur.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,ur.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.prototype.ccTO=function(t){ur.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},t.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var r=Math.floor(t/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=i[r]}ur.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},t.prototype.outputDataUpdate=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=ur.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},t.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),vr=function(){function t(e,r,i){ct(this,t),this.field=e||1,this.outputs=[r,i],this.channels=[new gr(1,r),new gr(2,i)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return t.prototype.getHandler=function(t){return this.channels[t].getHandler()},t.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},t.prototype.addData=function(t,e){var r,i,a,n=!1;this.lastTime=t,ur.setTime(t);for(var o=0;o<e.length;o+=2)if(i=127&e[o],a=127&e[o+1],0!==i||0!==a){if(ur.log("DATA","["+dr([e[o],e[o+1]])+"] -> ("+dr([i,a])+")"),r=this.parseCmd(i,a),r||(r=this.parseMidrow(i,a)),r||(r=this.parsePAC(i,a)),r||(r=this.parseBackgroundAttributes(i,a)),!r&&(n=this.parseChars(i,a)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(n)}else ur.log("WARNING","No channel found yet. TEXT-MODE?");r?this.dataCounters.cmd+=2:n?this.dataCounters.char+=2:(this.dataCounters.other+=2,ur.log("WARNING","Couldn't parse cleaned data "+dr([i,a])+" orig: "+dr([e[o],e[o+1]])))}else this.dataCounters.padding+=2},t.prototype.parseCmd=function(t,e){var r=null,i=(20===t||28===t)&&32<=e&&e<=47,a=(23===t||31===t)&&33<=e&&e<=35;if(!i&&!a)return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,ur.log("DEBUG","Repeated command ("+dr([t,e])+") is dropped"),!0;r=20===t||23===t?1:2;var n=this.channels[r-1];return 20===t||28===t?32===e?n.ccRCL():33===e?n.ccBS():34===e?n.ccAOF():35===e?n.ccAON():36===e?n.ccDER():37===e?n.ccRU(2):38===e?n.ccRU(3):39===e?n.ccRU(4):40===e?n.ccFON():41===e?n.ccRDC():42===e?n.ccTR():43===e?n.ccRTD():44===e?n.ccEDM():45===e?n.ccCR():46===e?n.ccENM():47===e&&n.ccEOC():n.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=r,!0},t.prototype.parseMidrow=function(t,e){var r=null;if((17===t||25===t)&&32<=e&&e<=47){if((r=17===t?1:2)!==this.currChNr)return ur.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[r-1].ccMIDROW(e),ur.log("DEBUG","MIDROW ("+dr([t,e])+")"),!0}return!1},t.prototype.parsePAC=function(t,e){var r=null,i=null,a=(17<=t&&t<=23||25<=t&&t<=31)&&64<=e&&e<=127,n=(16===t||24===t)&&64<=e&&e<=95;if(!a&&!n)return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=t<=23?1:2,i=64<=e&&e<=95?1===r?ar[t]:or[t]:1===r?nr[t]:sr[t];var o=this.interpretPAC(i,e);return this.channels[r-1].setPAC(o),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=r,!0},t.prototype.interpretPAC=function(t,e){var r=e,i={color:null,italics:!1,indent:null,underline:!1,row:t};return r=e>95?e-96:e-64,i.underline=1==(1&r),r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((r-16)/2),i},t.prototype.parseChars=function(t,e){var r=null,i=null,a=null;if(t>=25?(r=2,a=t-8):(r=1,a=t),17<=a&&a<=19){var n=e;n=17===a?e+80:18===a?e+112:e+144,ur.log("INFO","Special char '"+er(n)+"' in channel "+r),i=[n]}else 32<=t&&t<=127&&(i=0===e?[t]:[t,e]);if(i){var o=dr(i);ur.log("DEBUG","Char codes =  "+o.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},t.prototype.parseBackgroundAttributes=function(t,e){var r,i,a,n,o=(16===t||24===t)&&32<=e&&e<=47,s=(23===t||31===t)&&45<=e&&e<=47;return!(!o&&!s)&&(r={},16===t||24===t?(i=Math.floor((e-32)/2),r.background=lr[i],e%2==1&&(r.background=r.background+"_semi")):45===e?r.background="transparent":(r.foreground="black",47===e&&(r.underline=!0)),a=t<24?1:2,n=this.channels[a-1],n.setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)},t.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},t.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},t}(),yr=vr,mr=function(){function t(e,r){ft(this,t),this.timelineController=e,this.track=r,this.startTime=null,this.endTime=null,this.screen=null}return t.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues("textTrack"+this.track,this.startTime,this.endTime,this.screen),this.startTime=null)},t.prototype.newCue=function(t,e,r){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=r,this.timelineController.createCaptionsTrack(this.track)},t}(),br=mr,Er=function(t,e,r){return t.substr(r||0,e.length)===e},Tr=function(t){var e=parseInt(t.substr(-3)),r=parseInt(t.substr(-6,2)),i=parseInt(t.substr(-9,2)),a=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;return isNaN(e)||isNaN(r)||isNaN(i)||isNaN(a)?-1:(e+=1e3*r,e+=6e4*i,e+=36e5*a)},Rr=function(t){for(var e=5381,r=t.length;r;)e=33*e^t.charCodeAt(--r);return(e>>>0).toString()},Ar=function(t,e,r){var i=t[e],a=t[i.prevCC];if(!a||!a.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,void(i.new=!1);for(;a&&a.new;)t.ccOffset+=i.start-a.start,i.new=!1,i=a,a=t[i.prevCC];t.presentationOffset=r},Sr={parse:function(t,e,r,i,a,n){var o=/\r\n|\n\r|\n|\r/g,s=Object(Re.b)(new Uint8Array(t)).trim().replace(o,"\n").split("\n"),l="00:00.000",u=0,d=0,h=0,c=[],f=void 0,p=!0,g=new Ze;g.oncue=function(t){var e=r[i],a=r.ccOffset;e&&e.new&&(void 0!==d?a=r.ccOffset=e.start:Ar(r,i,h)),h&&(a=h+r.ccOffset-r.presentationOffset),t.startTime+=a-d,t.endTime+=a-d,t.id=Rr(t.startTime.toString())+Rr(t.endTime.toString())+Rr(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&c.push(t)},g.onparsingerror=function(t){f=t},g.onflush=function(){if(f&&n)return void n(f);a(c)},s.forEach(function(t){if(p){if(Er(t,"X-TIMESTAMP-MAP=")){p=!1,t.substr(16).split(",").forEach(function(t){Er(t,"LOCAL:")?l=t.substr(6):Er(t,"MPEGTS:")&&(u=parseInt(t.substr(7)))});try{e=e<0?e+8589934592:e,u-=e,d=Tr(l)/1e3,h=u/9e4,-1===d&&(f=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){f=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(p=!1)}g.parse(t+"\n")}),g.flush()}},Lr=Sr,_r=function(t){function e(r){pt(this,e);var i=gt(this,t.call(this,r,Ot.a.MEDIA_ATTACHING,Ot.a.MEDIA_DETACHING,Ot.a.FRAG_PARSING_USERDATA,Ot.a.FRAG_DECRYPTED,Ot.a.MANIFEST_LOADING,Ot.a.MANIFEST_LOADED,Ot.a.FRAG_LOADED,Ot.a.LEVEL_SWITCHING,Ot.a.INIT_PTS_FOUND));if(i.hls=r,i.config=r.config,i.enabled=!0,i.Cues=r.config.cueHandler,i.textTracks=[],i.tracks=[],i.unparsedVttFrags=[],i.initPTS=void 0,i.cueRanges=[],i.config.enableCEA708Captions){var a=new br(i,1),n=new br(i,2);i.cea608Parser=new yr(0,a,n)}return i}return vt(e,t),e.prototype.addCues=function(t,e,r,i){for(var a=this.cueRanges,n=!1,o=a.length;o--;){var s=a[o],l=bt(s[0],s[1],e,r);if(l>=0&&(s[0]=Math.min(s[0],e),s[1]=Math.max(s[1],r),n=!0,l/(r-e)>.5))return}n||a.push([e,r]),this.Cues.newCue(this[t],e,r,i)},e.prototype.onInitPtsFound=function(t){var e=this;void 0===this.initPTS&&(this.initPTS=t.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(t){e.onFragLoaded(t)}),this.unparsedVttFrags=[])},e.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var r=0;r<e.textTracks.length;r++){var i=e.textTracks[r],a="textTrack"+t;if(!0===i[a])return i}return null},e.prototype.sendAddTrackEvent=function(t,e){var r=null;try{r=new window.Event("addtrack")}catch(t){r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)},e.prototype.createCaptionsTrack=function(t){var e="textTrack"+t;if(!this[e]){var r=this.getExistingTrack(t);if(r)this[e]=r,yt(this[e]),this.sendAddTrackEvent(this[e],this.media);else{var i=this.createTextTrack("captions",this.config["captionsTextTrack"+t+"Label"],this.config.captionsTextTrack1LanguageCode);i&&(i[e]=!0,this[e]=i)}}},e.prototype.createTextTrack=function(t,e,r){var i=this.media;if(i)return i.addTextTrack(t,e,r)},e.prototype.destroy=function(){Nt.prototype.destroy.call(this)},e.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},e.prototype.onMediaDetaching=function(){yt(this.textTrack1),yt(this.textTrack2)},e.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},e.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var r=0;r<e.length;r++)yt(e[r])}},e.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var r=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,i){var a=void 0;if(i<r.length){var n=r[i];mt(n,t)&&(a=n)}a||(a=e.createTextTrack("subtitles",t.name,t.lang)),a.mode=t.default?"showing":"hidden",e.textTracks.push(a)})}},e.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},e.prototype.onFragLoaded=function(t){var e=t.frag,r=t.payload;if("main"===e.type){var i=e.sn;if(i!==this.lastSn+1){var a=this.cea608Parser;a&&a.reset()}this.lastSn=i}else if("subtitle"===e.type)if(r.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);var n=e.decryptdata;null!=n&&null!=n.key&&"AES-128"===n.method||this._parseVTTs(e,r)}else this.hls.trigger(Ot.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},e.prototype._parseVTTs=function(t,e){var r=this.vttCCs;r[t.cc]||(r[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var i=this.textTracks,a=this.hls;Lr.parse(e,this.initPTS,r,t.cc,function(e){var r=i[t.trackId];e.forEach(function(t){if(!r.cues.getCueById(t.id))try{r.addCue(t)}catch(i){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,r.addCue(e)}}),a.trigger(Ot.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(e){Pt.b.log("Failed to parse VTT cue: "+e),a.trigger(Ot.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},e.prototype.onFragDecrypted=function(t){var e=t.payload,r=t.frag;if("subtitle"===r.type){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);this._parseVTTs(r,e)}},e.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var r=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,r)}},e.prototype.extractCea608Data=function(t){for(var e,r,i,a,n,o=31&t[0],s=2,l=[],u=0;u<o;u++)e=t[s++],r=127&t[s++],i=127&t[s++],a=0!=(4&e),n=3&e,0===r&&0===i||a&&0===n&&(l.push(r),l.push(i));return l},e}(Nt),wr=_r,Dr=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Ir=function(t){function e(r){Et(this,e);var i=Tt(this,t.call(this,r,Ot.a.MEDIA_ATTACHED,Ot.a.MEDIA_DETACHING,Ot.a.MANIFEST_LOADING,Ot.a.MANIFEST_LOADED,Ot.a.SUBTITLE_TRACK_LOADED));return i.tracks=[],i.trackId=-1,i.media=void 0,i.subtitleDisplay=!1,i}return Rt(e,t),e.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=At(this.media.textTracks),r=0;r<e.length;r++)"showing"===e[r].mode&&(t=r);this.subtitleTrack=t}},e.prototype.destroy=function(){Nt.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(void 0!==this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},e.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestLoaded=function(t){var e=this,r=t.subtitles||[];this.tracks=r,this.trackId=-1,this.hls.trigger(Ot.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},e.prototype.onTick=function(){var t=this.trackId,e=this.tracks[t];if(e){var r=e.details;void 0!==r&&!0!==r.live||(Pt.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(Ot.a.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))}},e.prototype.onSubtitleTrackLoaded=function(t){var e=this;t.id<this.tracks.length&&(Pt.b.log("subtitle track "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(function(){e.onTick()},1e3*t.details.targetduration,this)),!t.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},e.prototype.setSubtitleTrackInternal=function(t){if(!(t<-1||t>=this.tracks.length)){this.timer&&(clearInterval(this.timer),this.timer=null);var e=At(this.media.textTracks);if(-1!==this.trackId&&this.subtitleDisplay&&(e[this.trackId].mode="hidden"),this.trackId=t,Pt.b.log("switching to subtitle track "+t),this.hls.trigger(Ot.a.SUBTITLE_TRACK_SWITCH,{id:t}),-1!==t){var r=this.tracks[t];this.subtitleDisplay&&(e[t].mode="showing");var i=r.details;void 0!==i&&!0!==i.live||(Pt.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(Ot.a.SUBTITLE_TRACK_LOADING,{url:r.url,id:t}))}}},Dr(e,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&this.setSubtitleTrackInternal(t)}}]),e}(Nt),kr=Ir,Or=r(4),Cr={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING"},Pr=function(t){function e(r){St(this,e);var i=Lt(this,t.call(this,r,Ot.a.MEDIA_ATTACHED,Ot.a.ERROR,Ot.a.KEY_LOADED,Ot.a.FRAG_LOADED,Ot.a.SUBTITLE_TRACKS_UPDATED,Ot.a.SUBTITLE_TRACK_SWITCH,Ot.a.SUBTITLE_TRACK_LOADED,Ot.a.SUBTITLE_FRAG_PROCESSED));return i.config=r.config,i.vttFragSNsProcessed={},i.vttFragQueues=void 0,i.currentlyProcessing=null,i.state=Cr.STOPPED,i.currentTrackId=-1,i.ticks=0,i.decrypter=new Or.a(r.observer,r.config),i}return _t(e,t),e.prototype.destroy=function(){Nt.prototype.destroy.call(this),this.state=Cr.STOPPED},e.prototype.clearVttFragQueues=function(){var t=this;this.vttFragQueues={},this.tracks.forEach(function(e){t.vttFragQueues[e.id]=[]})},e.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var t=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=t,this.hls.trigger(Ot.a.FRAG_LOADING,{frag:t}),this.state=Cr.FRAG_LOADING}},e.prototype.onSubtitleFragProcessed=function(t){t.success&&this.vttFragSNsProcessed[t.frag.trackId].push(t.frag.sn),this.currentlyProcessing=null,this.state=Cr.IDLE,this.nextFrag()},e.prototype.onMediaAttached=function(){this.state=Cr.IDLE},e.prototype.onError=function(t){var e=t.frag;e&&"subtitle"!==e.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},e.prototype.tick=function(){var t=this;1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(function(){t.tick()},1),this.ticks=0)},e.prototype.doTick=function(){var t=this;switch(this.state){case Cr.IDLE:var e=this.tracks,r=this.currentTrackId,i=this.vttFragSNsProcessed[r],a=this.vttFragQueues[r],n=this.currentlyProcessing?this.currentlyProcessing.sn:-1,o=function(t){return i.indexOf(t.sn)>-1},s=function(t){return a.some(function(e){return e.sn===t.sn})};if(!e)break;var l;if(r<e.length&&(l=e[r].details),void 0===l)break;l.fragments.forEach(function(e){o(e)||e.sn===n||s(e)||(e.decryptdata&&null!=e.decryptdata.uri&&null==e.decryptdata.key?(Pt.b.log("Loading key for "+e.sn),t.state=Cr.KEY_LOADING,t.hls.trigger(Ot.a.KEY_LOADING,{frag:e})):(e.trackId=r,a.push(e),t.nextFrag()))})}},e.prototype.onSubtitleTracksUpdated=function(t){var e=this;Pt.b.log("subtitle tracks updated"),this.tracks=t.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(t){e.vttFragSNsProcessed[t.id]=[]})},e.prototype.onSubtitleTrackSwitch=function(t){this.currentTrackId=t.id,this.clearVttFragQueues()},e.prototype.onSubtitleTrackLoaded=function(){this.tick()},e.prototype.onKeyLoaded=function(){this.state===Cr.KEY_LOADING&&(this.state=Cr.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,r=t.frag.decryptdata,i=t.frag,a=this.hls;if(this.state===Cr.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&null!=r&&null!=r.key&&"AES-128"===r.method){var n;try{n=performance.now()}catch(t){n=Date.now()}this.decrypter.decrypt(t.payload,r.key.buffer,r.iv.buffer,function(t){var e;try{e=performance.now()}catch(t){e=Date.now()}a.trigger(Ot.a.FRAG_DECRYPTED,{frag:i,payload:t,stats:{tstart:n,tdecrypt:e}})})}},e}(Nt),xr=Pr,Fr={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:je,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:Oe,bufferController:xe,capLevelController:Me,fpsController:Be,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0};Fr.subtitleStreamController=xr,Fr.subtitleTrackController=kr,Fr.timelineController=wr,Fr.cueHandler=Dt,Fr.enableCEA708Captions=!0,Fr.enableWebVTT=!0,Fr.captionsTextTrack1Label="English",Fr.captionsTextTrack1LanguageCode="en",Fr.captionsTextTrack2Label="Spanish",Fr.captionsTextTrack2LanguageCode="es",Fr.audioStreamController=Xe,Fr.audioTrackController=We;var Nr=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Mr=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wt(this,t);var i=t.DefaultConfig;if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var a in i)a in r||(r[a]=i[a]);if(void 0!==r.liveMaxLatencyDurationCount&&r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(r.liveMaxLatencyDuration<=r.liveSyncDuration||void 0===r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(Pt.a)(r.debug),this.config=r,this._autoLevelCapping=-1;var n=this.observer=new se.a;n.trigger=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n.emit.apply(n,[t,t].concat(r))},n.off=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n.removeListener.apply(n,[t].concat(r))},this.on=n.on.bind(n),this.off=n.off.bind(n),this.trigger=n.trigger.bind(n);var o=this.abrController=new r.abrController(this),s=new r.bufferController(this),l=new r.capLevelController(this),u=new r.fpsController(this),d=new Qt(this),h=new $t(this),c=new te(this),f=new Se(this),p=this.levelController=new Te(this),g=this.streamController=new me(this),v=[p,g],y=r.audioStreamController;y&&v.push(new y(this)),this.networkControllers=v;var m=[d,h,c,o,s,l,u,f];if(y=r.audioTrackController){var b=new y(this);this.audioTrackController=b,m.push(b)}if(y=r.subtitleTrackController){var E=new y(this);this.subtitleTrackController=E,m.push(E)}[r.subtitleStreamController,r.timelineController].forEach(function(t){t&&m.push(new t(e))}),this.coreComponents=m}return t.isSupported=function(){return M()},Nr(t,null,[{key:"version",get:function(){return"0.8.9"}},{key:"Events",get:function(){return Ot.a}},{key:"ErrorTypes",get:function(){return Ct.b}},{key:"ErrorDetails",get:function(){return Ct.a}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:Fr},set:function(e){t.defaultConfig=e}}]),t.prototype.destroy=function(){Pt.b.log("destroy"),this.trigger(Ot.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(t){Pt.b.log("attachMedia"),this.media=t,this.trigger(Ot.a.MEDIA_ATTACHING,{media:t})},t.prototype.detachMedia=function(){Pt.b.log("detachMedia"),this.trigger(Ot.a.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(t){t=kt.a.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),Pt.b.log("loadSource:"+t),this.url=t,this.trigger(Ot.a.MANIFEST_LOADING,{url:t})},t.prototype.startLoad=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;Pt.b.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},t.prototype.stopLoad=function(){Pt.b.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},t.prototype.swapAudioCodec=function(){Pt.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){Pt.b.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},Nr(t,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){Pt.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){Pt.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){Pt.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){Pt.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){Pt.b.log("set startLevel:"+t);var e=this;-1!==t&&(t=Math.max(t,e.minAutoLevel)),e.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){Pt.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this,e=t.levels,r=t.config.minAutoBitrate,i=e?e.length:0,a=0;a<i;a++){if((e[a].realBitrate?Math.max(e[a].realBitrate,e[a].bitrate):e[a].bitrate)>r)return a}return 0}},{key:"maxAutoLevel",get:function(){var t=this,e=t.levels,r=t.autoLevelCapping;return-1===r&&e&&e.length?e.length-1:r}},{key:"nextAutoLevel",get:function(){var t=this;return Math.min(Math.max(t.abrController.nextAutoLevel,t.minAutoLevel),t.maxAutoLevel)},set:function(t){var e=this;e.abrController.nextAutoLevel=Math.max(e.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),t}();e.default=Mr},function(t,e,r){function i(t){function e(i){if(r[i])return r[i].exports;var a=r[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var r={};e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e.oe=function(t){throw console.error(t),t};var i=e(e.s=ENTRY_MODULE);return i.default||i}function a(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function n(t){var e=[],r=t.toString(),i=r.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!i)return e;for(var n,o=i[1],s=new RegExp("(\\\\n|\\W)"+a(o)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\w|/|@]+).*?\\)","g");n=s.exec(r);)e.push(n[3]);return e}function o(t,e){for(var r=[e],i=[],a={};r.length;){var o=r.pop();if(!a[o]&&t[o]){a[o]=!0,i.push(o);var s=n(t[o]);r=r.concat(s)}}return i}t.exports=function(t,e){e=e||{};var a=r.m,n=e.all?Object.keys(a):o(a,t),s="("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+n.map(function(t){return JSON.stringify(t)+": "+a[t].toString()}).join(",")+"})(self);",l=new window.Blob([s],{type:"text/javascript"});if(e.bare)return l;var u=window.URL||window.webkitURL||window.mozURL||window.msURL,d=u.createObjectURL(l),h=new window.Worker(d);return h.objectURL=d,h}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(7),a=r(1),n=r(0),o=r(5),s=r.n(o),l=function(t){var e=new s.a;e.trigger=function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];e.emit.apply(e,[t,t].concat(i))},e.off=function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];e.removeListener.apply(e,[t].concat(i))};var r=function(e,r){t.postMessage({event:e,data:r})};t.addEventListener("message",function(a){var o=a.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);t.demuxer=new i.a(e,o.typeSupported,s,o.vendor);try{Object(n.a)(!0===s.debug)}catch(t){console.warn("demuxerWorker: unable to enable logs")}r("init",null);break;case"demux":t.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}}),e.on(a.a.FRAG_DECRYPTED,r),e.on(a.a.FRAG_PARSING_INIT_SEGMENT,r),e.on(a.a.FRAG_PARSED,r),e.on(a.a.ERROR,r),e.on(a.a.FRAG_PARSING_METADATA,r),e.on(a.a.FRAG_PARSING_USERDATA,r),e.on(a.a.INIT_PTS_FOUND,r),e.on(a.a.FRAG_PARSING_DATA,function(e,r){var i=[],a={event:e,data:r};r.data1&&(a.data1=r.data1.buffer,i.push(r.data1.buffer),delete r.data1),r.data2&&(a.data2=r.data2.buffer,i.push(r.data2.buffer),delete r.data2),t.postMessage(a,i)})};e.default=l}]).default});
function Ra(c,d,a){if(null==c)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return c+""}
var Za="function"==typeof Object.defineProperties?Object.defineProperty:function(c,d,a){c!=Array.prototype&&c!=Object.prototype&&(c[d]=a.value)},Db="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function Gb(c,d){if(d){var a=Db;c=c.split(".");for(var b=0;b<c.length-1;b++){var n=c[b];n in a||(a[n]={});a=a[n]}c=c[c.length-1];b=a[c];d=d(b);d!=b&&null!=d&&Za(a,c,{configurable:!0,writable:!0,value:d})}}
Gb("String.prototype.startsWith",function(c){return c?c:function(c,a){var b=Ra(this,c,"startsWith");c+="";var d=b.length,m=c.length;a=Math.max(0,Math.min(a|0,b.length));for(var l=0;l<m&&a<d;)if(b[a++]!=c[l++])return!1;return l>=m}});function Hb(){Hb=function(){};Db.Symbol||(Db.Symbol=Ib)}var Ib=function(){var c=0;return function(d){return"jscomp_symbol_"+(d||"")+c++}}();
function Mb(){Hb();var c=Db.Symbol.iterator;c||(c=Db.Symbol.iterator=Db.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&Za(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return Nb(this)}});Mb=function(){}}function Nb(c){var d=0;return Ob(function(){return d<c.length?{done:!1,value:c[d++]}:{done:!0}})}function Ob(c){Mb();c={next:c};c[Db.Symbol.iterator]=function(){return this};return c}
function Pb(c,d){Mb();c instanceof String&&(c+="");var a=0,b={next:function(){if(a<c.length){var n=a++;return{value:d(n,c[n]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b}Gb("Array.prototype.keys",function(c){return c?c:function(){return Pb(this,function(c){return c})}});Gb("Array.prototype.entries",function(c){return c?c:function(){return Pb(this,function(c,a){return[c,a]})}});
Gb("Object.getOwnPropertySymbols",function(c){return c?c:function(){return[]}});Gb("Array.from",function(c){return c?c:function(c,a,b){Mb();a=null!=a?a:function(a){return a};var d=[],m=c[Symbol.iterator];if("function"==typeof m)for(c=m.call(c);!(m=c.next()).done;)d.push(a.call(b,m.value));else{m=c.length;for(var l=0;l<m;l++)d.push(a.call(b,c[l]))}return d}});
Gb("Array.prototype.find",function(c){return c?c:function(c,a){a:{var b=this;b instanceof String&&(b=String(b));for(var d=b.length,m=0;m<d;m++){var l=b[m];if(c.call(a,l,m,b)){c=l;break a}}c=void 0}return c}});Gb("String.prototype.endsWith",function(c){return c?c:function(c,a){var b=Ra(this,c,"endsWith");c+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var d=c.length;0<d&&0<a;)if(b[--a]!=c[--d])return!1;return 0>=d}});var Sb;
if("function"==typeof Object.setPrototypeOf)Sb=Object.setPrototypeOf;else{var Tb;a:{var Ub={a:!0},Vb={};try{Vb.__proto__=Ub;Tb=Vb.a;break a}catch(c){}Tb=!1}Sb=Tb?function(c,d){c.__proto__=d;if(c.__proto__!==d)throw new TypeError(c+" is not extensible");return c}:null}var Wb=Sb;Gb("Object.setPrototypeOf",function(c){return c||Wb});Gb("Array.prototype.values",function(c){return c?c:function(){return Pb(this,function(c,a){return a})}});
(function(c){function d(b){if(a[b])return a[b].exports;var n=a[b]={qc:b,qz:!1,exports:{}};c[b].call(n.exports,n,n.exports,d);n.qz=!0;return n.exports}var a={};d.FF=c;d.c=a;d.d=function(a,c,m){d.Lz(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:m})};d.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};d.t=function(a,c){c&1&&(a=d(a));if(c&8||c&4&&"object"===typeof a&&a&&a.__esModule)return a;
var b=Object.create(null);d.r(b);Object.defineProperty(b,"default",{enumerable:!0,value:a});if(c&2&&"string"!=typeof a)for(var l in a)d.d(b,l,function(b){return a[b]}.bind(null,l));return b};d.n=function(a){var b=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(b,"a",b);return b};d.Lz=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};d.p="";return d(d.gG=412)})([function(c,d){d.__esModule=!0;d.default=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");
}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}d.__esModule=!0;c=a(382);var n=b(c);c=a(378);var m=b(c);a=a(120);var l=b(a);d.default=function(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof b?"undefined":(0,l.default)(b)));a.prototype=(0,m.default)(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(n.default?(0,n.default)(a,b):a.__proto__=b)}},function(c,
d,a){d.__esModule=!0;var b=function(a){return a&&a.__esModule?a:{default:a}}(a(120));d.default=function(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==("undefined"===typeof c?"undefined":(0,b.default)(c))&&"function"!==typeof c?a:c}},function(c){c.exports=function a(){if(1>arguments.length||"object"!==typeof arguments[0])return!1;if(2>arguments.length)return arguments[0];var b=arguments[0],c,m,l,f;Array.prototype.slice.call(arguments,
1).forEach(function(g){if("object"===typeof g)for(c in g)c in g&&(l=b[c],m=g[c],m!==b&&("object"!==typeof m||null===m?b[c]=m:m instanceof Date?b[c]=new Date(m.getTime()):(f="object"!==typeof l||null===l?Array.isArray(m)?[]:{}:Array.isArray(m)?Array.isArray(l)?l:[]:Array.isArray(l)?{}:l,b[c]=a(f,m))))});return b}},function(c,d,a){c.exports={"default":a(388),__esModule:!0}},function(c,d,a){var b=a(3)(b||{},{f:{j:{}}});b.f.j={Ij:"actionTracker",cc:"adContainer",Kj:"adManager",zb:"adSystem",wc:"adConfigEntry",
Nj:"adTracker",nb:"adsConfig",zB:"autoplayDetector",Rs:"bitrateTracker",jn:"bufferedCalculator",P:"config",OB:"contextReporting",Re:"debugInfo",dc:"display",ta:"dom",ja:"environment",Pa:"errorTracker",ua:"eventBus",Uf:"externalTracker",Db:"flashDetector",Xj:"flashRunner",wn:"flvRunner",Zj:"geminiMacrosResolver",Xf:"geminiPixelsTracker",kC:"heartbeatTracker",An:"hostWindowProvider",oC:"hwmTracker",sC:"inViewManager",Hn:"insecureRunner",rC:"interactionTracker",Jh:"intersectionViewability",Hb:"moatViewability",
GC:"pageTracker",od:"parametersCombine",SC:"posterOptimisationTracker",VC:"videoTag",eo:"primalTracker",YC:"qoeTracker",$C:"recoveryTracker",va:"rootContainer",no:"secureRunner",mk:"slotOpportunityHandler",Ta:"smartViewability",ya:"urls",vk:"videoTagProvider",wk:"videoTracker",Lo:"videoTrackerManager",he:"viewabilitySubject",JD:"viewabilityMonitor"};d.vdb={f:{j:b.f.j}};d.default=b.f.j;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{log:{},nd:{},i:{},Sa:{},b:{M:{}}});b.nd=a(369).vdb.nd;b.i=a(8).vdb.i;
b.Sa=a(35).vdb.Sa;b.b.M=a(12).vdb.b.M;(function(a){function c(a){return 10>a?"0"+a:a}function d(b,e,f){if(g.indexOf(b)>=a.fc.Iq()&&window.console){var k=new Date,p=k.getMilliseconds();f=[c(k.getHours())+":"+c(k.getMinutes())+":"+c(k.getSeconds())+"."+(10>p?"00"+p:100>p?"0"+p:p),"["+b+"]",e+":"+(a.fc.Fr?" "+a.fc.Fr:"")].concat(Array.prototype.slice.apply(f));k=b.toLowerCase();window.console[k]||(k="log");k=window.console[k];"object"===typeof k&&(k=Function.prototype.bind.call(k,window.console));k&&
k.apply(window.console,f)}for(k=0;k<h.length;k++)h[k](b,e,f)}var f=b.nd,g=[f.sn,f.Gn,f.Oo,f.Ea],h=[],e={};a.fc=b.i.Class.extend({L:function(a){this.name=a},debug:function(){d(f.sn,this.name,arguments)},info:function(){d(f.Gn,this.name,arguments)},warn:function(){d(f.Oo,this.name,arguments)},error:function(){d(f.Ea,this.name,arguments)}});a.B=function(b){e[b]||(e[b]=new a.fc(b));return e[b]};a.fc.Fr="";a.fc.Iq=function(){if(void 0===a.fc.gp){var c=parseInt(b.b.M.ub("aolplayerloglvl"));a.fc.gp=isNaN(c)?
Number(b.Sa["logger.level"]):c}return a.fc.gp};a.ZD=function(a){h.push(a)}})(b.log);d.vdb={log:b.log};d.default=b.log;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{g:{},f:{qd:{}},Ab:{},b:{wa:{},X:{},M:{}},Promise:{},A:{ea:{}}});b=c(a(30).vdb,b||{});b.f.qd=a(368).vdb.f.qd;b.Ab=a(78).vdb.Ab;b.b.wa=a(28).vdb.b.wa;b.b.X=a(27).vdb.b.X;b.b.M=a(12).vdb.b.M;b.Promise=a(26).vdb.Promise;b.A.ea=a(9).vdb.A.ea;b.g=function(){function a(c,g,h){var e=g.shift();return g.length?b.g.Kg(c[e])||Array.isArray(c[e])?
a(c[e],g,h):h:void 0===c[e]?h:c[e]}function c(a,b){return Object.prototype.toString.call(a)==="[object "+b+"]"}var d=window.getComputedStyle||function(a){return a.currentStyle};return{vE:function(a,b){b=this.px(a,b);return a[b]},px:function(a,b){for(var c=0,e=a.length-1,f,g;c<=e;)if(f=c+Math.floor((e-c)/2),g=b(a[f],f,a),0>g)c=f+1;else if(0<g)e=f-1;else return f;return-1},round:function(a){return~~(a+(0<a?.5:-.5))},eG:function(a,b){b=Math.pow(10,b);return Math.round(a*b)/b},gl:function(a){a&&(window.Promise?
window.Promise.resolve().then(a):setTimeout(a,1))},JA:function(a,b){return a.sort(function(a,c){return(b?1:-1)*(a.width*a.height-c.width*c.height)})},eq:function(a){var c=b.g.Lb.Ef()?"playsinline muted":"";return(new b.Ab(a)).Kz('<video %PLAY_INLINE% style="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; padding: 0; margin: 0; z-index: 1;"></video>'.replace("%PLAY_INLINE%",c))},EE:function(a){var b=parseInt(a.slice(1,3),16),c=parseInt(a.slice(3,5),16);a=parseInt(a.slice(5,
7),16);return 130>Math.sqrt(b*b*.241+c*c*.691+a*a*.068)?"White":"Black"},$E:function(){return"BackCompat"===document.compatMode?document.body.clientWidth:document.documentElement.clientWidth},ZE:function(){return"BackCompat"===document.compatMode?document.body.clientHeight:document.documentElement.clientHeight},xE:function(a){return(a=a.match(/\d+\.\d+\.\d+/))&&a[0]||"latest"},IE:function(a,b){a=a.split("/").pop();b||(b=a.split("."),b.pop(),a=b.join("."));return a},wf:function(a){return a.split(".").pop()},
contains:function(a,b){for(var c in a)if(a[c]===b)return!0;return!1},Mq:function(a){return"html5-vpaid"+(!0===a?",swf":"")},zE:function(a){a instanceof Date||(a=new Date(a));var b=new Date,c=b.getFullYear()-a.getFullYear();a.setFullYear(b.getFullYear());a.getTime()>b.getTime()&&--c;return c},ZF:function(){var a=Array(16);try{if(window.crypto&&window.crypto.getRandomValues){var b=new Uint32Array(4);return function(){var a=[],c=-1;for(window.crypto.getRandomValues(b);16>++c;)a[c]=b[c>>2]>>>8*(c&3)&
255;return a}}}catch(h){}return function(){for(var b=-1,c;16>++b;)0===(b&3)&&(c=4294967296*Math.random()),a[b]=c>>>((b&3)<<3)&255;return a}}(),el:function(){var a=/Android (\d+(?:\.\d+)+)/.exec(navigator.userAgent),b=navigator.userAgent.match("Android")?1:!1;if(a){a=a[1].split(".");b=0;for(var c=1,e=0;e<a.length;e++)b+=parseInt(a[e])/c,c*=10}return function(){return b}}(),Fg:function(){var a;return function(b){if(!a||b)b=/CPU OS (.*) like Mac OS X/.exec(navigator.userAgent),a=navigator.userAgent.match("iPad")?
1:!1,b&&(a=+b[1].replace(/_/,".").replace(/_/g,""));return a}}(),gj:function(){var a;return function(b){if(!a||b)b=/iPhone OS (.*) like Mac OS X/.exec(navigator.userAgent),a=navigator.userAgent.match("iPod")||navigator.userAgent.match("iPhone")?1:!1,b&&(a=+b[1].replace(/_/,".").replace(/_/g,""));return a}}(),nr:function(){return b.g.el()||b.g.gj()||b.g.Fg()||b.g.ir()||b.g.jr()},mE:function(){return!b.g.nr()},zF:function(){return 360>=Math.min(screen.width,screen.height)},br:function(){var a=navigator.userAgent,
b=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i;return/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i.test(a)||b.test(a)},ir:function(){return/Windows Phone/i.test(navigator.userAgent)},jr:function(){return/(?=.*\bWindows\b)(?=.*\bARM\b)/i.test(navigator.userAgent)},uF:function(){return!!(b.g.gj()||b.g.br()||b.g.ir())},AF:function(){return b.g.Fg()||b.g.el()&&!b.g.br()||b.g.jr()},kj:0<=navigator.userAgent.indexOf("MSIE ")||0<=navigator.userAgent.indexOf("Trident/"),sF:0<=navigator.userAgent.indexOf("Edge"),Wy:0<=navigator.userAgent.toLowerCase().indexOf("firefox"),
eF:"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints,HG:function(){try{var a=document.createElement("canvas");return!(!window.WebGLRenderingContext||!a.getContext("webgl")&&!a.getContext("experimental-webgl"))}catch(g){return!1}}(),az:function(a){return"function"!==typeof a.getAttribute||"function"!==typeof a.appendChild},If:function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},$F:function(a,b){if(Array.isArray(a))for(var c;-1!==(c=a.indexOf(b));)a.splice(c,1);
return a},Yl:function(a){return c(a,"Function")},Kg:function(a){return c(a,"Object")},oz:function(a){return c(a,"String")},dz:function(a){return c(a,"HTMLCollection")},jz:function(a){return c(a,"NodeList")},Sy:function(a){return Array.isArray(a)||b.g.dz(a)||b.g.jz(a)},qF:function(a){return c(a,"ClientRect")||c(a,"DOMRect")},Xd:function(a){return void 0!==a&&null!==a?b.g.Sy(a)?a:[a]:[]},gE:function(a,b){for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&a[c]===b)return!0;return!1},LE:function(a){var b=
d(a);return a.clientWidth-(parseInt(b.paddingLeft)+parseInt(b.paddingRight))},Cl:function(a){var b=d(a);return a.clientHeight-(parseInt(b.paddingTop)+parseInt(b.paddingBottom))},Kf:function(a,c){a=b.g.Xd(a);for(var f=0;f<a.length;++f)for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a[f].style[e]=c[e])},createElement:function(a,b,c,e){var f;a=c?c.ownerDocument.createElement(a):window.vdb.Oi?window.vdb.Oi.createElement(a):document.createElement(a);b=b||{};for(f in b)if(Object.prototype.hasOwnProperty.call(b,
f)){var g=b[f];null!==g&&("style"===f&&"object"===typeof g?this.Kf(a,g):a.setAttribute(f,Array.isArray(g)?g.join(" "):g))}e&&(a.innerHTML=e);c&&c.appendChild(a);return a},Ky:function(a,b){return(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a.className)},rg:function(a,c){a=b.g.Xd(a);c=b.g.Xd(c);for(var f=0;f<a.length;++f){for(var e=[],k=0;k<c.length;++k)b.g.Ky(a[f],c[k])||e.push(c[k]);a[f].className=(a[f].className+" "+e.join(" ")).trim()}},Hf:function(a,c){a=b.g.Xd(a);c=b.g.Xd(c);for(var f=0;f<a.length;++f)if(a[f]&&
a[f].className)for(var e=0;e<c.length;++e)a[f].className=a[f].className.replace(new RegExp("(^|\\s+)"+c[e]+"(\\s+|$)","g")," ").trim()},sm:function(a,c,d){b.g.Hf(a,c);b.g.rg(a,d)},vG:function(a,c,d){d?b.g.rg(a,c):b.g.Hf(a,c)},jG:function(a){return a.replace(/@func-iri-prefix/g,b.g.Wy?location.href.replace(location.hash,""):"")},$D:function(){var a=["webkit","moz","MS","o",""],b=a.length;return function(c,e,f){for(var k=-1;++k<b;)""===a[k]&&(e=e.toLowerCase()),c.addEventListener(a[k]+e,f)}}(),VE:function(a,
b,c){for(var e=(a.parentNode||{}).firstChild,f=[],g;e;)e!==a&&(1!==e.nodeType||b&&!(0<e.clientHeight)||c&&("absolute"===(g=d(e).position)||"fixed"===g)||f.push(e)),e=e.nextSibling;return f},Wc:function(a){if(Array.isArray(a)&&0<a.length)return!1;if(b.g.Kg(a))for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))return!1;return!0},extend:function(){for(var a=1;a<arguments.length;a++)for(var b in arguments[a])Object.prototype.hasOwnProperty.call(arguments[a],b)&&(arguments[0][b]=arguments[a][b]);
return arguments[0]},Jw:function(a){Array.isArray(a)&&(a=a.slice());return a},SF:function(a){if("true"==a||"1"==a)var b=!0;else if("false"==a||"0"==a)b=!1;return b},yG:function(a,c,d){function e(f,k){var p=a.substring(0,k).trim();c.innerHTML=p;b.g.Cl(c)>h?f===k?(c.innerHTML=p.substring(0,p.length-4)+"...",d||(c.style.height=g+"px")):e(k,k-Math.ceil((f-k)/2)):1===f-k?(c.innerHTML=p.substring(0,p.length-3)+"...",d||(c.style.height=g+"px")):e(f,f-Math.floor((f-k)/2))}var f=a.length,g=c.clientHeight,
h=d||function(){var a=b.g.Cl(c);c.style.height="auto";return a}();b.g.Cl(c)>h?e(f,Math.floor(f/2)):d||(c.style.height=g+"px")},QE:function(a){var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(a[c]);return b},uG:function(a,c){return new b.Promise(function(f){b.A.ea.qa(a,c,function(a){f(a)})})},Xz:function(a){return new b.Promise(function(b,c){setTimeout(function(){c(Error("timeout "+a+" ms reached"))},a)})},BE:function(){var a=navigator.languages&&navigator.languages[0];return a?
(-1!==a.indexOf("-")&&(a=a.split("-")[0]),a):null},Sq:function(b,c,d){return a(b||{},c.slice(),d)},getComputedStyle:d.bind(this),jF:function(){try{return window&&window.MediaSource&&"function"===typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}catch(f){return!1}},hE:function(a){var c=a.ownerDocument;if(b.g.Fg()||b.g.gj()){var f=c.createRange();f.selectNodeContents(a);var e=window.getSelection();e.removeAllRanges();e.addRange(f);
a.setSelectionRange(0,999999);a=c.execCommand("copy",!1);e.removeAllRanges()}else a.select(),a=c.execCommand("copy");return a},Wz:function(a){for(var b="",c,e=0;e<a.length;e++)c=null===a[e]?"":a[e].toString(),a[e]instanceof Date&&(c=a[e].toLocaleString()),c=c.replace(/"/g,'""'),0<=c.search(/("|,|\n)/g)&&(c='"'+c+'"'),0<e&&(b+=","),b+=c;return b+"\n"},rE:function(a,b){for(var c="",e=0;e<b.length;e++)c+=this.Wz(b[e]);c=new Blob([c],{type:"text/csv;charset=utf-8;"});navigator.msSaveBlob?navigator.msSaveBlob(c,
a):(b=document.createElement("a"),void 0!==b.download&&(c=URL.createObjectURL(c),b.setAttribute("href",c),b.setAttribute("download",a),b.style.visibility="hidden",document.body.appendChild(b),b.click(),document.body.removeChild(b)))}}}();(function(a){var c={},d=navigator.userAgent.toLowerCase(),f=navigator.platform.toLowerCase(),g=d.match(/(samsungbrowser|edge)[\s\/:]([\w\d\.]+)/);g||(g=d.match(/(opera|ie|trident|firefox|fxios|chrome|crios|version|fban)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/));
if(g){var h=g[0].match(/(chrome|crios)\/(.*?)\s/);h&&(g=[null,"chrome",h[2]])}else g=[null,"unknown",0];h=("ie"===g[1]||"trident"===g[1])&&document.documentMode;c.name="version"===g[1]?g[3]:g[1];c.version=h||parseFloat("opera"===g[1]&&g[4]?g[4]:g[2]);c.platform={name:d.match(/ip(?:ad|od|hone)/)?"ios":(d.match(/(?:webos|android)/)||f.match(/mac|win|linux/)||["other"])[0],version:a.el()||a.Fg()||a.gj()||""};c.tE={JG:!!document.evaluate,bE:!!window.fG,query:!!document.querySelector,json:!!window.JSON};
c.lj=function(){return/android|blackberry|iphone|ipad|ipod|opera mini|iemobile/i.test(d)};c.fz=function(){return c.platform.name===b.f.qd.Gt};c[c.name]=!0;c[c.name+parseInt(c.version,10)]=!0;c.platform[c.platform.name]=!0;c.Ef=function(){var b=c.fz();return!c.lj()||a.Fg()||b&&"safari"===c.name&&10<=c.version||b&&"chrome"===c.name&&54<=c.version||b&&"fxios"===c.name&&10.3<=c.version||b&&"fban"===c.name||!!c.platform.android&&"chrome"===c.name&&53<=c.version||!!c.platform.android&&"firefox"===c.name||
!!c.platform.android&&"samsungbrowser"===c.name&&6.2<=c.version};a.Lb=c})(b.g);(function(a){function c(a,b){function c(){function b(){}a.onerror=b;a.onreadystatechange=b;a.onload=b;a.parentNode.removeChild(a)}a.onload=function(){for(var e=a.src,f=0;f<h.length;f++)h[f](e);c();null!=b&&b(!0)};a.onerror=function(){c();null!=b&&b(!1)};a.onreadystatechange=function(){if("complete"===a.readyState||"loaded"===a.readyState)a.onload()}}var d=/\/\/(.+)\.uplynk\.com\//i,f={mp4:"video/mp4",ogg:"video/ogg",ogv:"video/ogg",
webm:"video/webm",m3u:"application/vnd.apple.mpegurl",m3u8:"application/vnd.apple.mpegurl"},g=["mp3"],h=[];a.GF=function(a){a=a.split("?");var c=a[0];c=c.substring(c.lastIndexOf(".")+1).toLowerCase();c=f[c];!c&&1<a.length&&(a=b.g.pl(a[1]),c=a.enc||(a.type+"").replace(".",""),c=f[c]);return c};a.oF=function(a){a=b.b.M.wf(a);for(var c=0;c<g.length;++c)if(g[c]===a)return!0;return!1};a.KE=function(a){if(a.videoUrls){var c=0;a=a.videoUrls;for(var e=a.length;c<e;++c)if(b.g.Zl(a[c]))return c}return-1};a.Zl=
function(a){return"m3u8"===b.b.M.wf(a)};a.cF=function(a){var c,e;for(c=0;c<a.length;c++){var f=b.g.Sq(a[c],["videoUrls"],[]);for(e=0;e<f.length;e++)if(b.g.Zl(f[e]))return!0}return!1};a.dF=function(a){var c,e,f=0;for(c=0;c<a.length;c++){var g=b.g.Sq(a[c],["videoUrls"],[]);for(e=0;e<g.length;e++){if(!b.g.Zl(g[e]))return!1;f++}}return 0<f};a.CF=function(a){return d.test(a)};a.Ge=function(a){if(!a)return null;if("string"===typeof a)return a;var b=[];if(a&&"object"===typeof a)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,
c)){var e=a[c];if(0===e||e&&"function"!==typeof e){var f=encodeURIComponent(c)+"=";f+=encodeURIComponent(String(e));b.push(f)}}return b.join("&")};a.pl=function(a){var b={};if(a){b={};a=a.split("&");for(var c=0;c<a.length;c++){var e=a[c].split("="),f=e[0];try{f=decodeURIComponent(f)}catch(t){}try{var g;1<e.length&&(g=decodeURIComponent(e[1]));b[f]=g}catch(t){}}}return b};a.Iz=function(a){for(var c,e=[],f=0;f<a.length;f++)(c=b.g.Ge(a[f]))&&e.push(c);return e.join("&")};a.Bf=function(a){var b=Array.prototype.toJSON;
delete Array.prototype.toJSON;if(window.JSON&&window.JSON.stringify)try{var c=JSON.stringify(a,void 0,void 0)}catch(q){}else c=window.JSON&&window.JSON.encode?window.JSON.encode(a):String.valueOf(a);b&&(Array.prototype.toJSON=b);return c};a.Bw=function(a){return window.btoa(a)};a.Aw=function(a){return window.atob(a)};a.Ua=function(a,b){b=b||{};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b};a.hG=function(a,b){b=b||{};for(var c in a)Object.prototype.hasOwnProperty.call(a,
c)&&"undefined"===typeof b[c]&&(b[c]=a[c]);return b};a.Of=function(a){if(""===a)return 0;a=a.split(".")[0];var b=0;a=a.split(":");a.reverse();for(var c=[1,60,3600],e=0;e<a.length;e++)b+=a[e]*c[e];return b};a.Qy=function(a,b){var e=document,f=e.createElement("script");f.type="text/javascript";f.src=a;c(f,b);e.getElementsByTagName("head")[0].appendChild(f)};a.pw=function(a){"function"===typeof a&&h.push(a)};a.HF=function(a){var b=Array.prototype.slice,c=b.call(arguments,0);c.shift();return function(){var e=
c.concat(b.call(arguments,0));a.apply(null,e)}};a.Jy=function(a,b){return null!=a?a:b};a.find=function(a,b){for(var c=a.length>>>0,e,f=0;f<c;f++)if(e=a[f],b(e,f,a))return e};a.uE=function(a,b,c){if(!a||void 0===a.length)throw new TypeError(a+" is not an array!");if("function"!==typeof b)throw new TypeError(b+" is not a function!");for(var e=[],f=a.length,k=0;k<f;k++)b.call(c,a[k],k,a)&&e.push(a[k]);return e};a.nx=function(a,b,c){c=c||{};var e={},f;for(f in a)if(Object.prototype.hasOwnProperty.call(a,
f)&&b(f)){var k=f;c.modify&&(k=c.modify(k));!1!==c.tG&&(k=k.toLowerCase());e[k]=a[f]}return e};a.ox=function(b){function c(a){return a.split(e)[1]}var e="rm.";e=e||"";var f=f||{};f.modify=f.modify?c:null;return a.nx(b,function(a){return 0===a.indexOf(e)},f)};a.UE=function(){return window.s_265&&window.s_265.channel};a.DE=function(){var a=window.rapidConfig&&window.rapidConfig.keys&&window.rapidConfig.keys.st_sec;a||(a=b.b.M.Oc(b.b.X.Rc()));return a}})(b.g);d.vdb={g:b.g};d.default=b.g;d.__esModule=
!0},function(c,d,a){c=a(3);var b=c(b||{},{i:{}});b=c(a(30).vdb,b||{});(function(a){a.Cw=function(){var a=window,b=a.Array.prototype;a=a.Function.prototype;void 0===a.bind&&(a.bind=function(a){var c=this,f=b.slice.call(arguments,1);return function(){return c.apply(a||null,f.concat(b.slice.call(arguments)))}})};a.Cw();var b=!1,c=/xyz/.test(function(){return"xyz"})?/\b_super\b/:/.*/;a.Class=function(){};a.Class.extend=function e(a,d){function k(){!b&&this.L&&this.L.apply(this,arguments)}var g=this.prototype;
b=!0;var l=new this;b=!1;for(var h in a)l[h]="function"===typeof a[h]&&"function"===typeof g[h]&&c.test(a[h])?function(a,b){return function(){var c=this._super;this._super=g[a];try{return b.apply(this,arguments)}finally{this._super=c}}}(h,a[h]):a[h];k.prototype=l;k.prototype.constructor=k;k.extend=e;d&&0<d.length&&(k.O=d);this.O&&0<this.O.length&&(k.O=k.O?k.O.concat(this.O):this.O);return k}})(b.i);d.vdb={i:b.i};d.default=b.i;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{A:{ea:{},ld:{}},
i:{},Bb:{}});b.i=a(8).vdb.i;b.A=c(a(178).vdb.A,b.A||{});b.A.ld=a(116).vdb.A.ld;b.Bb=a(17).vdb.Bb;(function(a){function c(){this.up&&this.S();this.bp&&this.bp.apply(window,arguments)}a.ea=b.i.Class.extend(function(){return{S:function(){this.kc?this.kc.S():"undefined"!==typeof this.Ub.nodeType?b.A.removeEventListener(this.Ub,this.Hk,this.ni):this.Ub.removeEventListener(this.Hk,this.ni,this.Ep)},link:function(){var a=arguments||[];if(!arguments.length)return this;this.kc||(this.kc=new b.A.ld(this));
for(var c=0;c<a.length;++c){var g=a[c];g.kc?this.kc.Ez(g.kc):this.kc.Kb(g)}this.kc.Lw();return this}}}());a.ea.bind=function(d,f,g,h,e){h=!!h;e=!!e;var k=new a.ea;k.Ub=d;k.Hk=f;k.bp=g;k.Ep=h;k.up=e;k.ni=c.bind(k);"undefined"!==typeof d.nodeType?b.A.addEventListener(d,f,k.ni):d.addEventListener(f,k.ni,h);return k};a.ea.qa=function(b,c,g){return a.ea.bind(b,c,g,void 0,!0)};a.ea.empty=function(){var c=new a.ea;c.Ub=new b.Bb;c.Hk="DOESN'T_MATTER";c.Ep=!0;c.up=!0;return c};a.ea.group=function(b){for(var c=
a.ea.empty(),g=0;g<arguments.length;g++){var d=arguments[g];d.length&&(d=a.ea.group.apply(null,d));c.link(d)}return c}})(b.A);d.vdb={A:{ea:b.A.ea}};d.default=b.A.ea;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(18);a=function(a){function b(c,e,f){(0,n.default)(this,b);c=(0,m.default)(this,a.call(this,c,f));c.data.adType=e;c.kw=null;return c}(0,l.default)(b,
a);b.prototype.clone=function(){return new b(this.type,this.kw,this.data)};return b}(b(a).default);d.default=a;a.Ds="Ads.Resolve.Error";a.vc="Ads.Blocker.Complete";a.Lm="Ads.Blocker.Request";a.Mm="Ads.Blocker.Started";a.Qm="Ads.Engines.Load";a.xc="Ads.Engine.Ready";a.dh="Ads.Engine.Run";a.$c="Ads.Engine.Complete";a.rB="Ads.Engine.InterationStart";a.qB="Ads.Engine.InterationEnd";a.bd="Ads.Engine.LinearChange";a.sB="Ads.Engine.None";a.nB="Ads.Loaded";a.zc="Ads.Ad.Loaded";a.Oe="Ads.Ad.Starting";a.sa=
"Ads.Ad.Started";a.Oa="Ads.Ad.Finished";a.Rb="Ads.Ad.Paused";a.Ne="Ads.Ad.Resumed";a.$d="Ads.Ad.VolumeChanged";a.Om="Ads.Ad.Click";a.Mj="Ads.Ad.Quartile";a.ob="Ads.Ad.TimeUpdate";a.Pe="Ads.Ad.Waiting";a.Ym="adshowcompanions";a.Es="Ads.Ad.ShowIcon";a.As="Ads.Ad.HideIcon";a.Pf="Ads.Ad.Skipped";a.dd="Ads.Ad.SkippableStateChange";a.$m="Ads.Ad.SkipRequested";a.dn="Ads.Ad.SubtitlesFound"},function(c,d,a){function b(a){for(var c="",g=0,d;null!=(d=a[g++]);)d.nodeType===m.default.TEXT_NODE||d.nodeType===m.default.CDATA_SECTION_NODE?
c+=d.nodeValue:d.nodeType!==m.default.COMMENT_NODE&&(c+=b(d.childNodes));return c}Object.defineProperty(d,"__esModule",{value:!0});var n=(c=a(0))&&c.__esModule?c:{default:c},m=(a=a(179))&&a.__esModule?a:{default:a};a=function(){function a(){(0,n.default)(this,a)}a.Ql=function(a){var b={};a=a.childNodes;for(var c=0;c<a.length;c++){var e=a[c],f=e.nodeName;1===e.nodeType&&(b[f]||(b[f]=e))}return b};a.My=function(a){a=a.childNodes;for(var b=0;b<a.length;b++){var c=a[b];if(1===c.nodeType&&"VASTAdTagURI"===
c.nodeName)return c}return null};a.za=function(a,b){var c={};a=a.childNodes;for(var e=0;e<a.length;e++){var f=a[e],g=f.nodeName;1!==f.nodeType||b&&0<b.length&&0>b.indexOf(g)||(c[g]||(c[g]=[]),c[g].push(f))}return c};a.Ly=function(a){return a?3===a.nodeType||2===a.nodeType?!0:a.hasChildNodes()?!a.firstElementChild:!1:!1};a.Ca=function(a){return b([a])};return a}();d.default=a},function(c,d,a){var b=a(3)(b||{},{b:{M:{},yd:{},X:{},wa:{}}});b.b.yd=a(72).vdb.b.yd;b.b.X=a(27).vdb.b.X;b.b.wa=a(28).vdb.b.wa;
b.b.M=function(){function a(a){var b=document.createElement("a");b.href=a;return{protocol:b.protocol,hostname:b.hostname,port:b.port,host:b.host,origin:b.origin||b.protocol+"//"+b.hostname,pathname:b.pathname,query:b.search}}function c(a){return void 0!==a?a:b.b.X.Rc()}return{yr:a,wf:function(b){if(!b||"string"!==typeof b)return"";b=a(b).pathname||"";var c=b.lastIndexOf(".");return-1!==c?b.substring(c+1).toLowerCase():""},Ee:function(a){return a?b.b.wa.startsWith(c(a),"https"):b.b.X.Ee()},Oc:function(a){return(a=
/(?:(?:[\w]+:)?\/\/)?([^?#\/:]+)/.exec(c(a)))?a[1]:""},ub:function(a,f){return b.b.yd.ub(a,c(f))},YE:function(a,b){for(var c=0;c<b.length;c++){var f=b[c];a+=(-1===a.indexOf("?")?"?":"&")+f.key+"="+f.value}return a}}}();d.vdb={b:{M:b.b.M}};d.default=b.b.M;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(4);c=b(c);a=a(18);a=b(a);var f=(0,c.default)(),g=(0,c.default)(),
h=(0,c.default)();a=function(a){function b(c,e,k,d){(0,n.default)(this,b);c=(0,m.default)(this,a.call(this,c,d));c[f]=e;c[g]=k;c.Lc=[];c.fr=!0;return c}(0,l.default)(b,a);b.prototype.sA=function(a){a.fr=!1;this[h]=a};b.prototype.Dg=function(){return this[f]||null};b.prototype.ze=function(){return this[g]||null};b.prototype.Cq=function(){return this[h]||null};b.prototype.clone=function(){return new b(this.type,this[f],this[g],this.data)};b.prototype.toString=function(){return"VastEvent{type="+this.type+
", recordCount="+this.Lc.length+"}"};return b}(a.default);d.default=a;a.Qf="VastEventAttempt";a.Eb="VastEventImpression";a.Ya="VastEventClick";a.Ea="VastEventError"},function(c){c=c.exports={version:"2.5.7"};"number"==typeof __e&&(__e=c)},function(c,d,a){var b=a(74)("wks"),n=a(54),m=a(23).Symbol,l="function"==typeof m;(c.exports=function(a){return b[a]||(b[a]=l&&m[a]||(l?m:n)("Symbol."+a))}).store=b},function(c,d,a){var b=a(3)(b||{},{f:{gd:{}}});b.f.gd={Qa:"Preroll",gc:"Midroll",qb:"Overlay",ed:"All"};
d.vdb={f:{gd:b.f.gd}};d.default=b.f.gd;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{Bb:{},i:{},log:{}});b.i=a(8).vdb.i;b.log=a(6).vdb.log;b.Bb=b.i.Class.extend(function(){return{L:function(){this.ke={};this.Bk=[];this.cf=b.log.B("EventBus")},addEventListener:function(a,b,c){var f=this.ke[a];f||(f=[],this.ke[a]=f);f.push({ej:b,Gr:c||0})},removeEventListener:function(a,b){a=this.ke[a]||[];for(var c=0;c<a.length;c++)a[c].ej===b&&(a.splice(c,1),c--)},XD:function(a){this.Bk.push(a)},dispatchEvent:function(a){var b;
if("string"===typeof a){var c=a;var f=Array.prototype.slice.call(arguments,1)}else c=a.type,a.target=this,f=Array.prototype.slice.call(arguments,0);var g=this.ke[c];if(g){g=g.slice();g.sort(function(a,b){return b.Gr-a.Gr});var d=0;for(b=g.length;d<b;d++)this.lp(c,f,g[d].ej)}d=0;for(b=this.Bk.length;d<b;d++)this.Bk[d].call({},c,f)},lp:function(a,b,c){try{c.apply({},b)}catch(f){this.cf.error(f,"event",{type:a,args:b})}},Nr:function(){this.cf.info("Removing all listeners.");for(var a in this.ke)Array.isArray(this.ke[a])&&
delete this.ke[a]}}}());d.vdb={Bb:b.Bb};d.default=b.Bb;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{A:{Event:{}},i:{}});b.i=a(8).vdb.i;b.A.Event=b.i.Class.extend(function(){return{type:null,data:null,target:null,L:function(a,b){this.type=a;this.data=b||{}},clone:function(){return new b.A.Event(this.type)},toString:function(){return"Event{type="+this.type+"}"}}}());b.A.Event.Ha="complete";d.vdb={A:{Event:b.A.Event}};d.default=b.A.Event;d.__esModule=!0},function(c,d){Object.defineProperty(d,"__esModule",
{value:!0});d.default={oB:{Y:124},us:{Y:102,code:301,description:"URI reached a timeout as defined by the video player.",ba:9402},xs:{Y:100,description:"Ad entries loading timeout, ajax error or parsing error"},ZB:{code:202,description:"Video player expecting different duration"},ot:{Y:5122,code:100,description:"Empty response",ba:9401},vn:{Y:104,code:401,description:"File not found. Unable to find Linear/MediaFile from URI",ba:9521},xt:{Y:114,code:400,description:"General    Linear    error. Video player is unable to display the Linear Ad",
ba:9524},yt:{code:500,description:"General NonLinearAds error."},zt:{Y:203,code:901,description:"General VPAID error.",ba:9416},At:{Y:5130,code:300,description:"General Wrapper error",ba:9413},Et:{Y:203,code:901,description:"Failed to inject GoogleIMA3 Dependencies.",ba:9570},En:{Y:203,code:901,description:"Failed to initialize GoogleIMA3 adManager.",ba:9571},Kh:{Y:114,code:405,description:"Problem displaying MediaFile.",ba:9521},BC:{Y:114,code:402,description:"Timeout of MediaFile URI",ba:9521},
Qt:{Y:125,code:303,description:"No ads VAST response after one or more Wrappers. Also includes number of empty VAST responses from fallback.",ba:9432},Rt:{Y:1,code:303,description:"No ads VAST response ",ba:9432},Tt:{Y:120,code:403,description:"Couldn\u2019t find MediaFile that is supported by this video player, based on the attributes of the MediaFile element.",ba:9412},Rn:{code:502,description:"Unable to fetch NonLinearAds/NonLinear resource."},Ot:{code:501,description:"Unable to display non-linear ad because creative dimensions do not align with creative display area"},
Sn:{code:503,description:"Could not find NonLinear resource with supported type."},ju:{Y:121,code:401,description:"SSL mismatch",ba:9521},$f:{Y:112,code:900,description:"Undefined error."},ru:{Y:108,code:100,description:"VAST parsing error",ba:9401},Co:{Y:5125,code:101,description:"VAST schema validation",ba:9411},su:{Y:5125,code:102,description:"VAST version not supported",ba:9411},Ju:{Y:203,code:901,description:"VPAID ad init error",ba:9416},Ku:{Y:204,code:901,description:"VPAID ad init timeout",
ba:9416},Lu:{Y:202,code:901,description:"VPAID ad load error",ba:9416},Mu:{Y:201,code:901,description:"VPAID ad renderer error",ba:9416},Nu:{Y:301,code:901,description:"VPAID ad start error",ba:9416},Ou:{Y:302,code:901,description:"VPAID ad start timeout",ba:9416},Pu:{Y:8121,code:901,description:"VPAID swf download error",ba:9416},Qo:{Y:125,code:302,description:"Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response.",ba:9413},
yk:{Y:105,code:301,description:"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element. (URI was either unavailable or reached a timeout as defined by the video player.)",ba:9402}}},function(c,d,a){var b=a(31),n=a(129),m=a(101),l=Object.defineProperty;d.U=a(24)?Object.defineProperty:function(a,c,d){b(a);c=m(c,!0);b(d);if(n)try{return l(a,c,d)}catch(e){}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");"value"in d&&(a[c]=d.value);
return a}},function(c,d,a){function b(a,c,k){var e=a&b.Sb,d=a&b.Yj,h=a&b.Ib,r=a&b.ik,t=a&b.Ms,y=a&b.xk,w=d?m:m[c]||(m[c]={}),v=w.prototype;h=d?n:h?n[c]:(n[c]||{}).prototype;var A;d&&(k=c);for(A in k)if(c=!e&&h&&void 0!==h[A],!c||!g(w,A)){var D=c?h[A]:k[A];w[A]=d&&"function"!=typeof h[A]?k[A]:t&&c?l(D,n):y&&h[A]==D?function(a){function b(b,c,e){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(b);case 2:return new a(b,c)}return new a(b,c,e)}return a.apply(this,
arguments)}b.prototype=a.prototype;return b}(D):r&&"function"==typeof D?l(Function.call,D):D;r&&((w.fB||(w.fB={}))[A]=D,a&b.io&&v&&!v[A]&&f(v,A,D))}}var n=a(23),m=a(14),l=a(39),f=a(32),g=a(36);b.Sb=1;b.Yj=2;b.Ib=4;b.ik=8;b.Ms=16;b.xk=32;b.sD=64;b.io=128;c.exports=b},function(c,d,a){var b=a(3)(b||{},{ka:{},Promise:{}});b.Promise=a(26).vdb.Promise;b.ka=function(){function a(){var a=this;a.Mv=new b.Promise(function(b,c){a.resolve=b;a.reject=c})}a.prototype.fb=function(){return this.Mv};return a}();d.vdb=
{ka:b.ka};d.default=b.ka;d.__esModule=!0},function(c){c=c.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(c,d,a){c.exports=!a(43)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(c,d,a){var b=a(3)(b||{},{f:{Zh:{}}});b.f.Zh={Eb:"impression",Vj:"creativeView",Th:"start",ck:"midpoint",md:"firstQuartile",wd:"thirdQuartile",Ha:"complete",dk:"mute",
rk:"unmute",Ph:"pause",dD:"rewind",ko:"resume",ut:"fullscreen",un:"exitFullscreen",Yt:"playerExpand",Xt:"playerCollapse",Bh:"expand",Rf:"collapse",Hj:"acceptInvitation",vh:"close",hu:"skip",Ya:"click",jk:"progress"};d.vdb={f:{Zh:b.f.Zh}};d.default=b.f.Zh;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{Promise:{},i:{},b:{M:{}}});b=c(a(30).vdb,b||{});b.i=a(8).vdb.i;b.b.M=a(12).vdb.b.M;(function(a){function c(){}function d(a,b){return function(){a.apply(b,arguments)}}function f(a){if("object"!==
typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof a)throw new TypeError("not a function");this.qe=0;this.gf=void 0;this.$e=[];n(a,this)}function g(a,b){for(;3===a.qe;)a=a.gf;0===a.qe?a.$e.push(b):u(function(){var c=1===a.qe?b.Oz:b.tr;if(null===c)(1===a.qe?h:e)(b.qm,a.gf);else{try{var f=c(a.gf)}catch(A){e(b.qm,A);return}h(b.qm,f)}},1)}function h(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"===typeof b||
"function"===typeof b)){var c=b.then;if(b instanceof f){a.qe=3;a.gf=b;k(a);return}if("function"===typeof c){n(d(c,b),a);return}}a.qe=1;a.gf=b;k(a)}catch(v){e(a,v)}}function e(a,c){for(var e,f=0,d=a.$e.length;!e&&f<d;f++)e=a.$e[f].tr;!e&&b.b.M.ub&&"1"===b.b.M.ub("logpromisereject")&&window.console&&console.error(c);a.qe=2;a.gf=c;k(a)}function k(a){for(var b=0,c=a.$e.length;b<c;b++)g(a,a.$e[b]);a.$e=null}function p(a,b,c){this.Oz="function"===typeof a?a:null;this.tr="function"===typeof b?b:null;this.qm=
c}function n(a,b){var c=!1;try{a(function(a){c||(c=!0,h(b,a))},function(a){c||(c=!0,e(b,a))})}catch(v){c||(c=!0,e(b,v))}}var u=window.Promise?function(a){window.Promise.resolve().then(a)}:setTimeout,r=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};f.prototype["catch"]=function(a){return this.then(null,a)};f.prototype.then=function(a,b){var e=new f(c);g(this,new p(a,b,e));return e};f.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&r(arguments[0])?
arguments[0]:arguments);return new f(function(b,c){function e(k,d){try{if(d&&("object"===typeof d||"function"===typeof d)){var g=d.then;if("function"===typeof g){g.call(d,function(a){e(k,a)},c);return}}a[k]=d;0===--f&&b(a)}catch(B){c(B)}}if(0===a.length)return b([]);for(var f=a.length,k=0;k<a.length;k++)e(k,a[k])})};f.resolve=function(a){return a&&"object"===typeof a&&a.constructor===f?a:new f(function(b){b(a)})};f.reject=function(a){return new f(function(b,c){c(a)})};f.race=function(a){return new f(function(b,
c){for(var e=0,f=a.length;e<f;e++)a[e].then(b,c)})};f.iB=function(a){var b=null;return function(){var c=Array.prototype.slice.apply(arguments);b=b||f.resolve();return b.then(a.bind.apply(a,[this].concat(c)))}};f.iB(function(){})();a.Promise=f})(b);d.vdb={Promise:b.Promise};d.default=b.Promise;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{X:{},Tb:{}}});b.b.Tb=a(76).vdb.b.Tb;b.b.X=function(a){return{Tc:function(){return a},Rc:function(a){return b.b.Tb.Rc(a)},Eg:function(a){return b.b.Tb.Eg(a)},
bj:function(a){return b.b.Tb.bj(a)},Ee:function(){return b.b.Tb.Ee()},HE:function(){var a=this.Eg();try{return a.document.referrer}catch(l){return null}},SE:function(){return a.performance},Hy:function(){return a.navigator.userAgent},Af:function(){try{return a.self!==a.top}catch(m){return!0}},dy:function(){for(var b=a.self,c=0;b!==a.top&&b.parent;){try{if(b.parent&&b.parent.location&&!b.parent.location.href)throw Error("HandleSafari");}catch(f){if(2>c)c++;else break}b=b.parent}return c}}}(window);
d.vdb={b:{X:b.b.X}};d.default=b.b.X;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{wa:{}}});b.b.wa={Wc:function(a){return!a||""===b.b.wa.trim(a)},fE:function(a,b){return a&&a.substring(0,a.lastIndexOf("."))+"."+b},trim:function(a,c){return b.b.wa.yz(b.b.wa.Qr(a,c),c)},yz:function(a,b){null==b&&(b="\\s");return a&&a.replace(new RegExp("^["+b+"]+","g"),"")},Qr:function(a,b){null==b&&(b="\\s");return a&&a.replace(new RegExp("["+b+"]+$","g"),"")},startsWith:function(a,b){return a&&0===a.indexOf(b)},
endsWith:function(a,b){var c=a&&a.lastIndexOf(b);return-1!==c&&c===a.length-b.length},Or:function(a,b,c){return a&&a.replace(new RegExp(b,"g"),c)},bG:function(a){return a&&a.replace(/.*?:\/\//g,"")},mq:function(a,b,c){if("string"!==typeof a||"string"!==typeof b)return!1;!0===c&&(a=a.toLowerCase(),b=b.toLowerCase());return a===b},Gw:function(a){if(a)return a=a.toLowerCase(),a.charAt(0).toUpperCase()+a.slice(1)},repeat:function(a,b){var c="";if(0>b)throw new RangeError("repeat count must be non-negative");
if(Infinity===b)throw new RangeError("repeat count must be less than infinity");b=Math.floor(b);if(0===a.length||0===b)return"";if(268435456<=a.length*b)throw new RangeError("repeat count must not overflow maximum string size");for(var f=0;f<b;f++)c+=a;return c}};d.vdb={b:{wa:b.b.wa}};d.default=b.b.wa;d.__esModule=!0},function(c){c.exports=function(c){return"object"===typeof c?null!==c:"function"===typeof c}},function(c,d,a){a(3)(b||{},{});var b=window.vdb||{};window.vdb=b;d.vdb={};d.default=b;d.__esModule=
!0},function(c,d,a){var b=a(29);c.exports=function(a){if(!b(a))throw TypeError(a+" is not an object!");return a}},function(c,d,a){var b=a(20),n=a(46);c.exports=a(24)?function(a,c,f){return b.U(a,c,n(1,f))}:function(a,b,c){a[b]=c;return a}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(151);a=function(a){function b(c,e){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,
c,e))}(0,l.default)(b,a);b.prototype.Lf=function(a){return a&&a.nodeName===this.Nd()&&a.hasChildNodes()&&a.firstElementChild};return b}(b(a).default);d.default=a},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={Um:"ad_loaded_timeout",bn:"ad_started_timeout",hn:"break_loaded_timeout",uh:"clickThru",Sf:"companionClick",Qe:"companionDisplay",LINEAR_CHANGE:"linearChange",LOADED:"loaded",rb:"stopped",Ve:"iab_viewable",ag:"iab_detection_failed",bg:"iab_detection_started"}},function(c,
d,a){var b=a(3)(b||{},{Sa:{}});b.Sa=function(){var a;return{L:function(c){var d="stage"===c,f=d?".dev":"",g=d?"-stage":"";a={"cdn.url":"https://cdn-ssl.vidible.tv/"+c+"/","s3.url":"https://s3.amazonaws.com/vdb-cdn-files/","tracking.url":"https://trk"+f+".vidible.tv/trk/","delivery.url":"https://delivery"+f+".vidible.tv/","adserver.url":"https://video"+g+".adaptv.advertising.com/","adstracker.url":"https://video"+g+".adaptv.advertising.com/","aeg.default_vendor":d?"593fb37531e0a533fe6dd8fa":"593fb311c214e33ec50202f0",
"logger.level":d?"0":"3","ima.url":"https://s0.2mdn.net/instream/html5/ima3"+(d?"_debug":"")+".js","default.pid":d?"5912acc731e0a563e7535e52":"59947c0544a64b1a49e52a48","default.bid":d?"53a2cd08e4b0915a797d6a2e":"56bcd17de4b0a5976ac0da12","default.bcid":d?"50d595ec0364e95588c77bd2":"56bcd17ce4b018167fea5539"};for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(b.Sa[h]=a[h])}}}();d.vdb={Sa:b.Sa};d.default=b.Sa;d.__esModule=!0},function(c){var d={}.hasOwnProperty;c.exports=function(a,b){return d.call(a,
b)}},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={yc:"VASTAdError",Oa:"VASTAdFinished",eh:"VASTAdFinishedForce",Qb:"VASTAdInteraction",zc:"VASTAdLoaded",Vm:"VASTAdLoading",Rb:"VASTAdPaused",Cs:"VASTAdRequested",Ne:"VASTAdResumed",sa:"VASTAdStarted",Oe:"VASTAdStarting",ob:"VASTAdTimeUpdate",$d:"VASTAdVolumeChanged",Pe:"VASTAdWaiting",Vs:"VASTCompanionAdDied",nn:"VASTCompanionAdStarted",Ha:"VASTAdEngineComplete",Uj:"VASTContentPauseRequested",Eb:"VASTAdImpression"}},function(c,
d,a){var b=a(3)(b||{},{f:{sd:{}}});b.f.sd={Wf:"flash",Ct:"html5",Oh:"o2unit",Vt:"VRM_plgn",kD:"smart",tk:"VDMS"};d.vdb={f:{sd:b.f.sd}};d.default=b.f.sd;d.__esModule=!0},function(c,d,a){var b=a(130);c.exports=function(a,c,d){b(a);if(void 0===c)return a;switch(d){case 1:return function(b){return a.call(c,b)};case 2:return function(b,d){return a.call(c,b,d)};case 3:return function(b,d,h){return a.call(c,b,d,h)}}return function(){return a.apply(c,arguments)}}},function(c,d,a){var b=a(126),n=a(70);c.exports=
function(a){return b(n(a))}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});d.ek=d.Sj=d.sk=d.tn=d.Fn=d.gn=d.nk=d.Uh=void 0;c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(84);c=b(c);var f=a(83),g=b(f);f=a(11);var h=b(f);a=a(28);var e=b(a);a=d.Uh=function(a){function b(c){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,c))}(0,l.default)(b,a);b.prototype.Z=function(a){var b=this.ug();b.url=e.default.trim(h.default.Ca(a));
return b};b.prototype.ug=function(){return new g.default};return b}(c.default);d.nk=new a("Survey");d.gn=new a("Attempt");d.Fn=new a("Impression");d.tn=new a("Error");d.sk=new a("VASTAdTagURI");d.Sj=new a("CompanionClickThrough");d.ek=new a("NonLinearClickThrough")},function(c){c.exports={}},function(c){c.exports=function(c){try{return!!c()}catch(a){return!0}}},function(c,d,a){var b=a(3)(b||{},{A:{Zf:{},Event:{}}});b.A.Event=a(18).vdb.A.Event;b.A.Zf=b.A.Event.extend(function(){return{data:null,Fw:null,
L:function(a,b,c){this._super(a,!0,!0);this.data=b;this.Fw=c}}}());(function(a){a.uk="Reporting.Video.Play";a.AD="Reporting.Video.Decile";a.BD="Reporting.Video.HWM";a.lo="Reporting.RevenueShare";a.Xm="Reporting.Ad.Request";a.Sm="Reporting.Ad.Engine.Request";a.Jj="Reporting.Ad.Engine.Response";a.Rm="Reporting.Ad.Engine.Flow";a.Qb="Reporting.Ad.Interaction";a.pB="Reporting.Ad.Early.Stop";a.Me="Reporting.Ad.Issue";a.an="Reporting.Ad.Slot.Opportunity";a.dc="Reporting.Basic.Display";a.Ya="Reporting.Basic.Click";
a.Ea="Reporting.Basic.Error"})(b.A.Zf);d.vdb={A:{Zf:b.A.Zf}};d.default=b.A.Zf;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{W:{Gb:{},Fb:{},Ac:{}},i:{},Promise:{},g:{}});b.i=a(8).vdb.i;b.W.Fb=a(177).vdb.W.Fb;b.W.Ac=a(364).vdb.W.Ac;b.Promise=a(26).vdb.Promise;b.g=a(7).vdb.g;b.W.Gb=b.i.Class.extend(function(){function a(a){var b=/\(((?:\s*\w*\s*,?)+)\)/g;(b=b.exec(a.toString()))&&(b=b[1].replace(/\s+/g,""));return b&&b.split(",")||[]}function c(a){for(var c=[],f=0,g=a.length;f<g;f++){var h=a[f];
c.push(b.g.Yl(h)?this.aq(h):this.resolve(h))}return d.all(c)}function f(c,e,f){if(f&&e&&e.prototype&&!e.prototype.Bg){try{var k=this.pf(e);this.Ob(c,k)}catch(q){}if(k)return this}k=e.O||a(e);if(this.fg[c]){if(this.Ek)throw Error(c+" can't be provided twice");}else e={Yq:this,kq:k,Hr:e},this.fg[c]=f?new b.W.Ac(e):new b.W.Fb(e);return this}var d=b.Promise;return{L:function(){this.fg={};this.gg={};this.Ek=!0;this.Ob(b.W.Gb.pb,this)},XF:f,Ob:function(a,b){this.gg[a]&&this.Ek||(this.gg[a]=b);return f.call(this,
a,function(){return b})},ca:function(a,b){return f.call(this,a,b,!0)},aq:function(c){c={Yq:this,kq:c.O||a(c),Hr:c};return(new b.W.Ac(c)).ol()},pf:function(b){var c={};(b.O||a(b)||[]).forEach(function(a){c[a]=this.H(a)}.bind(this));return new b(c)},Ul:function(f){if(Array.isArray(f)){var e=b.g.Jw(f);var k=e.pop()}else e=f.O||a(f),k=f;return c.call(this,e).then(function(a){return k.apply(null,a)})},Nw:function(){return new n(this)},cm:function(a){return void 0!==this.fg[a]},resolve:function(a){var c=
this.fg[a];var f=this.fg[a+"Factory"];c?(c=c.ol(),this.gg[a]||c.then(function(b){this.gg[a]=b}.bind(this))):c=f?f.ol().then(function(a){return a()}):d.reject("no such dependency "+a);return d.race([c,b.g.Xz(8E3).catch(function(){throw Error(a+" isn't resolved in 8000ms");})])},hA:c,H:function(a){var b=this.gg[a];if(!b)throw Error("no "+a+" instance created");return b},kG:function(a){a=a||{};this.Ek="undefined"!==typeof a.dx?a.dx:!0}}}());var n=b.W.Gb.extend(function(){return{L:function(a){this._super();
this.Ok=a},cm:function(a){return this._super(a)||this.Ok.cm(a)},resolve:function(a){return this._super(a).catch(function(b){if(/no such dependency/.exec(b))b=this.Ok.resolve(a);else throw b;return b}.bind(this))},H:function(a){try{return this._super(a)}catch(l){return this.Ok.H(a)}}}}());b.W.Gb.pb="injector";d.vdb={W:{Gb:b.W.Gb}};d.default=b.W.Gb;d.__esModule=!0},function(c){c.exports=function(c,a){return{enumerable:!(c&1),configurable:!(c&2),writable:!(c&4),value:a}}},function(c,d,a){c.exports={"default":a(282),
__esModule:!0}},function(c,d,a){var b=a(3)(b||{},{ha:{Ra:{}}});b.ha.Ra={lB:"adminibar",mB:"adminibar_opacity",vB:"aggressiveAdMode",xB:"animated_poster_text",yB:"arr",AB:"autoplayinview",Pj:"beoncw",Os:"beonvid",CB:"bigPlayPauseButton",EB:"carousel",JB:"centeredFishEye",KB:"channel",Ts:"chromeMode",MB:"clickurl",PB:"csaccid",QB:"csc4",it:"disable_3p",RB:"disable360poster",SB:"disableads",TB:"disabledcr",UB:"disableadspreloading",gt:"disableFlashAd",VB:"disableFullscreenButton",ht:"disable_moat",XB:"discovery_page_preview",
$B:"enable_subscript",dC:"fishEyeAngle",gC:"forcereactions",hC:"force_nielsen_dar",iC:"force_nielsen_ocr",jC:"fwsitesection",lC:"hideDuration",mC:"hideskin",qC:"initialVolume",tC:"iosapp",uC:"isResponsive",vC:"languageAutoDetection",wC:"lightbox",xC:"loadingplaceholder",yC:"loadTimeLimit",CC:"360mobile",EC:"oathHlsJs",FC:"onLoad",HC:"paid_p",IC:"pauseIfScrolledAway",JC:"pauseIfOutOfTab",KC:"pct",MC:"playback",PC:"posterstyle",QC:"postertype",au:"prebid_js",TC:"prebid_bidder",UC:"prebid_placement_id",
$t:"prebid_ad_server",bu:"prebid_params",WC:"previewposter",XC:"pt",cD:"reward",iD:"showVpaidControls",gD:"selectResolution",jD:"sid",oo:"sound",mD:"subscript_language",oD:"tilt",pD:"timelinepreview",qD:"timeline_preview_border",rD:"timeline_preview_shape",uD:"upnext",URL:"url",vD:"vid",KD:"vls.ad",MD:"vrm_2_0",ND:"vrsplit",WB:"disablevolumecookies"};d.vdb={ha:{Ra:b.ha.Ra}};d.default=b.ha.Ra;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{f:{oh:{}}});b.f.oh={nt:"VIDEO",Dt:"IMA",co:"PREBID",yo:"VAST",
wt:"GEMINI"};d.vdb={f:{oh:b.f.oh}};d.default=b.f.oh;d.__esModule=!0},function(c,d,a){var b=a(200)(!0);a(102)(String,"String",function(a){this.nc=String(a);this.lc=0},function(){var a=this.nc,c=this.lc;if(c>=a.length)return{value:void 0,done:!0};a=b(a,c);this.lc+=a.length;return{value:a,done:!1}})},function(c,d,a){var b=a(127),n=a(73);c.exports=Object.keys||function(a){return b(a,n)}},function(c,d,a){var b=a(70);c.exports=function(a){return Object(b(a))}},function(c,d,a){var b=a(20).U,n=a(36),m=a(15)("toStringTag");
c.exports=function(a,c,d){a&&!n(a=d?a:a.prototype,m)&&b(a,m,{configurable:!0,value:c})}},function(c){var d=0,a=Math.random();c.exports=function(b){return"Symbol(".concat(void 0===b?"":b,")_",(++d+a).toString(36))}},function(c,d,a){var b=a(71),n=Math.min;c.exports=function(a){return 0<a?n(b(a),9007199254740991):0}},function(c){c.exports=!0},function(c,d,a){var b=a(3)(b||{},{ads:{qh:{}}});b.ads.qh={LOADED:"loaded",Po:"win",ku:"starting",STARTED:"started",Ss:"boost",FINISHED:"finished",On:"killed",iu:"skipped",
Vf:"failover",lt:"early-stop",gu:"site-mismatch",md:"q1",Rh:"q2",wd:"q3",Nt:"non-linear"};d.vdb={ads:{qh:b.ads.qh}};d.default=b.ads.qh;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(107);a=function(a){function b(){(0,n.default)(this,b);var c=(0,m.default)(this,a.call(this));c.Vp=[];c.Qg=[];c.Pd=[];c.duration=null;c.Wd=!1;c.Bj=null;c.Aj=null;c.parameters=null;
c.cb=null;c.Sw=null;return c}(0,l.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(6);c=b(c);a=a(13);a=b(a);var f=c.default.B("CompanionShowEvent");a=function(a){function b(c,k){(0,n.default)(this,b);f.debug("init",c,"childEvent",k);c=(0,m.default)(this,a.call(this,b.wh,c));c.Ii=k instanceof b?k.Ii.slice(0):[];return c}(0,l.default)(b,
a);b.prototype.clone=function(){f.debug("clone");return new b(this.Dg(),this)};return b}(a.default);d.default=a;a.wh="VASTEventCompanionShow"},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(4);c=b(c);var f=a(13),g=b(f);f=a(37);var h=b(f);f=a(18);var e=b(f);f=a(17);f=b(f);a=a(25);var k=b(a),p=/^((http[s]?|ftp):\/)?\/?([^:\/\s]+)((\/\w+)*\/)o2shim/i,q=(0,c.default)(),u=(0,c.default)(),
r=(0,c.default)();a=function(a){function b(c){(0,n.default)(this,b);var e=(0,m.default)(this,a.call(this));e.F=c;e[q]=[];return e}(0,l.default)(b,a);b.prototype.De=function(){this.l.lF=this.F.getCurrentTime()};b.prototype.load=function(){this.element=this.createElement()};b.prototype.Sg=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=this.l.Na;a.duration=b.duration;a.skippable=b.Wd||!1;a.skipOffsetTime=b.Bj||null;a.skipOffsetPercent=b.Aj||null;(b=this.l.ad?this.l.ad.wb:
null)&&(a.sequence=b);this.F&&this.F.cx();this.rq(a);this.l.dispatchEvent(new e.default(h.default.sa,a))};b.prototype.rq=function(a){this[u]||(this.l.dispatchEvent(new e.default(h.default.Oe,a)),this[u]=!0)};b.prototype.Td=function(){this.dg||(this.dg=!0,this.l.hj(),this.l.tf(g.default.Eb),this.track(k.default.Vj))};b.prototype.Dj=function(a){.25<a&&this.Xa(k.default.md);.5<a&&this.Xa(k.default.ck);.75<a&&this.Xa(k.default.wd)};b.prototype.stop=function(){this.l.complete(!0)};b.prototype.Da=function(){this.l.stop()};
b.prototype.track=function(a,b){this.l.Mi(a,b)};b.prototype.Xa=function(a){a===k.default.Ha&&!this[r]||-1!==this[q].indexOf(a)||(this[q].push(a),this.track(a,void 0))};b.prototype.er=function(){return p.test(this.oc)};b.prototype.resize=function(){};b.prototype.invokeAdMethod=function(){};b.prototype.setVolume=function(){};b.prototype.resume=function(){};b.prototype.pause=function(){};b.prototype.getCurrentTime=function(){var a=this.Pc(),b=this.getDuration();return 0<b&&0<a?b-a:0};b.prototype.Pc=
function(){return-1};b.prototype.getDuration=function(){return-1};b.prototype.vj=function(){this[r]=!0};b.prototype.nj=function(){return this[r]};return b}(f.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(13);a=function(a){function b(c,e,f){(0,n.default)(this,b);e=(0,m.default)(this,a.call(this,b.Ue,e,null));e.uc=c;e.data=f||{};return e}(0,l.default)(b,
a);b.prototype.clone=function(){return new b(this.uc,this.Dg(),this.data)};b.prototype.toString=function(){return"VideoTrackingEvent{trackingType="+this.uc+", recordCount="+this.Lc.length+"}"};return b}(b(a).default);d.default=a;a.Ue="VASTEventVideoTracking"},function(c,d,a){var b=a(3)(b||{},{Ga:{Error:{},kk:{},qk:{},gk:{}},i:{}});b.i=a(8).vdb.i;b.Ga.Error=b.i.Class.extend(function(){return{L:function(a,b){this.message=a||"";this.code=b},toString:function(){return"Error{message="+this.message+"}"}}}());
b.Ga.kk=b.Ga.Error.extend({L:function(a,b){this._super(a);this.code=b}});b.Ga.qk=b.Ga.Error.extend({Em:0,L:function(a,b){this._super(a);this.Em=b}});b.Ga.gk=b.Ga.Error.extend({});d.vdb={Ga:{Error:b.Ga.Error,kk:b.Ga.kk,qk:b.Ga.qk,gk:b.Ga.gk}};d.default=b.Ga.Error;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){k.call(this,w.default.yk);l.call(this,new x.default("Loading timeout "+a+" ms is exceeded",a),w.default.yk)}function m(a,b,c){var e=this[W];
this[W]=null;F.debug("failOver",a,e);c=c||w.default.At;e?("VAST ajax error"===a&&k.call(this,c),0===e.ads.length&&e.parent&&(a=e.mm,b=new v.default(v.default.Ea,null,null,{error:c}),a.dispatchEvent(b),this[K].Tg(b),e=e.parent,this[W]=e),this[J]===e.ads[0]&&e.ads.shift(),this.Gf(e,!0)):l.call(this,a+(b?" ("+b+")":""),c)}function l(a,b){F.warn("interruptOnError",a);clearTimeout(this[T]);this[T]=null;var c=a instanceof x.default?a.message:a;a=a instanceof x.default?a.Em:null;b=new t.default(c,c===P?
t.default.fu:t.default.Sh,a,a?w.default.yk:b);this.dispatchEvent(y.In,b)}function f(a,b){function c(b){b=b.ds;this[N].dispatchEvent(new z.default(S,{ad:this[E],url:f}));if(a||!g.call(this,b,k)){var c=w.default.vn;b?c=w.default.us:C.default.Ee()&&0!==f.indexOf("https:")&&(c=w.default.ju);m.call(this,"VAST ajax error",b?"request timeout over "+k+"ms":null,c)}}function e(c){this[N].dispatchEvent(new z.default(S,{ad:this[E],url:f}));var e=c.data;e||(e=c.text);H.default.Wc(c.text)?m.call(this,"Empty VAST error",
null,w.default.ot):null===this[T]||this.xr(e,b,a,f)}var f=a||this[E]&&this[E].getUrl();f=this[N].Qc().resolve(f);var k=this[E]&&!a?this[E].Kl(f):this[R];C.default.Ee()&&(f=H.default.Or(f,"http://","https://"));f=H.default.Or(f,"#",encodeURIComponent("#"));this[N].dispatchEvent(new z.default(ia,{ad:this[E],url:f}));A.default.Pl(f,{timeout:k,withCredentials:!0}).then(e.bind(this),function(b){this[E]&&this[E].Xy()&&!a?c.call(this,b):(this[V].Zd("ad",null,"Failed VAST request with Credentials"),A.default.Pl(f,
{timeout:k}).then(e.bind(this),c.bind(this)))}.bind(this))}function g(a,b){return this[E]&&this[E].Bm()?(this[V].Zd("ad",null,"switching to the next ad in [urls] in the same entry."+(a?" Because of timeout ("+b+")":"")),f.call(this,null),!0):!1}function h(a){a.ads.sort(function(a,b){return a.wb-b.wb})}function e(a){clearTimeout(this[T]);this[T]=null;this.dispatchEvent(y.on,a)}function k(a){this[J]&&(this.dispatchEvent(y.Me,a),this[J].Xw(this[K],a))}Object.defineProperty(d,"__esModule",{value:!0});
d.Bo=d.zo=d.Ao=d.St=void 0;c=a(0);var p=b(c);c=a(2);var q=b(c);c=a(1);var u=b(c);c=a(4);c=b(c);var r=a(91),t=b(r),y=a(113);r=a(19);var w=b(r);r=a(13);var v=b(r);r=a(169);var A=b(r);r=a(5);var D=b(r);r=a(62);var x=b(r);r=a(18);var z=b(r);r=a(17);r=b(r);var G=a(6);G=b(G);var B=a(27),C=b(B);a=a(28);var H=b(a),F=G.default.B("VastLoader"),E=(0,c.default)(),Q=(0,c.default)(),R=(0,c.default)(),K=(0,c.default)(),M=(0,c.default)(),N=(0,c.default)(),V=(0,c.default)(),O=(0,c.default)(),W=(0,c.default)(),J=(0,
c.default)(),T=(0,c.default)();a=function(a){function b(c){(0,p.default)(this,b);var e=(0,q.default)(this,a.call(this));e[E]=c.ad;e[Q]=c.cB;e[R]=c.uz;e[K]=c.hx;e[N]=c.u;c=e[N].ia();e[M]=c.H(D.default.ya);e[V]=c.H(D.default.Pa);e[O]=0;return e}(0,u.default)(b,a);b.prototype.Sl=function(){this[O]=0};b.prototype.Nf=function(){var a=this[E]?this[E].Bl():this[R];this[T]=window.setTimeout(n.bind(this,a),a)};b.prototype.xr=function(a,b,c,e){F.debug("parseAndProcess",a);try{var f=this[Q].parse(a);f.Cm=e;
b&&b(f);this.Gf(f,null,0,e)}catch(Ha){!c&&g.call(this)||m.call(this,Ha.message,null,Ha||w.default.Co)}};b.prototype.Gf=function(a,b){var c=this,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,g=arguments[3];F.debug("processModel",a);if(0===a.ads.length)a.Ga.forEach(function(a){c[V].nf(a.url.replace(/\[ERRORCODE\]|%5BERRORCODE%5D|\{errNo\}/g,"303"))}),(d=0<this[O]&&w.default.Qt)?k.call(this,d):d=w.default.Rt,m.call(this,P,null,d);else{b||h(a);var p=a.ads[d];this[N].dispatchEvent(new z.default(ba,
{ad:p,ql:this[E],js:g}));p.oj?(this[W]=a,this[J]=a.ads.splice(d,1)[0],this[O]+=1,8>=this[O]?(p.Ww(this[K]),f.call(this,p.Up.url,function(b){p.xw(b);p.Yz(b,c[J]);b.parent=a;b.mm=p})):(this[W]=null,k.call(this,w.default.Qo),m.call(this,"Max number of wrapper redirects 8 is exceeded",null,w.default.Qo))):e.call(this,a)}};b.prototype.Uz=function(a,b){this.Gf(a,void 0,b)};b.prototype.load=function(a){this.Sl();this.Nf();f.call(this,a)};b.prototype.Uw=function(){--this[O]};return b}(r.default);d.default=
a;var P=d.St="No ads provided",ia=d.Ao="VastLoader.Vast.Loading",S=d.zo="VastLoader.Vast.Loaded",ba=d.Bo="VastLoader.Vast.ProcessAd"},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={Kn:"AdSystem.InvokeAdMethod",LINEAR_CHANGE:"AdSystem.LinearChange",Se:"AdSystem.Resize"}},function(c,d,a){var b=a(3)(b||{},{b:{na:{},X:{}}});b.b.X=a(27).vdb.b.X;b.b.na=function(){function a(a){try{var b=a.document.hasFocus&&a.document.hasFocus()}catch(q){}return b}function c(){return!(!a(d.Tc())&&
!a(d.Tc().top))}var d=b.b.X,f=["","webkit","moz","ms","o"],g=Array(f.length),h=Array(f.length),e=Array(f.length);(function(){for(var a=0;a<f.length;a++){var b=f[a];g[a]=b?b+"VisibilityState":"visibilityState";h[a]=b?b+"Hidden":"hidden";e[a]=b+"visibilitychange"}})();return{hasFocus:c,rc:function(){var a;if(!(a=!!c())){var b;for(a=0;a<h.length;a++)void 0!==d.Tc().document[h[a]]&&(b=d.Tc().document[h[a]]);a=!1===b}if(!(b=a)){var e;for(b=0;b<g.length;b++)d.Tc().document[g[b]]&&(e=d.Tc().document[g[b]]);
b="visible"===e}return b},aF:function(){for(var a,b=0;b<h.length;b++)void 0!==d.Tc().document[h[b]]&&(a=e[b]);return a}}}();d.vdb={b:{na:b.b.na}};d.default=b.b.na;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{hb:{},M:{}},g:{},log:{},Sa:{}});b.g=a(7).vdb.g;b.log=a(6).vdb.log;b.Sa=a(35).vdb.Sa;b.b.M=a(12).vdb.b.M;b.b.hb=function(){var a=b.log.B("vdb.utils.Common"),c=document.createElement("video");return{Cy:function(){return c},rF:function(a,b){for(;a&&"html"!==a.tagName.toLowerCase();){if(a===
b)return!0;a=a.parentNode}return!1},tF:"undefined"!==typeof document.execCommand,RE:function(a){var b={top:0,left:0};var c=a&&a.ownerDocument;if(c){c=c.documentElement;void 0!==a.getBoundingClientRect&&(b=a.getBoundingClientRect());var d={top:b.top+(window.pageYOffset||c.scrollTop)-(c.clientTop||0),left:b.left+(window.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}}return d},show:function(a){a=b.g.Xd(a);for(var c=0;c<a.length;++c)"none"===a[c].style.display&&(b.g.kj&&a[c].style.removeProperty("display"),
a[c].style.display=null),"hidden"===a[c].style.visibility&&(b.g.kj&&a[c].style.removeProperty("visibility"),a[c].style.visibility=null),"none"===getComputedStyle(a[c]).display&&(a[c].style.display="block"),"hidden"===getComputedStyle(a[c]).visibility&&(a[c].style.visibility="visible")},yf:function(a,c){a=b.g.Xd(a);for(var f=0;f<a.length;++f)c?a[f].style.visibility="hidden":a[f].style.display="none"},toggle:function(a,c){c?b.b.hb.show(a):b.b.hb.yf(a)},vF:function(a){return!("none"!==a.style.display&&
"hidden"!==a.style.visibility)},rx:function(a,b,c){var f=Math.round(a),e=~~(f/3600),d=f-3600*e;f=~~(d/60);a=c?+(a%1).toFixed(3).substring(2):0;c=~~(d-60*f)-(500<a?1:0);return(0<e||b?(10>e?"0":"")+e+":":"")+(10>f?"0":"")+f+":"+(10>c?"0":"")+c+(a?"."+a:"")},wr:function(c){b.g.oz(c)?window.open(c,"_blank"):a.error("Failed to open new tab due to invalid url",c)},DF:"webkitEnterFullScreen"in document.createElement("video"),JE:function(a){return a[Object.keys(a)[0]]},PE:function(a){return Object.keys(a).length},
Lp:function(a,b,c){return a+(-1<a.indexOf("?")?"&":"?")+b+"="+c},XE:function(a,c,d,h){if(c){var e=b.b.M.yr(c).origin;-1<e.indexOf("vidible.tv")&&(a=c.replace(e,"${imageservice.url}"),a=this.Lp(a,"w",Math.min(d,4096)),a=this.Lp(a,"h",Math.min(h,2160)))}if(!a)return c;if(-1===a.indexOf("thumbnails.5min.com"))return a;c="_"+d+"_"+h;d=a.split("/");h=d.pop().split(".");e="."+h.pop();h=h.pop().split("_");return 2>h.length?a:d.join("/")+"/"+h.slice(0,2).join("_")+c+e},gF:function(a){a=a.toString(16);for(var b=
[];6>a.length+b.length;)b.push("0");return"#"+b.join("")+a},nG:function(a){for(var b=a.length-1;0<b;b--){var c=~~(Math.random()*(b+1)),d=a[b];a[b]=a[c];a[c]=d}return a},YF:function(a,b,c){var f=[];if(c)for(var e=0;e<c.length;++e){var d=c[e];f.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d]))}else for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&f.push(encodeURIComponent(e)+"="+encodeURIComponent(a[e]));return(b?"":"?")+f.join("&")},WE:function(a,b){if(!b||0===b.length)return a;var c=b.length,
f={},e;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&0===e.indexOf(b)&&(f[e.substring(c)]=a[e]);return f},sG:function(a,b,c){var f=new Image;f.crossOrigin="Anonymous";f.onload=function(){var a=document.createElement("CANVAS"),f=a.getContext("2d");a.height=this.height;a.width=this.width;f.drawImage(this,0,0);a=a.toDataURL(c);b(a)};f.src=a},zz:function(a,c){var f=document.createEvent("Events");f.initEvent(a,!0,!0);b.g.Ua(c,f);return f},iG:function(a,b){a.dispatchEvent(this.zz("keydown",{keyCode:b,
which:b}))},kF:function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a},pF:function(a){if("BODY"===a.nodeName)return!1;for(var b=a,c=!1;(b=b.parentNode)&&"BODY"!==b.nodeName;)if("hidden"===window.getComputedStyle(b).overflow){c=!0;break}return c?(a=a.getBoundingClientRect(),b=b.getBoundingClientRect(),a.left<b.right&&a.top<b.bottom):!1},BF:function(a){return"touch"===a.pointerType},isSupported:function(a){return!!this.Lx(a)},xF:function(){return this.isSupported("application/vnd.apple.mpegurl")},
Lx:function(a){var b=this.Cy();try{return b&&"function"===typeof b.canPlayType&&(!a||b.canPlayType(a))}catch(g){return!1}},Tw:function(a,b,c){var f;return function(){var e=this,d=arguments,p=c&&!f;clearTimeout(f);f=setTimeout(function(){f=null;c||a.apply(e,d)},b);p&&a.apply(e,d)}}}}();d.vdb={b:{hb:b.b.hb}};d.default=b.b.hb;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);
var l=b(c);c=a(4);c=b(c);a=a(103);a=b(a);var f=(0,c.default)(),g=(0,c.default)(),h=(0,c.default)();a=function(a){function b(c,e,d,k,l){(0,n.default)(this,b);c=(0,m.default)(this,a.call(this,c,e));c[f]=k;c[g]=l;c[h]=d;return c}(0,l.default)(b,a);b.prototype.Dy=function(){return this[f]};b.prototype.vy=function(){return this[g]};b.prototype.Cx=function(){return this[h]};b.prototype.clone=function(){return new b(this.type,this.data,this[h],this[f],this[g])};return b}(a.default);d.default=a;a.LOADING=
"EntriesManagerEvent.LOADING";a.LOADED="EntriesManagerEvent.LOADED";a.ae="EntriesManagerEvent.FAILED"},function(c,d,a){function b(){var c=a(104)("iframe"),e=f.length;c.style.display="none";a(195).appendChild(c);c.src="javascript:";c=c.contentWindow.document;c.open();c.write("<script>document.F=Object\x3c/script>");c.close();for(b=c.Sb;e--;)delete b.prototype[f[e]];return b()}function n(){}var m=a(31),l=a(198),f=a(73),g=a(69)("IE_PROTO");c.exports=Object.create||function(a,c){if(null!==a){n.prototype=
m(a);var e=new n;n.prototype=null;e[g]=a}else e=b();return void 0===c?e:l(e,c)}},function(c,d,a){var b=a(74)("keys"),n=a(54);c.exports=function(a){return b[a]||(b[a]=n(a))}},function(c){c.exports=function(c){if(void 0==c)throw TypeError("Can't call method on  "+c);return c}},function(c){var d=Math.ceil,a=Math.floor;c.exports=function(b){return isNaN(b=+b)?0:(0<b?a:d)(b)}},function(c,d,a){var b=a(3)(b||{},{b:{yd:{}}});b.b.yd=function(){return{ub:function(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,
"\\]");a=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(b);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))}}}();d.vdb={b:{yd:b.b.yd}};d.default=b.b.yd;d.__esModule=!0},function(c){c.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(c,d,a){d=a(14);var b=a(23),n=b["__core-js_shared__"]||(b["__core-js_shared__"]={});(c.exports=function(a,b){return n[a]||(n[a]=void 0!==b?b:{})})("versions",[]).push({version:d.version,
mode:a(56)?"pure":"global",iE:"\u00a9 2018 Denis Pushkarev (zloirock.ru)"})},function(c){var d={}.toString;c.exports=function(a){return d.call(a).slice(8,-1)}},function(c,d,a){var b=a(3)(b||{},{b:{Tb:{}}});b.b.Tb=function(a){return{Rc:function(b){var c=b||a;b=this.Eg(c);c=c&&c.location&&c.location.ancestorOrigins;return b===a.top?b.location.href:c&&1<c.length?c[c.length-1]:b.document&&b.document.referrer||b.location.href},Eg:function(b){for(b=b||a;b;)try{var c=b.parent;if(!c.document)break;b=c;if(c===
c.parent)break}catch(f){break}return b},bj:function(b){b=b||a;try{return b.parent}catch(l){}return null},Ee:function(){return-1===(a.location.protocol||this.Rc()||"").indexOf("http:")}}}(window);d.vdb={b:{Tb:b.b.Tb}};d.default=b.b.Tb;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{f:{Dc:{}}});b.f.Dc={qs:["[ADAP_VIEWABLE_OPPORTUNITY]"],rs:["{adNumber}"],Is:["[APID]"],Js:["[ASSETURI]"],Ks:["|ap|","[AUTOPLAY]","[AUTO_INITIATION]"],Pj:["|beoncw|","[BEON_CW]"],Ps:["|beonvid|","[BEON_VIDEO_ID]"],Qs:["[BID]"],
kn:["[cachebuster]","[CACHEBUSTER]","[CACHE_BUSTER]","[CACHE_BREAKER]","[CACHEBUSTING]"],Ws:["[container_height]","[CONTAINER_HEIGHT]"],Xs:["[container_width]","[CONTAINER_WIDTH]"],Ys:["[CONTENTPLAYHEAD]"],Zs:["[DEPTH]"],$s:["[DE_RSS_ID]"],bt:["|DE_URL|","[DE_URL]"],jt:["[DOMAIN_ROOT]"],kt:["[DOMAIN_NAME]"],mt:["[ECPM]"],rt:["[FLASH_SUPPORT]"],tt:["[P_VW_ACTIVE]","<a.active>"],Kt:["[LOCATION_LAT]"],Lt:["[LOCATION_LON]"],Hb:["[MOAT_PREBID]"],Mt:["|muted|","[MUTED]"],Ut:["[MCC]","[MNC]","[APPNAME]"],
Wt:["[PID]"],NC:["[PLAYER_COMPANY_ID]"],Xn:["[P_VW_SIZE]","<a.psize>"],eu:["[RSS_ID]"],mu:["[timestamp]","[TIMESTAMP]"],qu:["[USER_AGENT]"],uu:["[VIDEO_DESCRIPTION]","VIDEO_DESCRIPTION"],vu:["[VIDEO_DETAIL_PAGE]","VIDEO_DETAIL_PAGE"],wu:["[VIDEO_DURATION]","VIDEO_DURATION"],xu:["[VIDEO_FILE_URL]"],yu:["[video_height]","[VIDEO_HEIGHT]"],zu:["[VIDEO_ID]","VIDEO_ID"],Au:["[VIDEO_KEYWORDS]","VIDEO_KEYWORDS"],Cu:["|%|","[VIDEO_PERCENT]"],Eu:["[VIDEO_TITLE]","VIDEO_TITLE"],Fu:"VIDEO_URL |URL| [CONTENT_URL] EMBEDDING_PAGE_URL [URL] [A_D_PAGEURL]".split(" "),
Gu:["[video_width]","[VIDEO_WIDTH]"],Hu:["[P_VW_VIEWABLE]","<a.viewable>"],Iu:["[P_VW_VIEWABLE_OPPORTUNITY]","<a.viewableOpportunity>"],Qu:["[VVUID]"],oo:["[SOUND]"],ws:["[AD_DURATION]","{ad_duration}"],ys:["[ERRORCODE]","{errNo}","%5BERRORCODE%5D"],qt:["[EUCONSENT]","EUCONSENT","[GDPR_CONSENT]"],vt:["[GDPR]","GDPR"],Zt:["[PLAYLIST_SEQUENCE]"],Ht:["[OATH_FIRSTPARTY]","OATH_FIRSTPARTY"]};c=b.f.Dc;a={};for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(a[n]=c[n][0]);c.placeholder=a;d.vdb={f:{Dc:b.f.Dc}};
d.default=b.f.Dc;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{Ab:{},i:{},Promise:{},hc:{},b:{Sd:{}}});b.i=a(8).vdb.i;b.Promise=a(26).vdb.Promise;b.hc=a(179).vdb.hc;b.b.Sd=a(367).vdb.b.Sd;b.Ab=b.i.Class.extend(function(){return{L:function(a){this.kb=this.wi=a},mG:function(a){this.kb=a},$z:function(a,b){a.removeAttribute(b)},sg:function(a,b,c){if(void 0===c)return a.getAttribute(b);null===c?this.$z(a,b):a.setAttribute(b,c)},hp:function(a,b,c){var f="TABLE"===a.nodeName,d=this.kb.createElement("div");
d.innerHTML="<"+a.nodeName+">"+b+"</"+a.nodeName+">";c(f?a.lastChild:a,f?d.lastChild.lastChild:d.lastChild)},Kz:function(a){var b=this.kb.createElement("div");b.innerHTML=a;return b.lastChild},ep:function(a){for(var c="",d=0,f;null!=(f=a[d++]);)f.nodeType===b.hc.TEXT_NODE||f.nodeType===b.hc.CDATA_SECTION_NODE?c+=f.nodeValue:f.nodeType!==b.hc.COMMENT_NODE&&(c+=this.ep(f.childNodes));return c},replace:function(a,b){this.hp(a,b,function(b,c){a.replaceChild(c,b);return b})},append:function(a,b){this.hp(a,
b,function(a,b){a.appendChild(b.firstChild);return b.firstChild})},Vc:function(a,b){if(null===b||void 0===b)return a.innerHTML;try{a.innerHTML=b}catch(l){this.replace(a,b)}return null},text:function(a,b){if(null===b||void 0===b)return this.ep([a]);this.empty(a);a.appendChild(this.kb.createTextNode(b));return null},empty:function(a){if(a&&a.removeChild)for(;a.firstChild;)a.removeChild(a.firstChild)},createElement:function(a){return this.kb.createElement(a)},createDocumentFragment:function(){return this.kb.createDocumentFragment()},
Zi:function(a){a=a||this.kb;return a.head||a.getElementsByTagName("head")[0]},Zo:function(a,b,c,f){var d=this.createElement("script");this.sg(d,"type","text/javascript");for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&this.sg(d,h,f[h]);c&&this.sg(d,"async","true");a&&this.sg(d,"src",a);b&&this.sg(d,"crossorigin","anonymous");return d},Ng:function(a,c,d,f){function g(){h.onload=function(){};h.onerror=function(){};h.onreadystatechange=function(){};e.removeChild(h)}a&&0===a.indexOf("//")&&
0!==window.location.protocol.indexOf("http")&&(a="https:"+a);var h=this.Zo(a,c,d,f),e=this.Zi(this.wi);a=new b.Promise(function(a,b){h.onload=a;h.onerror=b});h.onreadystatechange=function(){if("complete"===h.readyState||"loaded"===h.readyState)h.onload()};a.then(g,g);e.appendChild(h);return a},Py:function(a){var b=this.Zo();this.text(b,a);this.Zi().appendChild(b);return b},OE:function(a,b,c){var f="VDBCallback"+Math.round(1E4*Math.random()),d=c||this.wi&&this.wi.defaultView||window;d[f]=function(){"function"===
typeof b&&b.apply({},arguments);try{delete d[f]}catch(h){d[f]=void 0}};this.Ng(a.replace("[callback]",f))},EF:function(a){var b=this.kb.createElement("link");this.Zi().appendChild(b);b.rel="stylesheet";b.type="text/css";b.href=a},uf:function(a,c){c=c||this.Zi();var d=b.b.Sd.hash(a)+"-style";if(!this.kb.getElementById(d)){var f=this.kb.createElement("style");f.setAttribute("id",d);f.type="text/css";f.appendChild(this.kb.createTextNode(a));c.appendChild(f)}return d},oE:function(a,b){this.uf(a,b)},kE:function(a){var b=
this.kb.createElement("img");b.src=a;return b},jE:function(a){var b=this.kb.createElement("div");null!==a&&void 0!==a&&(b.className=a);return b},log:function(a){this.je||(this.je=this.kb.createElement("div"),this.je.style.position="fixed",this.je.style.top="0px",this.je.style.left="0px",this.wi.getElementsByTagName("body")[0].appendChild(this.je));this.je.innerHTML=a+"<br>"+this.je.innerHTML},iF:function(){this.uf("${hide-video-element-controls.css}")}}}());d.vdb={Ab:b.Ab};d.default=b.Ab;d.__esModule=
!0},function(c,d,a){var b=a(3)(b||{},{b:{J:{Ba:{}},na:{}},i:{},f:{j:{}}});b.b.na=a(65).vdb.b.na;b.i=a(8).vdb.i;b.f.j=a(5).vdb.f.j;b.b.J.Ba=b.i.Class.extend(function(){return{L:function(a){this.sb=a[b.f.j.he]},Xc:function(a){this.sb=a},rc:function(){return b.b.na.rc()},ra:function(){},Be:function(){var a=this.ra();return this.sb&&-1!==a?!this.rc()||50>a?0:1:-1}}}(),[b.f.j.he]);d.vdb={b:{J:{Ba:b.b.J.Ba}}};d.default=b.b.J.Ba;d.__esModule=!0},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});
var b=(c=a(0))&&c.__esModule?c:{default:c},n=(a=a(11))&&a.__esModule?a:{default:a};a=function(){function a(c){(0,b.default)(this,a);c&&(this.type=c.getAttribute("type"),this.value=n.default.Ca(c))}a.prototype.ma=function(a,b){this.Wa=a;this.u=b;this.gm=b.Qc()};a.prototype.ga=function(){this.value=this.gm.resolve(this.value);(new Image).src=this.value};return a}();d.default=a},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={Nm:"ad_chromes",kB:"adaptv_error",ln:"vidible_captions",
rn:"one_video_custom_tracking_beacons",Cn:"adaptv_iab_viewable_beacons",Jn:"one_video_inventory_attributes",Pn:"o2Player_leaveBehind",hk:"one_video_feacons",mo:"adaptv_scripts",uo:"vidible_360",vo:"adaptv_timeout_beacons"}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});d.fk=d.Tj=d.Wj=d.Rj=d.Qj=d.Ln=void 0;c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(41);a=a(149);var f=b(a);a=d.Ln=function(a){function b(c){(0,n.default)(this,
b);return(0,m.default)(this,a.call(this,c))}(0,l.default)(b,a);b.prototype.Z=function(b){var c=a.prototype.Z.call(this,b);c.id=b.getAttribute("id");return c};b.prototype.ug=function(){return new f.default};return b}(c.Uh);d.Qj=new a("ClickThrough");d.Rj=new a("ClickTracking");d.Wj=new a("CustomClick");d.Tj=new a("CompanionClickTracking");d.fk=new a("NonLinearClickTracking")},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));
d.default=function l(a){(0,b.default)(this,l);this.url=a}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(151);c=b(c);a=a(11);var f=b(a);a=function(a){function b(c){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,c))}(0,l.default)(b,a);b.prototype.Lf=function(a){return a&&a.nodeName===this.Nd()&&f.default.Ly(a)};return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(107);a=function(a){function b(){(0,n.default)(this,b);var c=(0,m.default)(this,a.call(this));c.Ki=[];c.Xk="";c.required=null;return c}(0,l.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(17);
a=function(a){function b(c,e){(0,n.default)(this,b);var f=(0,m.default)(this,a.call(this));f.pa=c;f.li=e;return f}(0,l.default)(b,a);b.prototype.K=function(){var a=[this.li].concat(Array.prototype.slice.call(arguments));try{return this.pa.K.apply(this.pa,a)}catch(e){}this.dispatchEvent(b.Tf)};b.prototype.addEventListener=function(c,e){c===b.Tf?a.prototype.addEventListener.call(this,c,e):this.pa.addEventListener(this.li,c,e)};b.prototype.removeEventListener=function(c,e){c===b.Tf?a.prototype.removeEventListener.call(this,
c,e):this.pa.removeEventListener(this.li,c,e)};return b}(b(a).default);d.default=a;a.Tf="FlashObjectWrapper.CRITICAL_ERROR"},function(c){function d(a,b){var c=a[1]||"",d=a[3];return d?b&&"function"===typeof btoa?(a="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(d))))+" */",b=d.pG.map(function(a){return"/*# sourceURL="+d.oG+a+" */"}),[c].concat(b).concat([a]).join("\n")):""+c:c}c.exports=function(a){var b=[];b.toString=function(){return this.map(function(b){var c=
d(b,a);return b[2]?"@media "+b[2]+"{"+c+"}":c}).join("")};b.qc=function(a,c){"string"===typeof a&&(a=[[null,a,""]]);for(var d={},f=0;f<this.length;f++){var g=this[f][0];"number"===typeof g&&(d[g]=!0)}for(f=0;f<a.length;f++)g=a[f],"number"===typeof g[0]&&d[g[0]]||(c&&!g[2]?g[2]=c:c&&(g[2]="("+g[2]+") and ("+c+")"),b.push(g))};return b}},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={Wf:"application/x-shockwave-flash",xn:"video/x-flv",Mn:"application/javascript",Nn:"application/x-javascript",
pu:"uplynk/m3u8"}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(6);c=b(c);a=a(13);a=b(a);var f=c.default.B("CompanionTrackingEvent");a=function(a){function b(c,d,p){(0,n.default)(this,b);f.debug("init",c,d,p);d=(0,m.default)(this,a.call(this,b.xh,d,null));d.uc=c;d.Xp=p;return d}(0,l.default)(b,a);b.prototype.clone=function(){f.debug("clone");return new b(this.uc,this.Dg(),
this.Xp)};return b}(a.default);d.default=a;a.xh="VASTEventCompanionTracking"},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.Fh=d.Ih=d.Yf=void 0;var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));c=function l(a){(0,b.default)(this,l);this.type=a};d.Yf=new c("STATIC");d.Ih=new c("IFRAME");d.Fh=new c("HTML")},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=
b(c);a=a(62);a=function(a){function b(c,e,f,d){(0,n.default)(this,b);c=(0,m.default)(this,a.call(this,c));c.severity="undefined"===typeof e?b.Sh:e;c.timeout=f;c.ac=d;return c}(0,l.default)(b,a);return b}(b(a).default);d.default=a;a.fu=0;a.Sh=1;a.hD=2},function(c,d,a){var b=a(39),n=a(124),m=a(123),l=a(31),f=a(55),g=a(98),h={},e={};d=c.exports=function(a,c,d,u,r){r=r?function(){return a}:g(a);d=b(d,u,c?2:1);u=0;var k,p;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(m(r))for(k=f(a.length);k>
u;u++){if(r=c?d(l(p=a[u])[0],p[1]):d(a[u]),r===h||r===e)return r}else for(u=r.call(a);!(p=u.next()).done;)if(r=n(u,d,p.value,c),r===h||r===e)return r};d.DB=h;d.bD=e},function(c,d,a){d.__esModule=!0;var b=(c=a(375))&&c.__esModule?c:{default:c},n=(a=a(372))&&a.__esModule?a:{default:a};d.default=function(){return function(a,c){if(Array.isArray(a))return a;if((0,b.default)(Object(a))){var d=[],g=!0,h=!1,e=void 0;try{for(var k=(0,n.default)(a),p;!(g=(p=k.next()).done)&&(d.push(p.value),!c||d.length!==
c);g=!0);}catch(q){h=!0,e=q}finally{try{if(!g&&k["return"])k["return"]()}finally{if(h)throw e;}}return d}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}()},function(c,d,a){a(390);c=a(23);d=a(32);var b=a(42);a=a(15)("toStringTag");for(var n="CSSRuleList CSSStyleDeclaration CSSValueList ClientRectList DOMRectList DOMStringList DOMTokenList DataTransferItemList FileList HTMLAllCollection HTMLCollection HTMLFormElement HTMLSelectElement MediaList MimeTypeArray NamedNodeMap NodeList PaintRequestList Plugin PluginArray SVGLengthList SVGNumberList SVGPathSegList SVGPointList SVGStringList SVGTransformList SourceBufferList StyleSheetList TextTrackCueList TextTrackList TouchList".split(" "),
m=0;m<n.length;m++){var l=n[m],f=c[l];(f=f&&f.prototype)&&!f[a]&&d(f,a,l);b[l]=b.Array}},function(c,d,a){var b=a(3)(b||{},{R:{Cb:{},ib:{}},g:{},f:{j:{}},b:{na:{}}});b.R.ib=a(105).vdb.R.ib;b.g=a(7).vdb.g;b.f.j=a(5).vdb.f.j;b.b.na=a(65).vdb.b.na;b.R.Cb=b.R.ib.extend(function(){var a=b.f.j;return{L:function(b){this._super(b);this.V=b[a.ja];this.mc=b[a.Ta];this.ne=b[a.Hb];this.Gk=b[a.Pa]},Ka:function(a,b,c){for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);for(d in b)b.hasOwnProperty(d)&&null!=b[d]&&(a=
isNaN(b[d]),"number"===typeof b[d]&&a||(c[d]=b[d]));return c},ah:function(a){return this.Ka({"p.vw.active":+b.b.na.rc(),"p.vw.sound":Math.round(100*this.V.getVolume()),vwa:this.mc.ra()},{vwm:this.ne.ra()},a)}}}(),[b.f.j.P,b.f.j.Re,b.f.j.ya,b.f.j.ja,b.f.j.Ta,b.f.j.Hb,b.f.j.Pa]);d.vdb={R:{Cb:b.R.Cb}};d.default=b.R.Cb;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{f:{rh:{}}});b.f.rh={ss:"ADSET_BASED",pn:"CONTENT_BASED",qn:"CONTENT_BASED_WITH_PODS",au:"PREBID_JS"};d.vdb={f:{rh:b.f.rh}};d.default=
b.f.rh;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{xd:{}},i:{}});b.i=a(8).vdb.i;b.b.xd=b.i.Class.extend(function(){return{L:function(){this.tb=!1},xj:function(a,b,c,d){this.Rk=0;this.Vv=b;this.Ck=d?function(){a();this.tb=!1;this.resume()}.bind(this):a;this.tb=!1;(c||"undefined"===typeof c)&&this.start()},start:function(){this.resume()},stop:function(){this.pause()},pause:function(){this.tb&&(this.tb=!1,this.Rk+=(new Date).getTime()-this.xp,clearTimeout(this.zp))},resume:function(){!this.tb&&
this.Ck&&(this.tb=!0,this.xp=(new Date).getTime(),this.zp=setTimeout(this.Ck,this.Lr()))},Qd:function(){return this.tb||!1},Lr:function(){return Math.max(this.Vv-this.ax(),0)},ax:function(){return this.Rk+(this.tb?(new Date).getTime()-this.xp:0)},il:function(){this.tb=!1;clearTimeout(this.zp);this.Ck=null}}}());d.vdb={b:{xd:b.b.xd}};d.default=b.b.xd;d.__esModule=!0},function(c,d,a){var b=a(99),n=a(15)("iterator"),m=a(42);c.exports=a(14).NE=function(a){if(void 0!=a)return a[n]||a["@@iterator"]||m[b(a)]}},
function(c,d,a){var b=a(75),n=a(15)("toStringTag"),m="Arguments"==b(function(){return arguments}());c.exports=function(a){var c;if(void 0===a)var d="Undefined";else{if(null===a)var h="Null";else{a:{var e=a=Object(a);try{h=e[n];break a}catch(k){}h=void 0}h="string"==typeof(d=h)?d:m?b(a):"Object"==(c=b(a))&&"function"==typeof a.callee?"Arguments":c}d=h}return d}},function(c,d){d.U={}.propertyIsEnumerable},function(c,d,a){var b=a(29);c.exports=function(a,c){if(!b(a))return a;var d,f;if(c&&"function"==
typeof(d=a.toString)&&!b(f=d.call(a))||"function"==typeof(d=a.valueOf)&&!b(f=d.call(a))||!c&&"function"==typeof(d=a.toString)&&!b(f=d.call(a)))return f;throw TypeError("Can't convert object to primitive value");}},function(c,d,a){function b(){return this}var n=a(56),m=a(21),l=a(128),f=a(32),g=a(42),h=a(199),e=a(53),k=a(194),p=a(15)("iterator"),q=!([].keys&&"next"in[].keys());c.exports=function(a,c,d,y,w,v,A){function u(a){return!q&&a in G?G[a]:function(){return new d(this,a)}}h(d,c,y);y=c+" Iterator";
var r="values"==w,t=!1,G=a.prototype,B=G[p]||G["@@iterator"]||w&&G[w],C=B||u(w),H=w?r?u("entries"):C:void 0,F="Array"==c?G.entries||B:B,E;F&&(a=k(F.call(new a)),a!==Object.prototype&&a.next&&(e(a,y,!0),n||"function"==typeof a[p]||f(a,p,b)));r&&B&&"values"!==B.name&&(t=!0,C=function(){return B.call(this)});n&&!A||!q&&!t&&G[p]||f(G,p,C);g[c]=C;g[y]=b;if(w){var Q={values:r?C:u("values"),keys:v?C:u("keys"),entries:H};if(A)for(E in Q)E in G||l(G,E,Q[E]);else m(m.ik+m.Sb*(q||t),c,Q)}return Q}},function(c,
d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=(c=a(0))&&c.__esModule?c:{default:c},n=(a=a(7))&&a.__esModule?a:{default:a};a=function(){function a(c,d){(0,b.default)(this,a);this.type=c;this.data=d}a.prototype.clone=function(){return new a(this.type,this.data)};a.prototype.toString=function(){return"Event {type='"+this.type+"', data="+n.default.Bf(this.data)};return a}();d.default=a},function(c,d,a){d=a(29);var b=a(23).document,n=d(b)&&d(b.createElement);c.exports=function(a){return n?
b.createElement(a):{}}},function(c,d,a){var b=a(3)(b||{},{R:{ib:{}},i:{},g:{},log:{},b:{td:{}},f:{j:{}}});b.i=a(8).vdb.i;b.g=a(7).vdb.g;b.log=a(6).vdb.log;b.b.td=a(136).vdb.b.td;b.f.j=a(5).vdb.f.j;b.R.ib=b.i.Class.extend(function(){function a(a,c){var e=b.g.Iz([this.o.Bq(),this.o.tl(),this.o.Ay(),{apid:this.o.ye().utid}]);c=b.g.Ge(c);this.Bp=this.Bp||this.Ja.Fy();return this.Bp+"/"+a+"?"+e+(c?"&"+c:"")+"&cb="+Math.random()}var c=b.log.B("PrimalTracker"),d=b.f.j,f;return{L:function(a){this.o=a[d.P];
this.mv=a[d.Re];this.Ja=a[d.ya];this.ov=this.o.Gy();f=b.R.ib.Zz},ga:function(b,c){c=c||{};this.o.hr()&&(c.itg="tbv");this.nf(a.call(this,b,c))},nf:function(a){c.debug("PIXEL",a);if(this.ov)if("string"!==typeof a||-1===a.indexOf("//"))c.debug("not sending pixel",a);else{0===a.indexOf("//")&&0!==window.location.protocol.indexOf("http")&&(a="https:"+a);a=a.replace("[APID]",this.o.ye().utid);var b=document.createElement("img");b.src=a;f.add(function(){return!1});var e=f.next.bind(f),d=setTimeout(function(){e();
b.onload=null;b.onerror=null},1E3),p=function(){clearTimeout(d);e()};b.onload=p;b.onerror=p;this.mv.wz(a)}else c.debug("tracking is disabled")}}}(),[b.f.j.P,b.f.j.Re,b.f.j.ya]);b.R.ib.Zz=new b.b.td;d.vdb={R:{ib:b.R.ib}};d.default=b.R.ib;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(41);a=a(296);var f=b(a);a=function(a){function b(){(0,n.default)(this,b);
return(0,m.default)(this,a.call(this,"Tracking"))}(0,l.default)(b,a);b.prototype.Z=function(b){var c=a.prototype.Z.call(this,b);c.type=b.getAttribute("event");c.offset=b.getAttribute("offset");return c};b.prototype.ug=function(){return new f.default};return b}(c.Uh);d.default=new a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));d.default=function m(){(0,b.default)(this,m);this.Pb=[];this.id=this.jw="";this.wb=null}},
function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){for(this.target.innerHTML="";this[v].firstChild;)this.target.appendChild(this[v].firstChild);delete t[this.target.id]}function m(){r.debug("onClick");this.l.sf()}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(2);var f=b(c);c=a(1);var g=b(c);c=a(4);c=b(c);var h=a(60);h=b(h);var e=a(6);e=b(e);var k=a(161),p=b(k);k=a(25);var q=b(k);a=a(27);var u=b(a),r=e.default.B("ExternalMediaElement"),t={},y=(0,
c.default)(),w=(0,c.default)(),v=(0,c.default)(),A=(0,c.default)(),D=(0,c.default)();a=function(a){function b(c){(0,l.default)(this,b);var e=(0,f.default)(this,a.call(this));e[w]=c;e.Vc="<span>Companion HTML</span>";return e}(0,g.default)(b,a);b.prototype.Wq=function(a,b){r.debug("initPeer","parent",a);try{this[A]=this[w].document}catch(H){return}this.target=this.ve=b===p.default.Us?this[A].getElementsByClassName(a)[0]:this[A].getElementById(a);if(!this.ve){var c=u.default.bj(this[w]);if(c&&this[w]!==
c){this[w]=c;this.Wq(a,b);return}}(b=t[a])&&b();for(this[v]=this[A].createDocumentFragment();this.target&&this.target.firstChild;)this[v].appendChild(this.target.firstChild);null==this.ve&&r.error("Cannot find element with id",a)};b.prototype.stop=function(){r.debug("stop");this[y]||(n.call(this),this.element.removeEventListener("click",this[D]));a.prototype.stop.call(this)};b.prototype.De=function(){r.debug("initElement");this.Sg();this.Td();t[this.target.id]=n.bind(this);var a=document.createElement("iframe");
(a.frameElement||a).style.cssText="width:100%; height: 100%; border: 0;";a.marginWidth="0";a.marginHeight="0";this.element.appendChild(a);a=a.contentWindow?a.contentWindow.document:a.contentDocument;a.open();a.write(this.Vc);a.close();this[D]=m.bind(this);a.body.addEventListener("click",this[D].bind(this))};b.prototype.load=function(){r.debug("load");a.prototype.load.call(this);this.l.Kd()};b.prototype.createElement=function(){r.debug("createDisplayObject");return this.ve};b.prototype.xA=function(a){this[y]=
a};b.prototype.Td=function(){this.track(q.default.Vj)};return b}(h.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){var a=this.La.ia().H(r.default.P).Ae()===x.default.tk;this.N.er&&this.N.er()&&!a&&(a=this.cg&&this.cg.getUrl()&&v.default.ub("o2token",this.cg.getUrl())?"enabled":"disabled",this.Gk.Zd("ad",null,"Player gets o2shim to play ad. Open API: "+a));this.N.load()}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var m=b(c);c=a(2);var l=
b(c);c=a(1);var f=b(c);c=a(324);var g=b(c);c=a(34);var h=b(c);c=a(61);var e=b(c);c=a(13);var k=b(c);c=a(37);var p=b(c);c=a(64);var q=b(c);c=a(57);var u=b(c);c=a(5);var r=b(c);c=a(18);var t=b(c);c=a(17);c=b(c);var y=a(6);y=b(y);var w=a(12),v=b(w);w=a(7);var A=b(w);w=a(25);var D=b(w);a=a(38);var x=b(a),z=y.default.B("AdView");a=function(a){function b(c,e,d,f,k,p,h){(0,m.default)(this,b);z.debug("create",{ad:d,creative:f,mediaContent:k});var q=(0,l.default)(this,a.call(this));q.mg=c;q.D=e;q.ad=d;q.Na=
f;q.aa=k;q.rp=!0;q.La=p;q.dv=new g.default(d,f,p);q.Ia=q.La.Ld();q.cg=q.La.la();q.cv=h;q.zf=A.default.createElement("div",{"class":"ad-icons-layer",style:"position: relative"});q.type="AdView";return q}(0,f.default)(b,a);b.prototype.Tl=function(a){var b=this;(this.N=this.Jf())?(this.Gk=this.La.ia().H(r.default.Pa),this.La.addEventListener(q.default.Se,this.N.resize.bind(this.N)),this.La.addEventListener(q.default.Kn,function(a){b.N.invokeAdMethod(a.name,a.data)}),this.N.l=this,this.dispatchEvent(new t.default(p.default.Cs)),
this.setVolume(a),n.call(this)):this.complete(!0)};b.prototype.noResize=function(){this.rp=!1};b.prototype.Kd=function(){this.resize();this.D.appendChild(this.N.element);this.D.appendChild(this.zf);this.N.De();this.zj()};b.prototype.resize=function(a){if(this.rp){var b=this.N.element.style;b.position="absolute";a?(b.top="0",b.left="0",b.width="100%",b.height="100%"):(a=this.fl(this.D.offsetWidth,this.D.offsetHeight,this.getAdWidth(),this.getAdHeight(),this.Vi(),this.Ui()),b.top=a.y+"px",b.left=a.x+
"px",b.width=a.width+"px",b.height=a.height+"px")}};b.prototype.stop=function(){z.debug("stop",this.N);this.N?this.N.stop():this.complete(!0)};b.prototype.Da=function(){z.debug("skip",this.N);this.N?this.N.Da():this.complete(!0)};b.prototype.complete=function(a,b){z.debug("complete");this.dv.S();this.N&&this.N.element.parentNode===this.D&&this.D.removeChild(this.N.element);this.zf.parentNode===this.D&&this.D.removeChild(this.zf);var c=new t.default(p.default.Ha);b&&(c.data=b.data,c.currentTime=b.currentTime);
c.force=a;this.dispatchEvent(c);this.N&&this.N.error?this.dispatchEvent(new t.default(p.default.yc)):a?this.dispatchEvent(new t.default(p.default.eh)):this.dispatchEvent(new t.default(p.default.Oa))};b.prototype.zj=function(){};b.prototype.tf=function(a,b){z.debug("dispatchVastEvent",a,b);this.ad.dispatchEvent(new k.default(a,this.Na,null,b));a!==k.default.Ea||this.sv||(this.sv=!0,this.cv.Yd(u.default.LOADED,b.error,b.Jd))};b.prototype.Mi=function(a,b){z.debug("dispatchVastTrackerEvent",a,b);this.ad.dispatchEvent(new e.default(a,
this.Na,b))};b.prototype.sf=function(a,b,c){z.debug("dispatchClickThrough",a);var e=void 0;c||(e=this.ze())&&!b||!a||(e=a);this.ad.dispatchEvent(new k.default(k.default.Ya,this.Na,e))};b.prototype.setVolume=function(a){this.N&&this.N.setVolume(a)};b.prototype.pause=function(){this.N&&this.N.pause()};b.prototype.hj=function(){this.dispatchEvent(new t.default(p.default.Eb))};b.prototype.jm=function(){this.Ar();this.dispatchEvent(new t.default(p.default.Rb,void 0))};b.prototype.Ug=function(a){this.dispatchEvent(new t.default(p.default.$d,
a))};b.prototype.sj=function(a){a.Yp=this.ad.Yp;this.dispatchEvent(new t.default(p.default.ob,a));this.Mi(D.default.jk,a)};b.prototype.vr=function(){this.dispatchEvent(new t.default(p.default.Pe))};b.prototype.Ar=function(){this.mg&&this.mg.pause()};b.prototype.resume=function(){this.N&&this.N.resume()};b.prototype.km=function(){this.Pr();this.dispatchEvent(new t.default(p.default.Ne))};b.prototype.Pr=function(){this.mg&&this.mg.resume()};b.prototype.ux=function(){return this.N?this.N.error:null};
b.prototype.fl=function(a,b,c,e,d,f){void 0===d&&(d=!0);void 0===f&&(f=!0);var k=a,p=b;d?f&&(k/p<c/e?p=e*k/c:k=c*p/e):(k=c,p=e);return{height:p,width:k,x:(a-k)/2,y:(b-p)/2}};b.prototype.getAdWidth=function(){return-1};b.prototype.getAdHeight=function(){return-1};b.prototype.Vi=function(){return!0};b.prototype.Ui=function(){return!0};b.prototype.Mg=function(){this.ad.dispatchEvent(new k.default(h.default.LINEAR_CHANGE,this.Na))};b.prototype.Jf=function(){};b.prototype.la=function(){};b.prototype.ze=
function(){};return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){this.me||this.qj(new u.default("ad engine did not finish loading"));this.dispatchEvent(new e.default(e.default.$c,this.C.getType(),{Ri:this.Fk,error:this.gy(),loaded:this.me}))}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var m=b(c);c=a(2);var l=b(c);c=a(1);var f=b(c);c=a(4);c=b(c);var g=a(91),h=b(g);g=a(10);var e=b(g),k=a(113);g=a(57);var p=b(g);g=a(5);var q=b(g);
g=a(62);var u=b(g);g=a(17);g=b(g);var r=a(6);r=b(r);var t=a(48),y=b(t);t=a(97);var w=b(t);t=a(44);var v=b(t);t=a(12);var A=b(t);t=a(7);var D=b(t);a=a(27);var x=b(a),z=r.default.B("AdEngineBase"),G=(0,c.default)(),B=(0,c.default)(),C=(0,c.default)(),H=(0,c.default)(),F=(0,c.default)(),E=(0,c.default)(),Q=(0,c.default)(),R=(0,c.default)(),K=(0,c.default)(),M=(0,c.default)(),N=!1;a=function(a){function b(c,e,d,f){(0,m.default)(this,b);var p=(0,l.default)(this,a.call(this));z.debug("init","adsConfig",
e);p.u=c;p.Ia=e;p.C=d;p.jb=f;p.me=!1;p[M]=!1;p[G]=!1;p[C]=[];c=p.u.ia();p[H]=c.H(q.default.Uf);p.F=c.H(q.default.dc);p.o=c.H(q.default.P);p.jb&&(p.jb.addEventListener(k.on,p.rj.bind(p)),p.jb.addEventListener(k.In,p.qj.bind(p)));return p}(0,f.default)(b,a);b.prototype.la=function(){return this.C};b.prototype.sx=function(){return this.D||null};b.prototype.gy=function(){return this.ab||null};b.prototype.He=function(a){a&&!a.ac&&this.ab&&this.ab.ac&&(a.ac=this.ab.ac);(this.ab=a)&&a.message&&(this.Fk=
this.Fk?this.Fk+(", "+a.message):a.message)};b.prototype.Mf=function(){z.debug("showOverlay");this[E]=(new Date).getTime();this.xa(p.default.LOADED)};b.prototype.Wg=function(a){var b=this;this[K]=a||this[K]||0;z.debug("startAdTimers","maxTime",a);a=Math.min(this.C.Tv,this.Ia.LA);a=Math.floor(a);this[F]&&clearTimeout(this[F]);0<a&&this.o.Ef()&&(this[F]=setTimeout(this.Si.bind(this,"Start timeout error: "+a+"ms"),a));this[E]=(new Date).getTime();0<this[K]&&(this.$a=new w.default,this.$a.xj(function(){b.ki=
!0;b.stop()},1E3*this[K],!1))};b.prototype.load=function(){z.debug("load");a:{if(this.C.nz()){var a=A.default.Oc(this.o.Mb(y.default.URL));var b=A.default.Oc(x.default.Rc(window));if(a&&b&&a!==b&&"undefined"!==a){N||(this.xa(p.default.gu),this.He(new h.default("Site check is not passed, required "+a+", but found "+b)),N=!0);a=!1;break a}}a=!0}this[G]=a;this[B]=(new Date).getTime();this[G]?(this.track(v.default.Sm,{vg:this.D.offsetHeight,Ni:this.D.offsetWidth}),this.ab=null,this.jb&&this.jb.load&&
this.jb.load()):(this.me=!1,this.dispatchEvent(new e.default(e.default.xc,this.C.getType(),{ad:this.C})))};b.prototype.rj=function(a,b){z.debug("onLoaded",a);this.ready(!0,a,b)};b.prototype.qj=function(a){z.debug("onInterrupted",a);this.He(a)};b.prototype.cA=function(){this.lb(e.default.Ym)};b.prototype.stop=function(){z.debug("stop");this.Xb||(this.ff=!1,this.Xb=!0,this.$a&&this.$a.stop(),n.call(this))};b.prototype.Da=function(){z.debug("skip");this.stop()};b.prototype.complete=function(){z.debug("complete");
this[F]&&clearTimeout(this[F]);this.ff=!1;this.Xb||!this[G]||this.me||this.hs(!1,this.ab&&this.ab.timeout);this.Xb||(this.Xb=!0,n.call(this))};b.prototype.ready=function(a,b,c){z.debug("ready");this.me=!0;this.hs(a);this.Sk({ad:this.C,adModel:b,latency:this[Q],params:c})};b.prototype.Sk=function(a){this.dispatchEvent(new e.default(e.default.xc,this.C.getType(),a))};b.prototype.zi=function(){z.debug("adLoaded");this.lb(e.default.zc,void 0);this.SA()};b.prototype.SA=function(){this.xa(p.default.LOADED);
this.C.Kk||this.xa(p.default.Po)};b.prototype.hj=function(){var a=this.C.fy();a&&(a=this.u.Qc().resolve(a),this[H].nf(a))};b.prototype.$k=function(a){z.debug("adStarting");this.lb(e.default.Oe,a)};b.prototype.Bi=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=arguments[1];z.debug("adStarted",a);this[F]&&clearTimeout(this[F]);this[M]=!1;this.We=b;this.C.Kk&&this.xa(p.default.Po);this.$a&&this.$a.start();this.u.qq&&(this.u.qq=!1,this.xa(p.default.Ss));var c=a.data||{};b&&
(c.apiType=b.fv,c.adId=b.ad.id,c.adIconsContainer=b.zf,c.mimeType=(b.Aa()||{}).mimeType);c.parameters||(c.parameters={});c.parameters.minibar=!!this.C.ji.minibar;c.latency=(new Date).getTime()-this[E];this.lb(e.default.sa,c);this.track(v.default.lo);this.xa(p.default.STARTED,a.data);this.ff=!0};b.prototype.Yk=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};z.debug("adPaused");this[M]=!0;this.$a&&this.$a.pause();this.lb(e.default.Rb,a.data)};b.prototype.Ci=function(){this.lb(e.default.$d,
(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).data)};b.prototype.Kp=function(a){a=a.data;var b=a.data||a,c=b.currentTime;b=Math.min(b.duration,this[K]);0<b?(a.timeRemaining=b-c,a.progressPercent=c/b*100):(a.progressPercent=0,a.timeRemaining=0);this.lb(e.default.ob,a)};b.prototype.lw=function(){this.lb(e.default.Pe)};b.prototype.Ip=function(){z.debug("adResumed");this[M]=!1;this.$a&&this.$a.resume();this.lb(e.default.Ne)};b.prototype.Zb=function(){return this[M]};b.prototype.Hp=function(a){this.lb(e.default.Om,
{clickThroughUrl:a});this.track(v.default.Ya,{cb:a,Wp:"ad"})};b.prototype.se=function(a,b){z.debug("adFinished",{currentTime:a,data:b});this[F]&&clearTimeout(this[F]);this.ki||this.Lk?this.xa(p.default.On,b):this.ff&&(this.vp?this.xa(p.default.iu,b):this.xa(p.default.FINISHED,b));this.lb(e.default.Oa,{currentTime:a})};b.prototype.Si=function(a){z.debug("failOver",a);this.u.qq=!0;this.xa(p.default.Vf)};b.prototype.track=function(a,b){z.debug("track","eventType",a,"params",b);b=D.default.Ua(b);b=D.default.extend(b,
{acid:this.C.getAcid(),asid:this.C.getAsid(),auid:this.C.Hx(),bookingId:this.C.Ix(),costPerImpression:this.C.Id,fullsizeThumbnail:this.C.getFullsizeThumbnail(),isHouseAd:this.C.cz(),isPayable:this.C.kz(),lineItemId:this.C.jy(),name:this.C.getName(),overlayURL:this.C.getOverlayURL(),profitCenter:this.C.yy(),ruleCompanyId:this.C.Qv,ruleId:this.C.getRuleId(),thirdPartyImpressionTrackers:this.C.Wv,thumbnail:this.C.getThumbnail(),transactionId:this.C.getTransactionId(),type:this.C.getType(),url:b.url||
this.C.getUrl(),usid:this.C.getUsid(),vastXml:this.C.Ll(),vendor:this.C.getVendor(),videoDuration:this.C.getVideoDuration(),videoTitle:this.C.getVideoTitle()});this.u.dispatchEvent(new v.default(a,b))};b.prototype.Fm=function(a){(a="string"===typeof a?a:a.data)&&this.track(v.default.Qb,{action:a});this.$a&&this.$a.stop()};b.prototype.xa=function(a,b){function c(a){return f?a+f:a}z.debug("trackFlow","adStage",a,"params",b);var d=null,f=this.u.Dx();b&&(f=b.wb||f,d=b.aE||null);var k=this.We&&this.We.ad?
this.We.ad:this.ad;k&&(d=d||k.id||null);k=c(a);if(a===p.default.On){var g=c(p.default.LOADED);!this.Rd(c(p.default.STARTED))&&this.Rd(g)&&(a=p.default.Vf)}if(!this.Rd(k)){g={cl:this.C.ev,yw:this.o.gr(),Id:this.C.Id,vg:this.D.offsetHeight,Ni:this.D.offsetWidth,muted:this.u.isMuted(),$A:this.C.getUsid()};f&&(g.sequence=f);switch(a){case p.default.LOADED:g.latency=this[Q];break;case p.default.ku:case p.default.STARTED:g.latency=(new Date).getTime()-this[E];break;case p.default.Vf:this[R]&&(g.latency=
(new Date).getTime()-this[R])}D.default.Ua(b,g);b=this.Gi(a,g,d);this.track(v.default.Rm,b);this[C][k]=!0;-1!==[p.default.md,p.default.Rh,p.default.wd,p.default.FINISHED].indexOf(a)&&this.lb(e.default.Mj,b)}};b.prototype.Yd=function(a,b,c,e){z.debug("trackAdIssue","adStage",a,"details",c);this.track(v.default.Me,this.Gi(a,{Jd:""+b.description+(c?" "+c:""),fx:b.ba,gx:b.code,jx:e}))};b.prototype.hs=function(a,b){z.debug("trackResponse","success",a,"timeout",b);this[B]?this[Q]=(new Date).getTime()-this[B]:
(this[Q]=0,z.error("load is not called before track response"));this[R]=(new Date).getTime();this.track(v.default.Jj,{vg:this.D.offsetHeight,Ni:this.D.offsetWidth,pz:a,latency:this[Q],timeout:"undefined"===typeof b?null:b,aB:this.me?this.$v:0})};b.prototype.Gi=function(a,b,c){z.debug("basicAdParams","adStage",a,"additional",b,"adId",c);var e={};null!=c&&(e.adImpressionId=c,e.yi=c);null!=a&&(e.adStage=a,e.Ai=a);D.default.Ua(b,e);return e};b.prototype.Rd=function(a){return this[C][a]||!1};b.prototype.lb=
function(a,b){b||(b={});b.ad=this.C;this.dispatchEvent(new e.default(a,this.C.getType(),b));this.u.dispatchEvent(new e.default(a,this.C.getType(),b))};return b}(g.default);d.default=a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=(c=a(0))&&c.__esModule?c:{default:c};a=(a=a(4))&&a.__esModule?a:{default:a};var n=(0,a.default)(),m=(0,a.default)(),l=(0,a.default)();a=function(){function a(c,d,e){(0,b.default)(this,a);this[n]=c;this[m]=d;this[l]=e}a.prototype.Li=function(){};
a.prototype.getType=function(){return null};a.prototype.Wi=function(){return this[n]};a.prototype.yq=function(){return this[m]};a.prototype.zg=function(){return this[l]};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(4);c=b(c);var f=a(49),g=b(f);f=a(6);f=b(f);var h=a(111);h=b(h);var e=a(329),k=b(e);e=a(328);var p=b(e);e=a(327);var q=b(e);e=a(63);var u=
b(e);e=a(204);var r=b(e);a=a(260);var t=b(a),y=f.default.B("VastEngineProducer"),w=(0,c.default)(),v=(0,c.default)();a=function(a){function b(c,e,d){(0,n.default)(this,b);e=(0,m.default)(this,a.call(this,c,e,d));e[w]=new t.default(c);e[v]=new r.default(c);return e}(0,l.default)(b,a);b.prototype.Li=function(a){y.debug("createAdEngine",a);var b=this.Wi(),c=this.yq(),e=this.zg(),d=c.Ji,f=a.Ll();f=new (this.Jq(a))({ad:f?f:a.Tk||a,u:b,hx:this[w],uz:c.Uc,cB:this[v]});return new q.default(b,c,a,f,this[w],
e,d)};b.prototype.Jq=function(a){return a.Ll()?p.default:a.Tk?k.default:u.default};b.prototype.getType=function(){return g.default.yo};return b}(h.default);d.default=a},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.on="AD_LOAD_COMPLETE";d.In="AD_LOAD_INTERRUPTED";d.Me="AD_ISSUE"},function(c,d,a){var b=a(3)(b||{},{b:{ic:{},pd:{},ud:{}},i:{}});b.i=a(8).vdb.i;b.b.pd=a(335).vdb.b.pd;b.b.ud=a(334).vdb.b.ud;b.b.ic=b.i.Class.extend(function(){return{L:function(a){this.bb=a||[]},join:function(a){if(!a)return this;
var c=new b.b.ic,d=this;c.resolve=function(b){return a.resolve(d.resolve(b))};return c},resolve:function(a){if(!a)return a;for(var b=0;b<this.bb.length;b++)a=this.bb[b].apply(a);return a}}}());(function(a){a.create=function(c){for(var d=[],f=0;f<arguments.length;f++){var g=arguments[f],h=g.pop();d.push(new b.b.pd(h,g))}return new a(d)};a.qf=function(c,d){return new a([new b.b.ud(c,d)])};a.yE=function(b,c,d){c=c||"";d=d||"";var f=[],h;for(h in b)b.hasOwnProperty(h)&&f.push([c+h+d,b[h]]);return a.create.apply(null,
f)}})(b.b.ic);d.vdb={b:{ic:b.b.ic}};d.default=b.b.ic;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(4);c=b(c);var f=a(17);f=b(f);var g=a(169),h=b(g);g=a(5);var e=b(g);a=a(7);var k=b(a),p=(0,c.default)();a=function(a){function b(c){(0,n.default)(this,b);var d=(0,m.default)(this,a.call(this));d[p]=c[e.default.Pa];d.Ja=c[e.default.ya];d.Nk=c[e.default.od];return d}
(0,l.default)(b,a);b.prototype.load=function(a,b){b=b&&k.default.Ge(b)||"";return h.default.Pl(a+"&"+b,{timeout:5E3,withCredentials:!0}).then(function(a){return a.data})};return b}(f.default);d.default=a;a.O=[e.default.Pa,e.default.od,e.default.ya]},function(c,d,a){var b=a(3)(b||{},{A:{ld:{}},i:{}});b.i=a(8).vdb.i;b.A.ld=b.i.Class.extend(function(){function a(a){a.kc=this}function b(a){a.kc=null;a.S()}function c(a){for(var b=0,c=this.di.length;b<c;b++)a.call(this,this.di[b])}return{L:function(){this.di=
Array.prototype.slice.call(arguments,0)},Ez:function(a){var b=this;c.call(a,function(a){b.Kb(a)})},S:function(){c.call(this,b)},Lw:function(){c.call(this,a)},Kb:function(a){-1===this.di.indexOf(a)&&this.di.push(a)},YD:function(){var a,b=Array.prototype.slice.call(arguments,0);for(a=0;a<b.length;a++)this.Kb(b[a])}}}());d.vdb={A:{ld:b.A.ld}};d.default=b.A.ld;d.__esModule=!0},function(c,d,a){var b=a(23),n=a(14),m=a(56),l=a(119),f=a(20).U;c.exports=function(a){var c=n.Symbol||(n.Symbol=m?{}:b.Symbol||
{});"_"==a.charAt(0)||a in c||f(c,a,{value:l.U(a)})}},function(c,d,a){function b(a){f(a,n,{value:{qc:"O"+ ++g,gB:{}}})}var n=a(54)("meta"),m=a(29),l=a(36),f=a(20).U,g=0,h=Object.isExtensible||function(){return!0},e=!a(43)(function(){return h(Object.preventExtensions({}))}),k=c.exports={It:n,Qn:!1,lx:function(a,c){if(!m(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!l(a,n)){if(!h(a))return"F";if(!c)return"E";b(a)}return a[n].qc},bF:function(a,c){if(!l(a,n)){if(!h(a))return!0;if(!c)return!1;
b(a)}return a[n].gB},LF:function(a){e&&k.Qn&&h(a)&&!l(a,n)&&b(a);return a}}},function(c,d,a){d.U=a(15)},function(c,d,a){d.__esModule=!0;c=(c=a(392))&&c.__esModule?c:{default:c};var b=(a=a(4))&&a.__esModule?a:{default:a},n="function"===typeof b.default&&"symbol"===typeof c.default?function(a){return typeof a}:function(a){return a&&"function"===typeof b.default&&a.constructor===b.default&&a!==b.default.prototype?"symbol":typeof a};d.default="function"===typeof b.default&&"symbol"===n(c.default)?function(a){return"undefined"===
typeof a?"undefined":n(a)}:function(a){return a&&"function"===typeof b.default&&a.constructor===b.default&&a!==b.default.prototype?"symbol":"undefined"===typeof a?"undefined":n(a)}},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={fn:"RM.APIFunctionIsMissing",zn:"RM.getVpaidAdIsMissing",Vn:"RM.noCreative",No:"RM.VPAIDUrlUnavailable"}},function(c,d,a){var b=a(3)(b||{},{b:{Bc:{}}});b.b.Bc=function(){var a="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,b=function(){for(var a=
["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),
"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],b=a.length,c,d=-1,e={};++d<b;)if((c=a[d])&&c[1]in document){d=-1;for(b=c.length;++d<b;)e[a[0][d]]=c[d];return e}return!1}();return b?{enabled:function(){return!!document[b.fullscreenEnabled]},pE:function(c){var d=b.requestFullscreen;c=c||document.documentElement;if(/5\.1[\.\d]* Safari/.test(navigator.userAgent))c[d]();else c[d](a&&Element.ALLOW_KEYBOARD_INPUT)},qE:function(){document[b.exitFullscreen]()},
Jg:function(){return!!document[b.fullscreenElement]},element:function(){return document[b.fullscreenElement]},ow:function(a){document.addEventListener(b.fullscreenchange,a)},aA:function(a){document.removeEventListener(b.fullscreenchange,a)}}:{enabled:function(){return!1}}}();d.vdb={b:{Bc:b.b.Bc}};d.default=b.b.Bc;d.__esModule=!0},function(c,d,a){var b=a(42),n=a(15)("iterator"),m=Array.prototype;c.exports=function(a){return void 0!==a&&(b.Array===a||m[n]===a)}},function(c,d,a){var b=a(31);c.exports=
function(a,c,d,f){try{return f?c(b(d)[0],d[1]):c(d)}catch(g){throw c=a["return"],void 0!==c&&b(c.call(a)),g;}}},function(c,d,a){var b=a(3)(b||{},{f:{sh:{}}});b.f.sh={Yh:"vpaid"};d.vdb={f:{sh:b.f.sh}};d.default=b.f.sh;d.__esModule=!0},function(c,d,a){var b=a(75);c.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==b(a)?a.split(""):Object(a)}},function(c,d,a){var b=a(36),n=a(40),m=a(197)(!1),l=a(69)("IE_PROTO");c.exports=function(a,c){a=n(a);var d=0,e=[],f;for(f in a)f!=
l&&b(a,f)&&e.push(f);for(;c.length>d;)b(a,f=c[d++])&&(~m(e,f)||e.push(f));return e}},function(c,d,a){c.exports=a(32)},function(c,d,a){c.exports=!a(24)&&!a(43)(function(){return 7!=Object.defineProperty(a(104)("div"),"a",{get:function(){return 7}}).a})},function(c){c.exports=function(c){if("function"!=typeof c)throw TypeError(c+" is not a function!");return c}},function(c,d,a){var b=a(3)(b||{},{b:{Eh:{}}});b.b.Eh=function(){function a(){this.xv="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(a){var b=window.crypto||window.msCrypto;b=window.Uint16Array&&b&&b.getRandomValues?b.getRandomValues(new window.Uint16Array(1))[0]%16:Math.floor(16*(Math.random()||0)%16);return("x"===a?b:b&3|8).toString(16)})}a.prototype.toString=function(){return this.xv};return a}();d.vdb={b:{Eh:b.b.Eh}};d.default=b.b.Eh;d.__esModule=!0},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.xq=function(a,b,c){return c?b+"dev/ad-client/js/"+c+"/":a+"ad-client/js/3.3.4/"}},function(c,d,a){var b=
a(3)(b||{},{b:{kd:{}},log:{},i:{}});b.log=a(6).vdb.log;b.i=a(8).vdb.i;b.b.kd=function(){var a,c=b.i.Class.extend(function(){return{L:function(){var a=0===b.log.fc.Iq();this.mz=this.lz=a;this.Cr=[];this.fA=[]},wz:function(a){this.lz&&this.Cr.push({url:a,ts:+new Date})},xz:function(a){this.mz&&this.fA.push({url:a,ts:+new Date})}}}());return{Dl:function(){a||(a=new c);return a}}}();d.vdb={b:{kd:b.b.kd}};d.default=b.b.kd;d.__esModule=!0},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});
d.default={vs:"AdClickThru",Pm:"AdDurationChange",yc:"AdError",Tm:"AdExpandedChange",fh:"AdImpression",Qb:"AdInteraction",bd:"AdLinearChange",zc:"AdLoaded",Bs:"AdLog",Rb:"AdPaused",Lj:"AdPlaying",Wm:"AdRemainingTimeChange",Zm:"AdSizeChange",dd:"AdSkippableStateChange",Pf:"AdSkipped",sa:"AdStarted",cn:"AdStopped",Fs:"AdUserAcceptInvitation",Gs:"AdUserClose",Hs:"AdUserMinimize",gh:"AdVideoComplete",hh:"AdVideoFirstQuartile",ih:"AdVideoMidpoint",jh:"AdVideoStart",kh:"AdVideoThirdQuartile",lh:"AdVolumeChange"}},
function(c,d,a){var b=a(3)(b||{},{b:{J:{de:{},Ba:{}},xb:{},na:{}},f:{j:{}},ka:{}});b.b.J.Ba=a(79).vdb.b.J.Ba;b.f.j=a(5).vdb.f.j;b.b.xb=a(168).vdb.b.xb;b.ka=a(22).vdb.ka;b.b.na=a(65).vdb.b.na;b.b.J.de=b.b.J.Ba.extend(function(){function a(){this.af.resolve();this.mi&&(b.b.xb.clearTimeout(this.mi),delete this.mi)}function c(b){b=b[0].intersectionRatio;isNaN(b)||(this.mi&&a.call(this),this.Vk=Math.round(100*b),this.zv||(this.zv=!0))}return{L:function(d){this.Vk=-1;this.af=new b.ka;if("undefined"===typeof window.IntersectionObserver)this.af.resolve();
else{this._super(d);this.mi=b.b.xb.setTimeout(a.bind(this),100);d=window.IntersectionObserver;for(var f=c.bind(this),g=[],h=0;100>h;h+=5)g.push(h/100);g.push(1);this.ti=new d(f,{root:null,threshold:g});this.ti.observe(this.sb)}},Xc:function(a){this.Vk=-1;this.ti&&(this.ti.unobserve(this.sb),this.sb=a,this.ti.observe(this.sb))},rc:function(){return 0<this.ra()},ra:function(){return b.b.na.rc()?this.Vk:0},Bg:function(){var a=this;return this.af.fb().then(function(){return a})}}}(),[b.f.j.he]);d.vdb=
{b:{J:{de:b.b.J.de}}};d.default=b.b.J.de;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{td:{}},i:{},Promise:{}});b.i=a(8).vdb.i;b.Promise=a(26).vdb.Promise;b.b.td=b.i.Class.extend(function(){function a(){this.tb=!1;if(this.tp=this.ef.shift())this.tb=!0,this.tp();else{for(var a=0;a<this.ii.length;a++)this.ii[a]();this.ii=[]}}return{L:function(){this.ef=[];this.ii=[];this.tb=!1},add:function(c){return new b.Promise(function(b){this.ef.push(function(){var d=c();b(this.ef[this.ef.length-1]);d&&
d.then?d.then(a.bind(this)):("undefined"===typeof d||d)&&a.call(this)}.bind(this));this.tb||a.call(this)}.bind(this))},nE:function(){return new b.Promise(function(a){this.ef.length?this.ii.push(a):a()}.bind(this))},next:a,empty:function(){this.ef=[];a.call(this)}}}());d.vdb={b:{td:b.b.td}};d.default=b.b.td;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;switch(a){case 0:return!1;case 1:return!0;
default:return b}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var m=b(c);c=a(2);var l=b(c);c=a(1);var f=b(c);c=a(4);c=b(c);var g=a(237);g=b(g);a=a(6);var h=b(a).default.B("GeminiViewabilityRules"),e=(0,c.default)(),k=(0,c.default)(),p=(0,c.default)(),q=(0,c.default)(),u=(0,c.default)(),r=(0,c.default)(),t=(0,c.default)();a=function(a){function b(c,d,f){(0,m.default)(this,b);var g=(0,l.default)(this,a.call(this));h.debug("constructor",d);d=d||{};g[e]=c;g[k]=d.d||a.prototype.Hl.call(g);
g[p]=d.p||a.prototype.Gl.call(g);g[q]=n(d.c,a.prototype.Wl.call(g));g[u]=n(d.a,a.prototype.Vl.call(g));g[r]=d.t||a.prototype.Ml.call(g);g[t]=f||[];return g}(0,f.default)(b,a);b.prototype.getName=function(){return this[e]};b.prototype.Hl=function(){return this[k]};b.prototype.Gl=function(){return this[p]};b.prototype.Wl=function(){return this[q]};b.prototype.Vl=function(){return this[u]};b.prototype.Ml=function(){return this[r]};b.prototype.ry=function(){return this[t]};return b}(g.default);d.default=
a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(4);c=b(c);var f=a(5),g=b(f);a=a(162);a=b(a);var h=(0,c.default)(),e=(0,c.default)();a=function(a){function b(c){(0,n.default)(this,b);var d=c[g.default.ua],f=c[g.default.Ta];d=(0,m.default)(this,a.call(this,d,f));d[e]=c[g.default.ja];d[h]=0;return d}(0,l.default)(b,a);b.prototype.Ur=function(a){this.bb=a};b.prototype.Rg=function(){var a=
+new Date;this.Ke&&(this.ra()>=this.bb.Gl()&&(this.bb.Vl()?!this[e].isMuted():1)?this[h]+=a-this.Ke:this.bb.Wl()&&(this[h]=0));this.Ke=a};b.prototype.Uq=function(){return this[h]};return b}(a.default);d.default=a;a.O=[g.default.ua,g.default.ja,g.default.Ta]},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={tB:"$(AD_POSN)",uB:"$(AD_PS)",lu:"$(S_VIEW_TYPE)",Ru:"$(V_AUD_INFO)",Su:"$(V_AUD_TIME_INVIEW_100)",Tu:"$(V_AUTOPLAYED)",Uu:"$(V_EXPANDED)",Vu:"$(V_PLAYER_HEIGHT)",Wu:"$(V_PLAYER_WIDTH)",
Xu:"$(V_SKIP_AVAIL)",Yu:"$(V_VIEW_INFO)",Zu:"$(V_VIEW_TYPE)"}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(22);var m=b(c);a=a(7);var l=b(a);a=function(){function a(b,c){(0,n.default)(this,a);this.le=b;this.oc=c;this.ui=new m.default;this.Vo="handshakeVersion initAd startAd stopAd skipAd resizeAd pauseAd resumeAd expandAd collapseAd subscribe unsubscribe".split(" ")}a.prototype.Pq=function(){return this.ui.fb()};
a.prototype.ue=function(){l.default.If(this.le)};a.prototype.rr=function(a){this.ue();this.ui.reject(a)};a.prototype.K=function(a,b){"setAdVolume"===a&&this.mute(0===b[0])};a.prototype.mute=function(){};return a}();d.default=a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));c=function(){function a(c){(0,b.default)(this,a);this.hi=c}a.prototype.Di=function(){};a.prototype.show=function(){};a.prototype.yf=function(){};return a}();
d.default=c},function(c,d,a){var b=a(3)(b||{},{b:{Hh:{}},i:{},g:{},log:{},Ab:{}});b.i=a(8).vdb.i;b.g=a(7).vdb.g;b.log=a(6).vdb.log;b.Ab=a(78).vdb.Ab;b.b.Hh=b.i.Class.extend(function(){function a(c,d,h){var e=h.rj,f=h.VF,p=c.contentDocument,g=c.contentWindow;p?(p.open(),f&&f(c),e&&(g.onLoaded=function(){e(c)}),g.onerror=function(a,c,e,d){"Script error."!==a&&c&&e&&d&&b.log.B("IframeError").error([a,"Url: ",c,"Line: ",e,"Column: ",d].join(", "))},p.write(d),p.close()):setTimeout(a.bind(this,c,d,h),
0)}function c(){var a=[],b=document.scripts;void 0===b&&(b=document.getElementsByTagName("script")||[]);for(var c=0;c<b.length;c++)a.push(b[c]);return a}function d(a,b,c){return function(){var e=b.indexOf(a);if(-1!==e&&(b.splice(e,1),0===b.length&&-1===navigator.userAgent.indexOf("Firefox/3.")))for(e=0;e<c.length;++e)eval(c[e].text)}}return{L:function(a){this.Ed=a},mF:function(a){var f=[],h=[],e;var k=c();this.Ed.innerHTML=a;a=c();for(e=0;e<a.length;e++){var p=a[e];-1===k.indexOf(p)&&(null!=p.text&&
0<p.text.length?f.push(p):(h.push(p),(new b.Ab(this.Ed.ownerDocument)).Ng(p.src).then(d.bind(this,p,h,f)),this.Ed.removeChild(p)))}},Xq:function(c,d){d=d||{};var f=d.width,e=d.height;f=b.g.createElement("iframe",{src:"javascript:void(0)",width:f?f+"px":"100%",height:e?e+"px":"100%",scrolling:"no",frameBorder:0,marginHeight:0,marginWidth:0},this.Ed);a.call(this,f,c,d);return f}}}());d.vdb={b:{Hh:b.b.Hh}};d.default=b.b.Hh;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}
function n(){var a=this,b=!0;A.concat(this.$o).forEach(function(c){var e=a.Hc[c];e?a.pa[c]=e.bind(a.Hc):a.pa[c]||(b=!1)});return b}function m(a){this.lg.reject("BaseRunner failed with message: "+a)}function l(a){a&&(this.Hc=a);if(a&&a.events&&n.call(this)){a=a.events;this.Xo&&this.Xo.gA();try{a.readyCallback(),this.lg.resolve()}catch(x){this.lg.reject(x.toString())}}else this.zk+=1,40<this.zk?m.call(this,"Flash peer waiting timeout"+this.Fd.Mw()):setTimeout(l.bind(this,a),100)}function f(a,b){for(var c=
0;c<a.length;++c){var e=a[c];e!==b&&k.default.If(e)}}function g(){f.call(this,this.Wb.parentNode.children,this.Hc&&this.Hc.parentNode);f.call(this,this.Wb.children,this.Hc)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var h=b(c);c=a(22);var e=b(c);c=a(7);var k=b(c);c=a(5);var p=b(c);c=a(6);c=b(c);var q=a(142),u=b(q);q=a(258);var r=b(q);q=a(257);var t=b(q);q=a(10);var y=b(q);a=a(256);var w=b(a),v=c.default.B("BaseRunner"),A=["callMethod","removeWrappedObject"];a=function(){function a(b){(0,
h.default)(this,a);this.Ja=b[p.default.ya];this.o=b[p.default.P];this.uv=this.o.ay()||"latest";this.Vb=b[p.default.ua];this.kg=b[p.default.va];this.Fd=b[p.default.Db];var c=b[p.default.cc];b[p.default.ta].uf(w.default);this.pa={};this.kf=k.default.createElement("div",{"class":"flash-runner"},c);this.kf.style.width="100%";this.kf.style.height="100%";this.Wb=(new u.default(this.kf)).Xq("").contentDocument.body;this.kv=this.o.ny();this.o.Hm(!1);this.Vb.addEventListener(y.default.vc,g.bind(this));this.wg()}
a.prototype.wg=function(a){this.lg=new e.default;this.cp="flash_runner_"+Math.random().toString().slice(2)+"_"+(new Date).getTime();var b={flashObjectId:this.cp};this.kv&&(this.Xo=new t.default(this.o,this.Wb,this.kg));a="player/swf/%FLASH_VERSION%/"+a;b=r.default.bx(this.Wb,{id:this.cp,onFail:m.bind(this,"Flash embedding failed"),src:this.Ja.Mx(a.replace("%FLASH_VERSION%",this.uv)),version:[11,1],wmode:"transparent"},b);this.zk=0;l.call(this,b)};a.prototype.Bg=function(){var a=this;return this.lg.fb().then(function(){return a})};
a.prototype.K=function(){if(this.pa)return this.pa.callMethod.apply(this.pa,arguments);v.error("Calling runner before it's ready, arguments: "+arguments.join(" "))};a.prototype.bA=function(a){this.pa.removeWrappedObject(a)};a.prototype.addEventListener=function(a,b,c){this.pa["events"+a].addEventListener(b,c)};a.prototype.removeEventListener=function(a,b,c){this.pa["events"+a].removeEventListener(b,c)};a.prototype.yf=function(){this.kf.style.visibility="hidden"};a.prototype.show=function(){this.kf.style.zIndex=
2;this.kf.style.visibility="visible"};return a}();d.default=a;a.O=[p.default.ta,p.default.ya,p.default.Db,p.default.cc,p.default.P,p.default.ua,p.default.va]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a,b){b.forEach(function(b){b.url&&a.Lc.push(b.url)})}function m(a){return this.Va.filter(function(b){return b.__proto__===a.__proto__})[0]}function l(a,b,c,e){var d=this;a&&a.Pb&&a.Pb.forEach(function(a){var k;if(k=a.type===c&&a.url){var p=D.default.trim(a.offset||
"");e&&e.uc===z.default.jk&&p?(k=e.data||{},k.duration?(-1===p.indexOf("%")?p=x.default.Of(p):(p=Number(p.substr(0,p.length-1)),p=k.duration*p/100),(k=k.currentTime>=p&&-1===d.Ap.indexOf(a))&&d.Ap.push(a)):k=!1):k=!0}k&&(k=a.url,f(a.url)||(k+=(-1<a.url.indexOf("?")?"&":"?")+"cb="+Math.random().toString(10).substr(2)),b.push(k))})}function f(a){return 0<A.default.kn.filter(function(b){return-1<a.indexOf(b)}).length}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var g=b(c);c=a(2);var h=b(c);
c=a(1);var e=b(c);c=a(85);var k=b(c);c=a(59);var p=b(c);c=a(89);var q=b(c);c=a(34);var u=b(c);c=a(58);var r=b(c);c=a(13);var t=b(c);c=a(61);var y=b(c);c=a(17);c=b(c);var w=a(6);w=b(w);var v=a(77),A=b(v);v=a(28);var D=b(v);v=a(7);var x=b(v);a=a(25);var z=b(a),G=w.default.B("AbstractAd");a=function(a){function b(){(0,g.default)(this,b);var c=(0,h.default)(this,a.call(this));c.Ap=[];c.Np=[];c.ij=[];c.Ga=[];c.Va=[];c.xe=[];c.oj=!1;c.id="";c.state={loaded:!1};return c}(0,e.default)(b,a);b.prototype.dispatchEvent=
function(b){G.debug("dispatchEvent",b);var c=b.Dg();c=b.fr?c:!x.default.Wc(c)&&m.call(this,c);switch(b.type){case t.default.Qf:this.hv||(n(b,this.Np),this.hv=!0);break;case t.default.Eb:n(b,this.ij);break;case t.default.Ea:n(b,this.Ga);break;case t.default.Ya:c instanceof r.default?(n(b,c.Vp),c.Pb&&c.Pb.forEach(function(a){a.type===u.default.uh&&a.url&&b.Lc.push(a.url)})):c&&c.Ki&&l.call(this,c,b.Lc,u.default.Sf);break;case y.default.Ue:l.call(this,c,b.Lc,b.uc,b);break;case p.default.wh:this.Va.forEach(function(a){a instanceof
k.default&&b.Ii.push(a)});break;case q.default.xh:if(!c)return;b.Xp.Pb.forEach(function(a){a.type===b.uc&&a.url&&b.Lc.push(a.url)});break;case u.default.LOADED:this.state.loaded=!0;case u.default.bg:case u.default.Ve:case u.default.ag:case u.default.Qe:case u.default.rb:case u.default.LINEAR_CHANGE:l.call(this,c,b.Lc,b.type)}return a.prototype.dispatchEvent.call(this,b)};return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){var a=this;this.gm=
this.u.Qc();this.xg.forEach(function(b){return(new Image).src=a.gm.resolve(b)})}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var m=b(c);c=a(11);var l=b(c);c=a(10);var f=b(c);a=a(9);var g=b(a);a=function(){function a(b){var c=this;(0,m.default)(this,a);this.xg=[];b.forEach(function(a){(l.default.za(a).Feacon||[]).forEach(function(a){return c.xg.push(l.default.Ca(a))})})}a.prototype.ma=function(a,b){this.u=a;b?g.default.group(g.default.qa(this.u,f.default.Lm,n.bind(this)),g.default.qa(this.u,
f.default.vc,n.bind(this))):n.call(this)};return a}();d.default=a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));d.default=function m(){(0,b.default)(this,m);this.height=this.width=null;this.id="";this.parameters=this.Iw=this.cb=this.oq=this.pq=null;this.Yb="";this.sc=[]}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=
b(c);c=a(1);var l=b(c);c=a(33);c=b(c);var f=a(290),g=a(148),h=b(g);g=a(106);var e=b(g);a=a(11);var k=b(a);a=function(a){function b(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(0,n.default)(this,b);var k=[f.qo,f.Dn,f.Bn,h.default,e.default];return(0,m.default)(this,a.call(this,c,d.concat(k)))}(0,l.default)(b,a);b.prototype.Z=function(a){var b=this,c=this.bq();c.height=a.getAttribute("height");c.width=a.getAttribute("width");c.id=a.getAttribute("id");var e=a.getAttribute("expandedWidth");
c.pq=isNaN(e)?0:e;e=a.getAttribute("expandedHeight");c.oq=isNaN(e)?0:e;c.Yb=a.getAttribute("apiFramework");a=k.default.za(a);[a.StaticResource||[],a.IFrameResource||[],a.HTMLResource||[]].forEach(function(a){a.forEach(function(a){c.sc.push(b.Mc(a.nodeName).parse(a))})});if(e=a.AdParameters)c.parameters=h.default.parse(e[0]);if(e=a[this.wl()])c.cb=this.Nx().parse(e[0]);if(a=a[this.xl()])c.Iw=this.Px().parse(a[0]);return c};b.prototype.Nx=function(){return this.Mc(this.wl())};b.prototype.Px=function(){return this.Mc(this.xl())};
return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(84);c=b(c);var f=a(293),g=b(f);a=a(11);var h=b(a);a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,"AdParameters"))}(0,l.default)(b,a);b.prototype.Z=function(a){var b=new g.default;b.value=h.default.Ca(a);b.jB=a.getAttribute("xmlEncoded");return b};return b}(c.default);
d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(83);a=function(a){function b(c,e){(0,n.default)(this,b);c=(0,m.default)(this,a.call(this,c));c.id=e;return c}(0,l.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){var a=[],b=this.Mc(arguments[1]);(0<arguments.length&&void 0!==arguments[0]?
arguments[0]:[]).forEach(function(c){(c=b.parse(c))&&a.push(c)});return a}function m(a,b){return a?n.call(this,w.default.za(a[0])[b],b):[]}function l(a){var b=a.filter(function(a){return a instanceof t.default})[0];a=a.filter(function(a){return a instanceof y.default})[0];if(b&&a){var c=[r.default.uh,r.default.Sf,r.default.Qe],e=a.Pb;b.Pb.forEach(function(a){var b=a.type;-1!==c.indexOf(b)&&0===e.filter(function(a){return a.type===b}).length&&e.push(a)})}}Object.defineProperty(d,"__esModule",{value:!0});
c=a(0);var f=b(c);c=a(2);var g=b(c);c=a(1);var h=b(c);c=a(33);c=b(c);var e=a(303),k=b(e),p=a(41);e=a(301);var q=b(e);e=a(283);var u=b(e);e=a(34);var r=b(e);e=a(58);var t=b(e);e=a(85);var y=b(e);e=a(11);var w=b(e);a=a(12);var v=b(a);a=function(a){function b(c){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(0,f.default)(this,b);var d=[k.default,p.gn,p.tn,p.Fn,q.default,u.default];return(0,g.default)(this,a.call(this,c,e.concat(d)))}(0,h.default)(b,a);b.prototype.Z=function(a){var b=
this.$p();a=w.default.za(a);b.u=k.default.parse(a.AdSystem[0]);b.Np=n.call(this,a.Attempt,"Attempt");b.ij=n.call(this,a.Impression,"Impression");b.ij.forEach(function(a){-1!==a.url.indexOf("log.adaptv.advertising.com")&&(b.Tz=v.default.ub("5",a.url))});b.Ga=n.call(this,a.Error,"Error");b.Va=m.call(this,a.Creatives,"Creative");b.Va.sort(function(a,b){return a.wb-b.wb});b.xe=m.call(this,a.Extensions,"Extension");l(b.Va);return b};return b}(c.default);d.default=a},function(c,d,a){function b(a){var b=
this;a.forEach(function(a){return b[m][a.Nd()]=a})}Object.defineProperty(d,"__esModule",{value:!0});var n=(c=a(0))&&c.__esModule?c:{default:c};a=(a=a(4))&&a.__esModule?a:{default:a};var m=(0,a.default)(),l=(0,a.default)();a=function(){function a(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(0,n.default)(this,a);this[l]=c;this[m]={};b.call(this,d)}a.prototype.Mc=function(a){return this[m][a]};a.prototype.Lf=function(){};a.prototype.Z=function(){};a.prototype.parse=function(a){return this.Lf&&
this.Lf(a)?this.Z(a):null};a.prototype.Nd=function(){return this[l]};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(107);a=function(a){function b(){(0,n.default)(this,b);var c=(0,m.default)(this,a.call(this));c.pr=[];return c}(0,l.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}
Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(86);a=function(a){function b(c,e){(0,n.default)(this,b);c=(0,m.default)(this,a.call(this,c,e));c.Mk=[];return c}(0,l.default)(b,a);b.prototype.initAd=function(a,b,c,d,f){f=f.AdParameters||"";this.K("initAd",a,b,c,d,f,"")};b.prototype.startAd=function(){this.K("startAd")};b.prototype.stopAd=function(){this.K("stopAd")};b.prototype.setAdVolume=function(a){this.K("setAdVolume",a)};b.prototype.getAdVolume=
function(){return this.K("getAdVolume")};b.prototype.resizeAd=function(a,b,c){this.K("resizeAd",a,b,c)};b.prototype.pauseAd=function(){this.K("pauseAd")};b.prototype.resumeAd=function(){this.K("resumeAd")};b.prototype.collapseAd=function(){this.K("collapseAd")};b.prototype.expandAd=function(){this.K("expandAd")};b.prototype.getAdExpanded=function(){return this.K("getAdExpanded")};b.prototype.getAdSkippableState=function(){return this.K("getAdSkippableState")};b.prototype.skipAd=function(){this.K("skipAd")};
b.prototype.getAdWidth=function(){return this.K("getAdWidth")};b.prototype.getAdHeight=function(){return this.K("getAdHeight")};b.prototype.getAdDuration=function(){return this.K("getAdDuration")};b.prototype.getAdLinear=function(){return this.K("getAdLinear")};b.prototype.getAdRemainingTime=function(){return this.K("getAdRemainingTime")};b.prototype.getAdIcons=function(){return this.K("getAdIcons")};b.prototype.getAdCompanions=function(){return this.K("getAdCompanions")};b.prototype.handshakeVersion=
function(a){return this.K("handshakeVersion",a)};b.prototype.subscribe=function(a,b,c){var e=a;c&&(e=a.bind(c),this.Mk.push({Dw:e,listener:a}));this.addEventListener(b,e)};b.prototype.unsubscribe=function(a,b){for(var c=0;c<this.Mk.length;++c){var e=this.Mk[c];if(a===e.listener){this.removeEventListener(b,e.Dw);return}}this.removeEventListener(b,a)};return b}(b(a).default);d.default=a;a.lD="VPAIDWrapper.SOUND_VIOLATION"},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,
"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(18);a=function(a){function b(c,e){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,c,e))}(0,l.default)(b,a);return b}(b(a).default);d.default=a;a.xo="UNIQUE_ERROR"},function(c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default={Hj:"acceptInvitation",ns:"acceptInvitationLinear",vh:"close",mn:"closeLinear",Rf:"collapse",Bh:"expand"}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}
function n(){var a=this,b=[[U.default.vs,B],[U.default.Pm,D],[U.default.yc,q],[U.default.Tm,v],[U.default.fh,G],[U.default.Qb,C],[U.default.bd,K],[U.default.zc,N],[U.default.Bs,u],[U.default.Rb,J],[U.default.Lj,h],[U.default.Wm,x],[U.default.Zm,A],[U.default.dd,w],[U.default.Pf,O],[U.default.sa,z],[U.default.cn,V],[U.default.Fs,r],[U.default.Gs,y],[U.default.Hs,t],[U.default.gh,R],[U.default.hh,F],[U.default.ih,E],[U.default.jh,H],[U.default.kh,Q],[U.default.lh,W]],c=this;this[wa]={addEventListener:function(a,
b){g.call(c,"subscribe",b,a,c)},removeEventListener:function(a,b){try{g.call(c,"unsubscribe",b,a)}catch(sa){}}};b.forEach(function(b){return m.call(a,b[0],b[1])});this[Ka]=0}function m(a,b){var c=this;this[Ca].link(ab.default.bind(this[wa],a,function(){for(var e=arguments.length,d=Array(e),f=0;f<e;f++)d[f]=arguments[f];try{if(-1!==xa.indexOf(a)){if(-1!==c[va].indexOf(a)){c.l.dispatchEvent(new Da.default(qb.default.xo,a));return}c[va].push(a)}b.apply(c,d)}catch(hb){I.error("Failed to handle "+a+" event:",
hb)}}))}function l(a){var b=document.createEvent("MouseEvent");b.initEvent(a.type,!a.cancelBubble,a.cancelable);this[bb].dispatchEvent(b)}function f(a){this.element.style.visibility=a?"visible":"hidden"}function g(a){if(this.Za)try{for(var b=this.Za[a],c=arguments.length,e=Array(1<c?c-1:0),d=1;d<c;d++)e[d-1]=arguments[d];if(b)return b.apply(this.Za,e);if(this.Za.K)return this.Za.K(a,e)}catch(sa){I.error(a,sa)}}function h(){I.debug("onAdPlaying");this.l.km()}function e(a){this.Za=a.Km;this[fa]=(new Date).getTime()-
this[da];if(this.Za instanceof ib.default){var b=this.Xg.bind(this,"Internal wrapper critical error");this[Ca].link(ab.default.bind(this.Za,rb.default.Tf,b))}try{this.Oy(a.data)}catch(Ia){k.call(this,Ia.message)}}function k(a){I.error(a);var b=p.call(this);this.error={Y:b.Y,code:b.code,description:b.description+" "+a,ba:b.ba};this.uq()}function p(){var a=this[Wa]||cb;this[ja]&&this[ja].mimeType===Xa.default.Wf?a=Ea.default.Pu:this.Za&&!this[jb]?a=this.Xb?Ea.default.Ku:Ea.default.Ju:this[jb]&&!this.nj()?
a=this.Xb?Ea.default.Ou:Ea.default.Nu:this.nj()&&(a=Ea.default.Mu);return a}function q(a){a=Ta.default.Kg(a)?Ta.default.Kg(a.data)?a.data.message||a.data.errorMessage:"Internal Vpaid Error":a;I.warn("VPAID_UNIT:",a);-1!==Na.indexOf(a)?this.stop():this.Xg(a)}function u(a){I.debug("VPAID_UNIT:",a)}function r(){I.debug("onAdUserAcceptInvitation");var a=g.call(this,"getAdLinear");this.track(la.default.Hj);this.l.dispatchEvent(new Da.default(qa.default.Qb,a?Oa.default.ns:Oa.default.Hj))}function t(){I.debug("onAdUserMinimize");
this.track(la.default.Rf)}function y(){I.debug("onAdUserClose");var a=g.call(this,"getAdLinear");this.track(la.default.vh);this.l.dispatchEvent(new Da.default(qa.default.Qb,a?Oa.default.mn:Oa.default.vh))}function w(){-1===this.oc.indexOf("//imasdk.googleapis.com")&&(I.debug("Ad Skippable State changed to",g.call(this,"getAdSkippableState")),this.dispatchEvent(sb.default.dd))}function v(){var a=g.call(this,"getAdExpanded");I.debug("Ad Expanded changed to",a);a?(this.track(la.default.Bh),this.l.Ar(),
this.l.dispatchEvent(new Da.default(qa.default.Qb,Oa.default.Bh))):(this.track(la.default.Rf),this.l.Pr(),this.l.dispatchEvent(new Da.default(qa.default.Qb,Oa.default.Rf)))}function A(){I.debug("Ad size changed to: w="+g.call(this,"getAdWidth")+" h="+g.call(this,"getAdHeight"))}function D(){I.debug("Ad Duration changed to",g.call(this,"getAdDuration"))}function x(){I.debug("Ad Remaining Time changed to",this.Pc());this.l.Je()}function z(){I.debug("Ad has started");this.vj();this.setVolume(this[ha]);
this.rq();this.l.Je();this.l.zj();G.call(this)}function G(){var a=this;this.dg||(I.debug("Ad Impression"),this.Td(),this.Sg({initlatency:this[db],loadlatency:this[fa]}),(this.$l()||this[ya]===Ha.default.qb)&&f.call(this,!0),setTimeout(function(){return a[eb]=!0},500))}function B(a,b,c){I.debug("Clickthrough portion of the ad was clicked",a,b,c);(c=!!c||void 0===c)?b=!!a:(a=null,b=!1);this.l.sf(a,b,!c)}function C(){I.debug("A non-clickthrough event has occured");this.l.dispatchEvent(new Da.default(qa.default.Qb))}
function H(){I.debug("Video 0% completed");this.vj();this.Xa(la.default.Th)}function F(){I.debug("Video 25% completed");this.Xa(la.default.md)}function E(){I.debug("Video 50% completed");this.Xa(la.default.ck)}function Q(){I.debug("Video 75% completed");this.Xa(la.default.wd)}function R(){I.debug("Video 100% completed");this.Xa(la.default.Ha)}function K(){var a=g.call(this,"getAdLinear");a!==this[ta]&&(this[ta]=a,I.debug("Ad linear changed to",a),this.l.Mg(a))}function M(){this.Xb||(I.debug("startAd"),
this.l.dispatchEvent(new Da.default(qa.default.Uj)),g.call(this,"startAd"),this.l.resize(za.default.enabled()&&za.default.Jg()))}function N(){this[jb]=!0;I.debug("ad has been loaded",this);this[db]=(new Date).getTime()-this[da];this.setVolume(this[ha]);Ta.default.gl(M.bind(this))}function V(){I.debug("Ad has stopped");this[Fa]&&clearTimeout(this[Fa]);this.nj()&&this.dg||(this.error=p.call(this));this.dispose();this.l.complete(!1,{currentTime:this.getCurrentTime()})}function O(){I.debug("Ad was skipped");
this.uq()}function W(){var a=this.getVolume();if(a!==this[ha]&&this.nj()){var b=!a;I.debug("Ad Volume changed to",a);b?this.track(la.default.dk):this.track(la.default.rk);this[ha]=a;this.l.Ug({muted:b,volume:this[ha]})}}function J(){I.debug("onAdPaused");this.l.jm();!this[eb]&&0<this.getVolume()&&!this[ua]&&(this.setVolume(0),this.resume())}function T(a){switch(a.type){case ra.default.zn:k.call(this,"function getVPAIDAd does not exist");break;case ra.default.Vn:k.call(this,"getVPAIDAd() does not return a creative");
break;case ra.default.fn:k.call(this,"API function "+a.name+" is missing");break;case ra.default.No:this[Wa]=Ea.default.Lu;k.call(this,"Vpaid url "+a.url+" is unavailable");break;default:this.Xg("Error with vpaid: "+a)}}function P(){if(this[ja].mimeType===Xa.default.Wf)return Ta.default.Lb.chrome&&this[ya]===Ha.default.Qa&&this[La].Hm(!0),I.debug("Use flash vpaid runner"),this[Aa].resolve(Ma.default.Xj);if(this[La].$q())return I.debug("Use secure vpaid runner"),this[Aa].resolve(Ma.default.no);I.debug("Use insecure vpaid runner");
return this[Aa].resolve(Ma.default.Hn)}function ia(){za.default.Jg()?(this.Xa(la.default.ut),this.Xa(la.default.Yt)):(this.Xa(la.default.un),this.Xa(la.default.Xt))}Object.defineProperty(d,"__esModule",{value:!0});var S=a(0),ba=b(S),L=a(2),aa=b(L),ca=a(1),Sa=b(ca),ea=a(4),Y=b(ea),pb=a(16),Ha=b(pb),$a=a(5),Ma=b($a),tb=a(18),Da=b(tb),kb=a(9),ab=b(kb),Ua=a(122),za=b(Ua),Va=a(6),ub=b(Va),lb=a(7),Ta=b(lb),vb=a(25),la=b(vb),wb=a(155),Oa=b(wb),xb=a(60),yb=b(xb),zb=a(10),sb=b(zb),fb=a(154),qb=b(fb),Ab=a(19),
Ea=b(Ab),mb=a(86),rb=b(mb),Bb=a(153),ib=b(Bb),na=a(88),Xa=b(na),Ya=a(121),ra=b(Ya),nb=a(134),U=b(nb),oa=a(37),qa=b(oa),X=a(13),Pa=b(X),I=ub.default.B("VPAIDMediaElement"),cb=Ea.default.zt,Na=["There was an error in the google ad. AdError 1009: The VAST response document is empty."],xa=[U.default.sa,U.default.cn,U.default.Pf,U.default.zc,U.default.fh,U.default.jh,U.default.hh,U.default.ih,U.default.kh,U.default.gh],ya=(0,Y.default)(),ob=(0,Y.default)(),La=(0,Y.default)(),wa=(0,Y.default)(),ma=(0,Y.default)(),
va=(0,Y.default)(),Ka=(0,Y.default)(),Aa=(0,Y.default)(),ja=(0,Y.default)(),bb=(0,Y.default)(),Fa=(0,Y.default)(),Z=(0,Y.default)(),ha=(0,Y.default)(),Ga=(0,Y.default)(),Ca=(0,Y.default)(),ta=(0,Y.default)(),da=(0,Y.default)(),fa=(0,Y.default)(),db=(0,Y.default)(),Wa=(0,Y.default)(),jb=(0,Y.default)(),Ba=(0,Y.default)(),ua=(0,Y.default)(),eb=(0,Y.default)(),Cb=function(a){function b(c,e,d,f){(0,ba.default)(this,b);I.debug("init");var k=(0,aa.default)(this,a.call(this,f.H(Ma.default.dc)));k[ta]=!0;
k[ja]=c;k[ya]=e;k[ob]=d;k[Aa]=f;k[va]=[];k[Ca]=ab.default.empty();k[bb]=k[Aa].H(Ma.default.va);k[La]=k[Aa].H(Ma.default.P);k[ma]=k[Aa].H(Ma.default.ta);k[ha]=0;k.oc=k[ja].url||k[ja].value;k[Ba]=ia.bind(k);return k}(0,Sa.default)(b,a);b.prototype.load=function(){a.prototype.load.call(this);this.l.noResize();this.l.Kd();f.call(this,!(this.$l()||this[ya]===Ha.default.qb))};b.prototype.createElement=function(){return Ta.default.createElement("div",{style:"position: absolute; width: 100%; height: 100%; z-index: 1; text-align: left; top:0px;"})};
b.prototype.De=function(){var b=this;I.debug("initElement");a.prototype.De.call(this);f.call(this,!(this.$l()||this[ya]===Ha.default.qb));this[da]=(new Date).getTime();P.call(this).then(function(a){b[Ga]=a;b[Ga].Di(b.element,b.oc,b[ya],b.F,b[La],b[ob].Ji).then(e.bind(b),T.bind(b))})};b.prototype.Oy=function(a){g.call(this,"handshakeVersion","2.0");n.call(this);var b=a.width;a=a.height;this[Z]="normal";var c=this.l.wq(),e=this.l.sl();e={AdParameters:e&&e.value};I.debug("initAd",b,a,this[Z],c,e);g.call(this,
"initAd",b,a,this[Z],c,e);g.call(this,"subscribe",l.bind(this),"mousemove");g.call(this,"subscribe",l.bind(this),"mouseover");za.default.enabled()&&za.default.ow(this[Ba])};b.prototype.$l=function(){return"Midroll"===this[ya]};b.prototype.resize=function(){a.prototype.resize.call(this);this[Z]=za.default.enabled()&&za.default.Jg()?"fullscreen":"normal";var b=this.F.dj(),c=this.F.$i();I.debug("resize ad",{height:c,viewMode:this[Z],width:b});g.call(this,"resizeAd",b,c,this[Z])};b.prototype.Xg=function(a){I.debug("stopByError",
a);this.error=p.call(this);this.l.dispatchEvent(new Da.default(qa.default.yc),a);this.l.tf(Pa.default.Ea,{Jd:a,error:this.error});this.stop()};b.prototype.getAdSkippableState=function(){return-1!==this.oc.indexOf("//imasdk.googleapis.com")?!1:g.call(this,"getAdSkippableState")};b.prototype.getDuration=function(){if(!this.Za)return 0;var a=g.call(this,"getAdDuration");(!a||0>=a)&&0<this[Ka]&&(a=this[Ka]);return a};b.prototype.stop=function(){I.debug("stopAd");this.Xb||(this.Xb=!0,this.Za?(g.call(this,
"stopAd"),this[Fa]=setTimeout(V.bind(this),400)):V.call(this))};b.prototype.uq=function(){I.debug("forceStop");this.dispose();this[Fa]&&clearTimeout(this[Fa]);this.l.complete(!0)};b.prototype.dispose=function(){I.debug("dispose");this[Ca]&&(this[Ca].S(),this[Ca]=null);this.Za&&(this.Za.ue&&this.Za.ue(),this.Za=null);this[Ga]&&this[Ga].yf();za.default.enabled()&&za.default.aA(this[Ba])};b.prototype.Da=function(){g.call(this,"skipAd")};b.prototype.setVolume=function(a){this[ha]=a;g.call(this,"setAdVolume",
a)};b.prototype.getVolume=function(){return g.call(this,"getAdVolume")};b.prototype.pause=function(){g.call(this,"pauseAd");this[ua]=!0};b.prototype.resume=function(){g.call(this,"resumeAd")};b.prototype.expandAd=function(){g.call(this,"expandAd")};b.prototype.collapseAd=function(){g.call(this,"collapseAd")};b.prototype.invokeAdMethod=function(a,b){g.call(this,"invokeAdMethod",a,b)};b.prototype.getAdRemainingTime=function(){return g.call(this,"getAdRemainingTime")};b.prototype.Pc=function(){if(!this.Za)return 0;
var a=this.getAdRemainingTime();a>this[Ka]&&(this[Ka]=a);return a};b.prototype.Td=function(){a.prototype.Td.call(this);this[ta]=g.call(this,"getAdLinear");this[Ga]&&this[Ga].show()};return b}(yb.default);d.default=Cb},function(c,d,a){var b=a(3)(b||{},{A:{$h:{}}});b.A.$h={DC:"RollOverVideo",nD:"ThirdPartyPosterAvailable",yD:"VideoBufferingEnd",zD:"VideoBufferingStart",Do:"VideoClickEvent",Eo:"VideoEndEvent",Fo:"VideoErrorEvent",Bu:"VideoLoadEvent",CD:"VideoMetaDataEvent",Ho:"VideoPauseEvent",uk:"VideoPlayEvent",
Du:"VideoProgressEvent",Io:"VideoResumeEvent",DD:"VideoSeekEvent",ED:"VideoSeekEnd",FD:"VideoSeekStart",Jo:"VideoStartEvent",Ko:"VideoTimeUpdateEvent",GD:"VideoTouchStartEvent",Xh:"VideoVolumeChangedEvent",Mo:"VideoWaiting",HD:"VideoWebkitBeginFullscreen",ID:"VideoWebkitEndFullscreen",Go:"VideoFallbackEvent"};d.vdb={A:{$h:b.A.$h}};d.default=b.A.$h;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){var a=this;R.debug("mouseClickHandler");this[V]||(this.l.sf(),
this[V]=setTimeout(function(){return a[V]=null},100))}function m(a){this.Xg(a.message,a.code)}function l(){this[J]=K.PAUSED;this.track(B.default.Ph);this.l.jm()}function f(a){this.l.Ug(a);!0===a.muted?this.track(B.default.dk):this.track(B.default.rk)}function g(){this.l.vr()}function h(){this[J]=K.ee;this.track(B.default.ko);this.l.km()}function e(a){this.l.YA(a.url)}function k(){this[J]!==K.rb&&(this[N]=!0,this[M]=x.default.group(x.default.bind(this.F,C.default.Do,n.bind(this)),x.default.bind(this.F,
C.default.Fo,m.bind(this)),x.default.bind(this.F,C.default.uk,q.bind(this)),x.default.bind(this.F,C.default.Jo,u.bind(this)),x.default.bind(this.F,C.default.Io,h.bind(this)),x.default.bind(this.F,C.default.Ho,l.bind(this)),x.default.bind(this.F,C.default.Eo,p.bind(this)),x.default.bind(this.F,C.default.Xh,f.bind(this)),x.default.bind(this.F,C.default.Ko,r.bind(this)),x.default.bind(this.F,C.default.Mo,g.bind(this)),x.default.bind(this.F,C.default.Go,e.bind(this)),x.default.bind(this[O],"click",n.bind(this))),
this.l.Na.cb&&((this.F.Al().style||{}).cursor="pointer"),this.F.play())}function p(a){a.complete&&this.Xa(B.default.Ha);this.F.tm();this[J]=K.rb;this[M].S();this.l.complete(!1,a)}function q(){this.vj();this[J]=K.ee}function u(){this.dg||(this.vj(),this.l.Je(),this.Xa(B.default.Th),this.Sg(),this.Td())}function r(a){this.l.sj(a);this.Dj(this.F.yl())}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var t=b(c);c=a(2);var y=b(c);c=a(1);var w=b(c);c=a(4);c=b(c);var v=a(16),A=b(v);v=a(18);var D=
b(v);v=a(9);var x=b(v);v=a(6);v=b(v);var z=a(7),G=b(z);z=a(25);var B=b(z);z=a(157);var C=b(z);z=a(60);z=b(z);var H=a(19),F=b(H);H=a(37);var E=b(H);a=a(13);var Q=b(a),R=v.default.B("SimpleVideoMediaElement"),K={yh:"created",PAUSED:"paused",ee:"playing",rb:"stopped"},M=(0,c.default)(),N=(0,c.default)(),V=(0,c.default)(),O=(0,c.default)(),W=(0,c.default)(),J=(0,c.default)();a=function(a){function b(c,e,d){(0,t.default)(this,b);c=(0,y.default)(this,a.call(this,c));R.debug("init",e);c[J]=K.yh;c[W]=e;c[O]=
d;return c}(0,w.default)(b,a);b.prototype.createElement=function(){return G.default.createElement("div",{style:"display: none"})};b.prototype.load=function(){a.prototype.load.call(this);this.l.Kd()};b.prototype.De=function(){R.debug("initElement");this.l.dispatchEvent(new D.default(E.default.Uj));var a=this.bm()?this.F.BA(this[W]):this.F.yA(this[W]);a&&a.then?a.then(k.bind(this)):k.call(this)};b.prototype.bm=function(){var a=this.l.la();return a&&a.getType()===A.default.Qa};b.prototype.stop=function(){R.debug("stop");
this[J]=K.rb;if(this[N]){this[M].S();this.F.stop();this.F.tm();var b=this.F.Al().style;b&&(b.cursor="")}a.prototype.stop.call(this)};b.prototype.pause=function(){this[J]===K.ee&&this.F.pause()};b.prototype.resume=function(){this[J]===K.PAUSED&&this.F.play()};b.prototype.Pc=function(){return this.F.Pc()};b.prototype.Xg=function(a,b){R.debug("stopByError",a);this[J]=K.rb;var c=F.default.xt,e="video playback error";switch(b){case 2:c=F.default.vn;break;case 3:case 4:c=F.default.Kh;break;case 5:c=F.default.Kh,
e="autoplay issue"}this.error=c;this.l.dispatchEvent(new D.default(E.default.yc),a);this.dg||this.l.tf(Q.default.Ea,{Jd:e,error:c});this.stop()};b.prototype.setVolume=function(a){this.F.setVolume(a);this.F.mute(0===a)};b.prototype.getDuration=function(){return this.F.getDuration()};return b}(z.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){this.oe=new H.default(this.La.isMuted(),this.D);this.oe.addEventListener(H.default.Ya,this.La.mute.bind(this.La))}
function m(){var a=this.N.Pc();if(0>=a)clearInterval(this.Qk);else{this.dispatchEvent(new w.default(1E3*a));a=this.N.getCurrentTime();var b=this.N.getDuration()||a;this.sj({currentTime:Math.min(a,b),duration:b})}}function l(){var a=this.Aa();return a&&a.Yb&&a.Yb.toLowerCase()===e.default.Yh}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var f=b(c);c=a(2);var g=b(c);c=a(1);var h=b(c);c=a(125);var e=b(c);c=a(5);var k=b(c);c=a(18);var p=b(c);c=a(9);var q=b(c);c=a(22);var u=b(c);c=a(6);c=b(c);
var r=a(38);r=b(r);var t=a(7),y=b(t);t=a(164);var w=b(t);t=a(10);var v=b(t);t=a(109);t=b(t);var A=a(318),D=b(A);A=a(158);var x=b(A);A=a(156);var z=b(A);A=a(315);var G=b(A);A=a(88);var B=b(A);A=a(59);var C=b(A);a=a(313);var H=b(a),F=c.default.B("LinearView"),E=[r.default.Oh,r.default.tk];a=function(a){function b(c,e,d,p,h,q,m,r,t){(0,f.default)(this,b);c=(0,g.default)(this,a.call(this,c,e,d,p,h[0],m,t));c.ip=h;c.F=r;c.cg=q;c.To=q.getType();c.Ma=m.ia();c.o=c.Ma.H(k.default.P);c.kg=c.Ma.H(k.default.va);
c.D=c.Ma.H(k.default.cc);c.o.WA({OA:new u.default});if(!l.call(c)&&(h=c.Na||{},h=h.parameters&&h.parameters.value,"string"===typeof h&&(h=y.default.pl(h.trim().replace(/\+/g,"%20")),h.cd))){q=void 0;try{q=JSON.parse(h.cd)}catch(ia){}q=q||{};q.startMuted&&(c.La.isMuted()||c.La.mute(!0));q.muteButtonEnabled&&setTimeout(n.bind(c),100)}p=p&&p.Wd||c.Ia.Vg&&!y.default.Wc(c.Ia.Vg);-1===E.indexOf(c.o.Ae())&&new D.default(m,p);c.type="LinearView";return c}(0,h.default)(b,a);b.prototype.Ug=function(b){a.prototype.Ug.call(this,
b);this.oe&&this.oe.Pz(b.muted)};b.prototype.Tl=function(b){this.oa&&(this.oa.S(),this.oa=null);a.prototype.Tl.call(this,b)};b.prototype.YA=function(a){this.aa=this.ip.filter(function(b){return b.url===a})[0]};b.prototype.Jf=function(){var a=this,b=this.Aa(),c=void 0;l.call(this)?(this.fv=e.default.Yh,c=new z.default(b,this.To,this.Ia,this.Ma),this.oa||(this.oa=q.default.empty()),this.oa.link(q.default.bind(c,v.default.dd,function(){a.La.dispatchEvent(new p.default(v.default.dd,{Wd:a.getAdSkippableState()}))}))):
b.mimeType===B.default.xn?(c=this.Ma.resolve(k.default.wn),c=new G.default(this.F,b.url,c,this.kg,this.D)):(b=this.ip.map(function(a){return a.url}),c=new x.default(this.F,b,this.D));return c};b.prototype.complete=function(b,c){this.oe&&this.oe.rf();this.oa&&(this.oa.S(),this.oa=null);clearInterval(this.Qk);a.prototype.complete.call(this,b,c);clearTimeout(this.wp)};b.prototype.Mg=function(b){a.prototype.Mg.call(this,b);var c=new v.default(v.default.bd,this.To,{isLinear:b});F.debug("linear state changed to",
b,"dispatch event",c);this.dispatchEvent(c)};b.prototype.zj=function(){F.debug("showCompanion");this.ad.dispatchEvent(new C.default(this.Na))};b.prototype.Aa=function(){return this.aa||null};b.prototype.sl=function(){return this.Na.parameters};b.prototype.wq=function(){return this.aa.Hi};b.prototype.Ui=function(){return this.aa.Og};b.prototype.Vi=function(){return this.aa.Fe};b.prototype.getAdHeight=function(){return this.aa.height};b.prototype.getAdWidth=function(){return this.aa.width};b.prototype.ze=
function(){var a=this.La.Ox();a||(a=(a=this.Na.cb)?a.url:null);return a};b.prototype.getDuration=function(){if(this.N)return this.N.getDuration()};b.prototype.getCurrentTime=function(){if(this.N)return this.N.getCurrentTime()};b.prototype.getAdSkippableState=function(){if(this.N&&this.N.getAdSkippableState)return this.N.getAdSkippableState()};b.prototype.la=function(){return this.cg};b.prototype.Wi=function(){return this.La};b.prototype.stop=function(){this.oe&&this.oe.rf();a.prototype.stop.call(this)};
b.prototype.Je=function(){this.Qk||(0<this.N.Pc()?this.Qk=setInterval(m.bind(this),1E3):(clearTimeout(this.wp),this.wp=setTimeout(this.Je.bind(this),200)))};return b}(t.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){u.debug("onImageClick");this.l.sf(null)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var m=b(c);c=a(2);var l=b(c);c=a(1);var f=b(c);c=a(60);c=b(c);var g=a(13),h=b(g);g=a(19);var e=b(g);g=a(6);g=b(g);var k=a(9),p=b(k);a=
a(7);var q=b(a),u=g.default.B("LoadableImageElement");a=function(a){function b(c,e){(0,m.default)(this,b);e=(0,l.default)(this,a.call(this,e));u.debug("init",c);e.oc=c;return e}(0,f.default)(b,a);b.prototype.createElement=function(){u.debug("createDisplayObject");var a=q.default.createElement("img",{style:{position:"absolute",zIndex:1}});this.Ik=p.default.group(p.default.bind(a,"load",this.im.bind(this)),p.default.bind(a,"error",this.sr.bind(this)));a.src=this.oc.replace(/\s+/g,"");return a};b.prototype.im=
function(){u.info("onImageLoaded",this.oc);this.element.addEventListener("click",n.bind(this));u.debug("draw");this.Sg();this.Td();this.l.Kd()};b.prototype.sr=function(a){u.debug("onImageError",a);this.element.offsetWidth?this.im():(this.l.tf(h.default.Ea,{error:e.default.Rn}),this.l.complete(!0))};b.prototype.stop=function(){u.debug("stop");this.Ik&&this.Ik.S();a.prototype.stop.call(this)};return b}(c.default);d.default=a},function(c,d,a){var b=a(3)(b||{},{f:{Ah:{}}});b.f.Ah={$j:"id",Us:"class"};
d.vdb={f:{Ah:b.f.Ah}};d.default=b.f.Ah;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(4);c=b(c);var m=a(9),l=b(m);a=a(10);var f=b(a),g=(0,c.default)(),h=(0,c.default)(),e=(0,c.default)();a=function(){function a(b,c){(0,n.default)(this,a);this[h]=b;this[e]=c;this.Ke=0;this[g]=l.default.group(l.default.bind(this[h],f.default.sa,this.hm.bind(this)),l.default.bind(this[h],f.default.ob,this.Rg.bind(this)),
l.default.bind(this[h],f.default.Rb,this.wj.bind(this)),l.default.bind(this[h],f.default.Pe,this.wj.bind(this)),l.default.bind(this[h],f.default.vc,this.qr.bind(this)))}a.prototype.ra=function(){return this[e].ra()};a.prototype.wj=function(){this.Ke=0};a.prototype.hm=function(){this.um()};a.prototype.Rg=function(){};a.prototype.qr=function(){};a.prototype.um=function(){this.wj()};a.prototype.S=function(){this[g].S()};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:
{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(4);c=b(c);a=a(162);a=b(a);var f=(0,c.default)(),g=(0,c.default)(),h=(0,c.default)(),e=(0,c.default)(),k=(0,c.default)(),p=(0,c.default)();a=function(a){function b(c,d){(0,n.default)(this,b);c=(0,m.default)(this,a.call(this,c,d));c[e]=0;return c}(0,l.default)(b,a);b.prototype.Sr=function(a,b,c){this[f]=a;this[g]=b;this[h]=c};b.prototype.hm=function(){a.prototype.hm.call(this);this[k]=
!0;this[f]()};b.prototype.Rg=function(){if(!this[p]){var a=+new Date;50<=this.ra()?this.Ke&&(this[e]+=(a-this.Ke)/1E3,2<=this[e]&&(this[g](),this[p]=!0)):this.wj();this.Ke=a}};b.prototype.qr=function(){if(this[k]&&!this[p])this[h]()};b.prototype.um=function(){a.prototype.um.call(this);this[k]=!1;this[p]=!1;this[e]=0};return b}(a.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);
c=a(1);var l=b(c);a=a(18);a=function(a){function b(c){(0,n.default)(this,b);var e=(0,m.default)(this,a.call(this,b.wo));e.Mr=c;return e}(0,l.default)(b,a);b.prototype.clone=function(){return new b(this.Mr)};return b}(b(a).default);d.default=a;a.wo="AdRemainingTimeUpdateEvent"},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));c=function(){function a(){(0,b.default)(this,a);this.ads=[];this.Ga=[]}a.prototype.Dq=function(a){return(this.MA||
a)&&0<this.ads.length?this:this.parent?this.parent.Dq(a):null};a.prototype.qy=function(a){for(var b=[],c=this;;){c.mm&&b.push(c.mm);if(c.parent===a)return b;if(!c.parent)return[];c=c.parent}};return a}();d.default=c},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(4);c=b(c);a=a(17);a=b(a);var f=(0,c.default)();a=function(a){function b(){(0,n.default)(this,b);var c=(0,m.default)(this,
a.call(this));c[f]="Engine.LOADING";return c}(0,l.default)(b,a);b.prototype.Mp=function(){};b.prototype.load=function(){};b.prototype.tc=function(){this[f]="Engine.RUNNING";"undefined"!==typeof this.jf&&this.setVolume(this.jf)};b.prototype.ready=function(){this[f]="Engine.READY"};b.prototype.stop=function(){this[f]="Engine.STOPPED"};b.prototype.complete=function(a){this[f]=a?"Engine.FAILED":"Engine.COMPLETE"};b.prototype.Da=function(){};b.prototype.pause=function(){};b.prototype.resume=function(){};
b.prototype.setVolume=function(a){this.jf=a};b.prototype.getDuration=function(){return 0};b.prototype.getCurrentTime=function(){return 0};b.prototype.eb=function(){return 0};b.prototype.getAdSkippableState=function(){return!1};b.prototype.iz=function(){return"Engine.LOADING"===this[f]};b.prototype.mj=function(){return"Engine.READY"===this[f]};b.prototype.Qd=function(){return"Engine.RUNNING"===this[f]};b.prototype.dr=function(){return"Engine.COMPLETE"===this[f]};b.prototype.Hg=function(){return"Engine.FAILED"===
this[f]};b.prototype.Lg=function(){return"Engine.STOPPED"===this[f]};b.prototype.Zb=function(){return!1};b.prototype.la=function(){return null};b.prototype.Aa=function(){return null};b.prototype.Sc=function(){return null};b.prototype.getAdCompanions=function(){return""};return b}(a.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(4);c=b(c);var f=a(6);f=
b(f);var g=a(9),h=b(g);g=a(16);var e=b(g);g=a(166);g=b(g);a=a(10);var k=b(a),p=f.default.B("AdEngineAdapter"),q=(0,c.default)(),u=(0,c.default)(),r=(0,c.default)(),t=(0,c.default)();a=function(a){function b(c,e,d){(0,n.default)(this,b);var f=(0,m.default)(this,a.call(this));f[q]=c;f[r]=e;f[t]=d;f[u]=h.default.group(h.default.bind(f[q],k.default.xc,f.ready.bind(f)),h.default.bind(f[q],k.default.$c,f.complete.bind(f)),h.default.bind(f[q],k.default.sa,f.dispatchEvent.bind(f)));return f}(0,l.default)(b,
a);b.prototype.Mp=function(){this[u].link(h.default.group(arguments))};b.prototype.load=function(){p.debug("load");this[q].load()};b.prototype.ready=function(b){a.prototype.ready.call(this);p.debug("onEngineReady",b);this.dispatchEvent(b)};b.prototype.tc=function(){if(!this.Lg()){a.prototype.tc.call(this);var b=this.la().getType();p.debug("run","adType",b);b===e.default.qb?this[q].Mf():this[q].xm(this[r].Cz)}};b.prototype.stop=function(){var b=!this.dr()&&!this.Hg()&&!this.Lg();p.debug("stop",b);
b&&(this[q].stop(),a.prototype.stop.call(this))};b.prototype.complete=function(b){p.debug("onEngineComplete",b);b.ml=this.la();b.mw=this;(this.Qd()||b.data.error)&&this[t].release(this.la());a.prototype.complete.call(this,b.data.error);this.dispatchEvent(b);this[u].S()};b.prototype.Da=function(){this[q].Da()};b.prototype.pause=function(){this[q].pause()};b.prototype.resume=function(){this[q].resume()};b.prototype.setVolume=function(b){a.prototype.setVolume.call(this,b);this.Qd()&&this[q].setVolume(b)};
b.prototype.getDuration=function(){if(this[q].getDuration)return this[q].getDuration()};b.prototype.getCurrentTime=function(){if(this[q].getCurrentTime)return this[q].getCurrentTime()};b.prototype.eb=function(){if(this[q].eb)return this[q].eb()};b.prototype.getAdSkippableState=function(){if(this[q].getAdSkippableState)return this[q].getAdSkippableState()};b.prototype.Sc=function(){if(this[q].Sc)return this[q].Sc()};b.prototype.Zb=function(){if(this[q].Zb)return this[q].Zb()};b.prototype.la=function(){return this[q].la()};
b.prototype.Aa=function(){if(this[q].Aa)return this[q].Aa()};b.prototype.getAdCompanions=function(){if(this[q].getAdCompanions)return this[q].getAdCompanions()};return b}(g.default);d.default=a},function(c,d,a){c=a(3);var b=c(b||{},{b:{xb:{}},log:{}});b=c(a(30).vdb,b||{});b.log=a(6).vdb.log;b.b.xb=function(){function a(b){var c=+(1E6*Math.random()).toFixed(0);return b[c]?a(b):c}function c(a){a=a.toString();a=a.substring(a.indexOf("{")+1,a.lastIndexOf("}"));try{var b=new window.Blob([a],{type:"application/javascript"})}catch(e){window.BlobBuilder=
f,b=new window.BlobBuilder,b.append(a),b=b.getBlob()}return window.URL.createObjectURL(b)}var d=b.log.B("Timers"),f=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;return function(){var b=!1;try{b=eval("(_ => true)()")}catch(p){d.debug("Modern browser check failed")}if(!(window.Worker&&window.Promise&&b&&window.Blob&&f))return!1;window.URL=window.URL||window.webkitURL;try{var h=new window.Worker(c(function(){var a=this,b={},c={};a.onmessage=function(e){switch(e.data.type){case "setTimeout":b[e.data.id]=
setTimeout(function(){a.postMessage({id:e.data.id,type:"setTimeout"})},e.data.timeout);break;case "clearTimeout":clearTimeout(b[e.data.id]);delete b[e.data.id];break;case "setInterval":c[e.data.id]=setInterval(function(){a.postMessage({id:e.data.id,type:"setInterval"})},e.data.timeout);break;case "clearInterval":clearInterval(c[e.data.id]),delete c[e.data.id]}}}))}catch(p){return d.debug("Failed to instantiate worker"),!1}var e={},k={};h.onmessage=function(a){a=a.data;"setTimeout"===a.type&&e[a.id]&&
(e[a.id](),delete e[a.id]);if("setInterval"===a.type&&k[a.id])k[a.id]()};return{setTimeout:function(b,c){var d=a(e);e[d]=b;h.postMessage({id:d,type:"setTimeout",timeout:c});return d},setInterval:function(b,c){var e=a(k);k[e]=b;h.postMessage({id:e,type:"setInterval",timeout:c});return e},clearTimeout:function(a){delete e[a];h.postMessage({id:a,type:"clearTimeout"})},clearInterval:function(a){delete k[a];h.postMessage({id:a,type:"clearInterval"})}}}()||{setTimeout:setTimeout.bind(window),setInterval:setInterval.bind(window),
clearTimeout:clearTimeout.bind(window),clearInterval:clearInterval.bind(window)}}();d.vdb={b:{xb:b.b.xb}};d.default=b.b.xb;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{Fi:{},g:{},Promise:{},b:{kd:{},jd:{},wa:{},M:{},xb:{}}});b=c(a(30).vdb,b||{});b.g=a(7).vdb.g;b.Promise=a(26).vdb.Promise;b.b.kd=a(133).vdb.b.kd;b.b.jd=a(340).vdb.b.jd;b.b.wa=a(28).vdb.b.wa;b.b.M=a(12).vdb.b.M;b.b.xb=a(168).vdb.b.xb;(function(a){function c(){var a=b.g.Lb;if(window.XDomainRequest&&a.ie&&10>a.version)return new function(){var a=
this,b=new XDomainRequest;a.status=0;a.readyState=0;a.setRequestHeader=function(){};a.getResponseHeader=function(a){var b="";"content-type"===a&&(b=this.mimeType);return b};a.open=function(c,e){b.open(c,e);b.onerror=function(){a.status=499;a.responseText="";a.mimeType="";a.readyState=4;a.onreadystatechange()};b.onprogress=function(){a.readyState=2;a.onreadystatechange()};b.onload=function(){a.responseText=b.responseText;a.mimeType=b.contentType;a.readyState=4;a.onreadystatechange()};b.ontimeout=function(){a.status=
408;a.responseText="";a.mimeType="";a.readyState=4;a.onreadystatechange()};b.timeout=0;a.readyState=1;a.onreadystatechange()};a.send=function(a){b.send(a)}};if("undefined"!==typeof XMLHttpRequest)return new XMLHttpRequest;try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(p){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(p){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(p){}return!1}function d(a){if("string"!==typeof a||!a)return null;a=b.b.wa.trim(a);
try{return eval("("+a+")")}catch(p){return JSON.parse(a)}}function f(a){if(window.DOMParser)return(new DOMParser).parseFromString(a,"text/xml");var b=new window.ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a);return b}function g(a){a&&b.b.kd.Dl().xz(a)}function h(a,p){function k(){try{var a={Accept:"text/javascript, application/json, text/html, application/xml, text/xml, */*","Content-Type":"application/x-www-form-urlencoded"},b;for(b in a)Object.prototype.hasOwnProperty.call(p.headers,
b)||(p.headers[b]=a[b]);p.contentType&&(p.headers["Content-Type"]=p.contentType);for(b in p.headers)Object.prototype.hasOwnProperty.call(p.headers,b)&&g.setRequestHeader(b,p.headers[b]);g.send(p.uj)}catch(A){p.error&&p.error()}}var g=c(),h={},l,m=!1;"undefined"===typeof p&&(p={});p.method=p.method?p.method.toLowerCase():"get";p.async=!1!==p.async;p.uj=p.uj||"";g.onreadystatechange=function(){if(4===g.readyState){var c=g.getResponseHeader("content-type")||"";h.status=g.status;h.text=g.responseText;
/json/.test(c)?h.data=d(g.responseText):/xml/.test(c)&&(h.data=f(g.responseText));h.Yg=200<=g.status&&300>g.status||304===g.status||0===g.status&&g.responseText;e.Vz(g,a);h.Yg?p.Yg&&p.Yg(h,g):p.error&&b.b.xb.setTimeout(function(){p.error(h,g,m)},1);p.complete&&p.complete(h,g)}};try{g.open(p.method,a,p.async),"undefined"!==typeof g.withCredentials&&(g.withCredentials=!!p.withCredentials)}catch(w){}p.headers=p.headers||{};p.timeout&&(g.timeout=p.timeout,m=!1,g.ontimeout=function(){m=!0});return l={fF:function(a,
b){p.headers[a]=b;return l},send:function(a,c){p.uj=b.g.Ge(a);p.complete=c;k();return l},end:function(a){p.complete=a;k();return l},data:function(a){p.uj=b.g.Ge(a);return l}}}var e=new b.b.jd;a.get=function(a,c,d,f,l,m){"undefined"===typeof m&&(m={});m.Yg=d;m.error=f;m.method="get";g(a);return e.Tx(a).then(function(e){-1!==b.b.M.Oc(a||"").indexOf("konduit.me")?(m.headers||(m.headers={}),m.method="post",m.headers["Content-Type"]="application/x-www-form-urlencoded",h(a,m).send({"x-cookie":e},l)):h(a,
m).send(c,l)})};a.Pl=function(c,e){return new b.Promise(function(b,d){a.get(c,null,b,function(a,b,c){d({response:a,request:b,ds:c})},null,e)})};a.UF=function(a,b,c,e,d,f){"undefined"===typeof f&&(f={});f.Yg=c;f.error=e;f.method="post";return h(a,f).send(b,d)}})(b.Fi);d.vdb={Fi:b.Fi};d.default=b.Fi;d.__esModule=!0},function(c,d,a){var b=a(29);c.exports=function(a,c){if(!b(a)||a.nc!==c)throw TypeError("Incompatible receiver, "+c+" required!");return a}},function(c){c.exports=function(c,a,b,n){if(!(c instanceof
a)||void 0!==n&&n in c)throw TypeError(b+": incorrect invocation!");return c}},function(c,d,a){var b=a(32);c.exports=function(a,c,d){for(var f in c)d&&a[f]?a[f]=c[f]:b(a,f,c[f]);return a}},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));c=function m(){(0,b.default)(this,m);this.lr=this.hq=this.height=this.width=0;this.position=""};d.default=c;c.bo="TOP";c.ao="RIGHT";c.Yn="BOTTOM";c.$n="LEFT";c.Zn="FULL"},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(49);var m=b(c);c=a(7);var l=b(c);c=a(16);var f=b(c);a=a(12);var g=b(a),h=void 0;a=function(){function a(){(0,n.default)(this,a)}a.prototype.parse=function(a,b){this.Ia=b||{};this.Yv=a.transactionId;this.ev=a.adxResult;this.Zv=a.usid;this.Qv=a.rcid;this.Gv=a.overlayURL;this.Xv=a.thumbnail;this.vv=a.fullsizeThumbnail;this.dw=a.videoTitle;this.cw=a.videoId;this.bw=a.videoDuration;this.av=a.acid;this.gv=
a.asid;this.iv=a.auid;this.Kk=a.usesShim||!1;this.Pv=a.rid;this.Id=Number(a.cpm);isNaN(this.Id)&&(this.Id=Number(l.default.Aw(a.cpm||""))||0);if(this.eg=a.impTracker)this.eg=this.eg.replace(/\[ECPM\]/g,this.Id||"");this.Ja=a.urls||[];a.url&&-1===this.Ja.indexOf(a.url)&&this.Ja.unshift(a.url);this.Dp=this.Ja.length;this.Bm();this.Fp=a.vastXml;this.Tk=a.vastAds;if(a.prebidConfig)try{this.Kv=JSON.parse(a.prebidConfig)}catch(q){}this.o=a.config;this.So=a.adEngineType||m.default.yo;if(!this.fi&&!this.Fp&&
!this.Tk&&this.So!==m.default.co)throw Error("URL, VAST XML or Ads should be specified for each ad config entry");this.aw=a.vendor;this.Bv=a.name;this.Tv=1E3*a.startTimeout||2147483647;this.re=a.type||f.default.ed;this.Cp=a.types||[];this.yv=a.houseAd||!1;this.Uv=a.strictSiteCheck||!1;this.Jv=void 0===a.pbl?!0:a.pbl;this.Lv=a.profitCenter;b=a.saleforce||{};this.jv=b.bookingId;this.Av=b.lineItemId;this.Wv=(a.trackers||{}).Impression||[];this.ji=a.extraProperties||{};return this};a.prototype.qw=function(a){this.Ja.push(a)};
a.prototype.getUrl=function(){return h?h.resolve(this.fi):this.fi};a.prototype.Xy=function(){return 1<this.Dp&&this.Dp===this.Ja.length+1};a.prototype.Bm=function(){return 0<this.Ja.length?(this.fi=this.Ja.shift(),!0):!1};a.prototype.Bl=function(){var a=this,b=0;this.Ja.forEach(function(c){return b+=a.Kl(c)});return b+=this.Kl(this.fi)};a.prototype.Kl=function(a){return-1===g.default.Oc(a||"").indexOf("konduit.me")?this.Ia.Uc:1E4};a.prototype.getVendor=function(){return this.aw||""};a.prototype.Ix=
function(){return this.jv||""};a.prototype.jy=function(){return this.Av||""};a.prototype.yy=function(){return this.Lv||""};a.prototype.getAdEngineType=function(){return this.So||""};a.prototype.getType=function(){return this.re||""};a.prototype.getAcid=function(){return this.av||""};a.prototype.getOverlayURL=function(){return this.Gv||""};a.prototype.getThumbnail=function(){return this.Xv||""};a.prototype.getFullsizeThumbnail=function(){return this.vv||""};a.prototype.getVideoTitle=function(){return this.dw||
""};a.prototype.getVideoId=function(){return this.cw||""};a.prototype.getVideoDuration=function(){return this.bw};a.prototype.getAsid=function(){return this.gv||""};a.prototype.Hx=function(){return this.iv||""};a.prototype.Ll=function(){return this.Fp||""};a.prototype.getName=function(){return this.Bv||""};a.prototype.nz=function(){return this.Uv||!1};a.prototype.cz=function(){return this.yv||!1};a.prototype.fy=function(){return h?h.resolve(this.eg):this.eg};a.prototype.getRuleId=function(){return this.Pv};
a.prototype.getTransactionId=function(){return this.Yv};a.prototype.getUsid=function(){return this.Zv};a.prototype.gz=function(){return this.re===f.default.ed||this.re===f.default.Qa||this.re===f.default.gc};a.prototype.kz=function(){return this.Jv};a.prototype.Zp=function(a){return this.re===a||this.re===f.default.ed&&(a===f.default.Qa||a===f.default.gc)||-1!==this.Cp.indexOf(a)||-1!==this.Cp.indexOf(f.default.ed)};a.prototype.ma=function(a,b){if(-1===[f.default.Qa,f.default.gc,f.default.qb].indexOf(b))throw Error("Bad type value: "+
b);var c=this.clone();c.re=b;h=a;return c};a.prototype.clone=function(){var b=new a;l.default.Ua(this,b);return b};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(6);c=b(c);var m=a(16),l=b(m);m=a(359);var f=b(m);a=a(174);var g=b(a),h=c.default.B("AdConfigEntryParser");a=function(){function a(){(0,n.default)(this,a)}a.parse=function(a,b){h.debug("parse",a);switch(a.type){case l.default.qb:return(new f.default).parse(a,
b);case l.default.Qa:case l.default.gc:case l.default.ed:case null:return(new g.default).parse(a,b);default:throw Error("Bad ad config entry type: "+a.type);}};return a}();d.default=a},function(c,d,a){var b=a(3)(b||{},{f:{zh:{}}});b.f.zh={Xn:"playerSizeOverride",cC:"extrasOverride",bh:"aegOverride",xD:"videoOverride",NB:"companionsSettingsOverride"};d.vdb={f:{zh:b.f.zh}};d.default=b.f.zh;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{W:{Fb:{}},i:{},Promise:{},ka:{}});b.i=a(8).vdb.i;b.Promise=
a(26).vdb.Promise;b.ka=a(22).vdb.ka;b.W.Fb=b.i.Class.extend(function(){var a=b.ka;return{L:function(a){this.Ma=a.Yq;this.gi=a.kq;this.qp=a.Hr},ol:function(){this.lv||(this.lv=!0,0<this.gi.length?this.Ma.Ul(this.gi.concat(this.Jk.bind(this))):this.Jk());return this.fb()},fb:function(){return this.bf().fb()},Jk:function(){var a=Array.prototype.slice.call(arguments);try{var b=this.qp.apply(null,a);this.bf().resolve(b)}catch(f){this.bf().reject(f)}},bf:function(){this.af||(this.af=new a);return this.af}}}());
d.vdb={W:{Fb:b.W.Fb}};d.default=b.W.Fb;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{A:{}});b=c(a(30).vdb,b||{});(function(a){function b(a,b){a||(a=window.event);a.stop=function(){var b=a;b.preventDefault(b);b.stopPropagation(b)};"undefined"===typeof a.target&&(a.target=a.srcElement||b);a.preventDefault||(a.preventDefault=function(){a.returnValue=!1});a.stopPropagation||(a.stopPropagation=function(){a.cancelBubble=!0});a.target&&3===a.target.nodeType&&(a.target=a.target.parentNode);var c=
b.ownerDocument;c&&null==a.pageX&&null!=a.clientX&&(b=c.documentElement,c=c.body,a.pageX=a.clientX+(b&&b.scrollLeft||c&&c.scrollLeft||0)-(b&&b.clientLeft||c&&c.clientLeft||0),a.pageY=a.clientY+(b&&b.scrollTop||c&&c.scrollTop||0)-(b&&b.clientTop||c&&c.clientTop||0));return a}function c(a,c){return function(e){b(e,a);return c(e)}}function d(){if(!p){document.body||setTimeout(d,13);p=!0;for(var b=0;b<a.rm.length;b++)a.rm[b]();a.rm=null}}function g(){if(!p){try{document.documentElement.doScroll("left")}catch(u){setTimeout(g,
1);return}d()}}function h(a){return a.match(/:/)?a:"on"+a}var e=[],k=!1,p=!1,q;a.rm=[];"undefined"!==typeof document&&(document.addEventListener?q=function(){document.removeEventListener("DOMContentLoaded",q,!1);d()}:document.attachEvent&&(q=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",q),d())}));(function(){if(!k)if(k=!0,"complete"===document.readyState)d();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",q,!1),window.addEventListener("load",
d,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",q);window.attachEvent("onload",d);var a=!1;try{a=null==window.frameElement}catch(r){}document.documentElement.doScroll&&a&&g()}})();a.addEventListener=function(a,b,d){if(3!==a.nodeType&&8!==a.nodeType){var f=c(a,d);e.push({element:a,type:b,ej:d,kA:f});b.match(/:/)&&a.attachEvent?a.attachEvent("ondataavailable",f):a.addEventListener?a.addEventListener(b,f,!1):a.attachEvent&&a.attachEvent(h(b),f)}};a.dispatchEvent=function(a,
c,e){var d=a.ownerDocument||a.document;if(d.createEvent)return d=d.createEvent("HTMLEvents"),d.data=e,b(d,a),d.nq=c,d.initEvent(c,!0,!0),!a.dispatchEvent(d);d=d.createEventObject();b(d,a);d.data=e;return c.match(/:/)?(d.nq=c,d.ix="ondataavailable",a.fireEvent(d.ix,d)):a.fireEvent(h(c),d)};a.removeEventListener=function(a,b,c){if(3!==a.nodeType&&8!==a.nodeType){for(var d=0,f,k=0;k<e.length;k++)e[k].element!==a||e[k].type!==b||e[k].ej!==c?e[d++]=e[k]:f=e[k].kA;e.length=d;c=f;document.removeEventListener?
a.removeEventListener(b,c,!1):a.detachEvent(h(b),c)}};a.IG=function(b){var c={};c.element=b;c.JF=function(a,b){a=a.split(" ");for(var c=0;c<a.length;c++)this.addEventListener(a[c],b)};c.IF=function(a,b){a=a.split(" ");for(var c=0;c<a.length;c++)this.removeEventListener(a[c],b)};c.addEventListener=function(c,e){a.addEventListener(b,c,e)};c.removeEventListener=function(c,e){a.removeEventListener(b,c,e)};return c}})(b.A);d.vdb={A:b.A};d.default=b.A;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||
{},{hc:{}});b=c(a(30).vdb,b||{});b.hc={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};d.vdb={hc:b.hc};d.default=b.hc;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(93);var n=b(c);c=a(0);var m=b(c);c=a(4);c=b(c);a=a(17);var l=b(a),
f=(0,c.default)(),g=(0,c.default)();a=function(){function a(b){(0,m.default)(this,a);this[g]=b||new l.default;this[f]=[]}a.prototype.addEventListener=function(a,b,c){c=c?b.bind(c):b;this[f].push([a,b,c]);this[g].addEventListener(a,c)};a.prototype.removeEventListener=function(a,b){for(var c=this[f],e=0;e<c.length;++e){var d=(0,n.default)(c[e],3),k=d[1],h=d[2];d[0]===a&&(k!==b&&b||this[g].removeEventListener(a,h))}};a.prototype.Nr=function(){for(var a=this[f],b=0;b<a.length;++b){var c=(0,n.default)(a[b],
3);this[g].removeEventListener(c[0],c[2])}};a.prototype.dispatchEvent=function(a,b){this[g].dispatchEvent(a,b)};return a}();d.default=a},function(){},function(c,d,a){var b=a(100),n=a(46),m=a(40),l=a(101),f=a(36),g=a(129),h=Object.getOwnPropertyDescriptor;d.U=a(24)?h:function(a,c){a=m(a);c=l(c,!0);if(g)try{return h(a,c)}catch(p){}if(f(a,c))return n(!b.U.call(a,c),a[c])}},function(c,d,a){var b=a(127),n=a(73).concat("length","prototype");d.U=Object.getOwnPropertyNames||function(a){return b(a,n)}},function(c,
d,a){var b=a(75);c.exports=Array.isArray||function(a){return"Array"==b(a)}},function(c,d){d.U=Object.getOwnPropertySymbols},function(c){c.exports=function(c,a){return{value:a,done:!!c}}},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.default=function(a,c,d){var f=new n.default,h=document.createElement("script");h.src=c;a.appendChild(h);h.onload=h.onreadystatechange=function(){var c=h.readyState;if(!c||"complete"===c||"loaded"===c){if(c=a.ownerDocument.defaultView.getVPAIDAd){var k=
c();k?(c=d.filter(function(a){return!k[a]}),c.length?f.reject({name:c[0],type:b.default.fn}):f.resolve({creative:k,height:a.offsetHeight,width:a.offsetWidth})):f.reject({type:b.default.Vn})}else f.reject({type:b.default.zn});h.onload=null;h.onreadystatechange=null}};h.onerror=function(){return f.reject({type:b.default.No,url:c})};return f.fb()};var b=(c=a(121))&&c.__esModule?c:{default:c},n=(a=a(22))&&a.__esModule?a:{default:a}},function(c,d,a){var b=a(15)("iterator"),n=!1;try{var m=[7][b]();m["return"]=
function(){n=!0};Array.from(m,function(){throw 2;})}catch(l){}c.exports=function(a,c){if(!c&&!n)return!1;var d=!1;try{c=[7];var f=c[b]();f.next=function(){return{done:d=!0}};c[b]=function(){return f};a(c)}catch(e){}return d}},function(c,d,a){var b=a(20),n=a(46);c.exports=function(a,c,d){c in a?b.U(a,c,n(0,d)):a[c]=d}},function(c,d,a){var b=a(39);c=a(21);var n=a(52),m=a(124),l=a(123),f=a(55),g=a(189),h=a(98);c(c.Ib+c.Sb*!a(188)(function(a){Array.from(a)}),"Array",{from:function(a){var c=n(a),d="function"==
typeof this?this:Array,e=arguments.length,u=1<e?arguments[1]:void 0,r=void 0!==u,t=0,y=h(c);r&&(u=b(u,2<e?arguments[2]:void 0,2));if(void 0==y||d==Array&&l(y))for(e=f(c.length),d=new d(e);e>t;t++)g(d,t,r?u(c[t],t):c[t]);else for(c=y.call(c),d=new d;!(e=c.next()).done;t++)g(d,t,r?m(c,u,[e.value,t],!0):e.value);d.length=t;return d}})},function(c,d,a){a(50);a(190);c.exports=a(14).Array.from},function(c,d,a){c.exports={"default":a(191),__esModule:!0}},function(c,d,a){d.__esModule=!0;var b=function(a){return a&&
a.__esModule?a:{default:a}}(a(192));d.default=function(a){if(Array.isArray(a)){for(var c=0,d=Array(a.length);c<a.length;c++)d[c]=a[c];return d}return(0,b.default)(a)}},function(c,d,a){var b=a(36),n=a(52),m=a(69)("IE_PROTO"),l=Object.prototype;c.exports=Object.getPrototypeOf||function(a){a=n(a);return b(a,m)?a[m]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?l:null}},function(c,d,a){d=a(23).document;c.exports=d&&d.documentElement},function(c,
d,a){var b=a(71),n=Math.max,m=Math.min;c.exports=function(a,c){a=b(a);return 0>a?n(a+c,0):m(a,c)}},function(c,d,a){var b=a(40),n=a(55),m=a(196);c.exports=function(a){return function(c,d,h){c=b(c);var e=n(c.length);h=m(h,e);if(a&&d!=d)for(;e>h;){if(d=c[h++],d!=d)return!0}else for(;e>h;h++)if((a||h in c)&&c[h]===d)return a||h||0;return!a&&-1}}},function(c,d,a){var b=a(20),n=a(31),m=a(51);c.exports=a(24)?Object.defineProperties:function(a,c){n(a);for(var d=m(c),f=d.length,e=0,k;f>e;)b.U(a,k=d[e++],c[k]);
return a}},function(c,d,a){var b=a(68),n=a(46),m=a(53),l={};a(32)(l,a(15)("iterator"),function(){return this});c.exports=function(a,c,d){a.prototype=b(l,{next:n(1,d)});m(a,c+" Iterator")}},function(c,d,a){var b=a(71),n=a(70);c.exports=function(a){return function(c,d){c=String(n(c));d=b(d);var f=c.length,h;if(0>d||d>=f)return a?"":void 0;var e=c.charCodeAt(d);return 55296>e||56319<e||d+1===f||56320>(h=c.charCodeAt(d+1))||57343<h?a?c.charAt(d):e:a?c.slice(d,d+2):(e-55296<<10)+(h-56320)+65536}}},function(c,
d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(103);a=function(a){function b(c,d){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,c,d))}(0,l.default)(b,a);return b}(b(a).default);a.PAUSE_REQUESTED="AdManager.ContentEvent.PAUSE_REQUESTED";a.RESUME_REQUESTED="AdManager.ContentEvent.RESUME_REQUESTED";d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}
Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(103);a=function(a){function b(c,d){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,c,d))}(0,l.default)(b,a);return b}(b(a).default);a.STARTED="AdManager.AdEvent.STARTED";a.LOADED="AdManager.AdEvent.LOADED";a.VOLUME_CHANGED="AdManager.AdEvent.VOLUME_CHANGED";a.PAUSED="AdManager.AdEvent.PAUSED";a.RESUMED="AdManager.AdEvent.RESUMED";a.WAITING="AdManager.AdEvent.WAITING";a.QUARTILE="AdManager.AdEvent.QUARTILE";
a.FINISHED="AdManager.AdEvent.FINISHED";a.TIME_UPDATE="AdManager.AdEvent.TIME_UPDATE";a.LINEAR_CHANGE="AdManager.AdEvent.LINEAR_CHANGE";a.SHOW_COMPANIONS="AdManager.AdEvent.SHOW_COMPANIONS";a.SUBTITLES_FOUND="AdManager.AdEvent.SUBTITLES_FOUND";a.META="AdManager.AdEvent.META";d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(103);a=function(a){function b(c,d){(0,
n.default)(this,b);return(0,m.default)(this,a.call(this,c,d))}(0,l.default)(b,a);return b}(b(a).default);a.STARTED="AdManager.AdBreakEvent.STARTED";a.FINISHED="AdManager.AdBreakEvent.FINISHED";d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a,b){throw new e.default(a,b||k.default.ru);}function m(a){a:{var b="undefined"===typeof a?"undefined":(0,f.default)(a);if("string"===b)try{if("undefined"!==typeof window.DOMParser){var c=(new window.DOMParser).parseFromString(a,
"text/xml");(0<c.getElementsByTagName("parsererror").length||!c.documentElement)&&n("Invalid XML");var d=c}else"undefined"!==typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?(c=new window.ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a),0===c.parseError.errorCode&&c.documentElement||n("Invalid XML"),d=c):(n("No XML parser found"),d=void 0);break a}catch(A){q.error(A,"Invalid VAST xml",a),n("Invalid VAST: "+(A.message||A))}else{if("object"===b){d=a;break a}n("Cannot parse VAST: non-supported type",
b)}d=void 0}a=d.documentElement;"VAST"!==a.nodeName&&n("Invalid VAST XML",k.default.Co);d=a.getAttribute("version");-1===u.indexOf(d)&&n("Unsupported VAST version",k.default.su);return a}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(120);var f=b(c);c=a(4);c=b(c);var g=a(6);g=b(g);var h=a(62),e=b(h);h=a(19);var k=b(h);a=a(306);var p=b(a),q=g.default.B("VastParser"),u=["2.0","2.0.1","3.0","4.0"],r=(0,c.default)();a=function(){function a(b){(0,l.default)(this,a);this[r]=b}a.prototype.parse=
function(a){return(new p.default(this[r])).parse(m(a))};return a}();d.default=a},function(c,d,a){var b=a(3)(b||{},{ai:{},i:{}});b.i=a(8).vdb.i;b.ai=b.i.Class.extend(function(){return{L:function(a,b){this.jg=a;this.jp=b},my:function(){return this.jp||this.jg},TE:function(){return this.jg},zA:function(a){this.jp=a},CA:function(a){this.jg=a}}}());d.vdb={ai:b.ai};d.default=b.ai;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{b:{J:{Hd:{}}}});b=c(a(30).vdb,b||{});(function(){var a={ms:"aboveVisibleArea",
Ns:"belowVisibleArea",Jt:"leftToVisibleArea",du:"rightToVisibleArea",ce:"inVisibleArea",be:"hidden",Jb:"NA"},c={os:1,ak:0},d={Jb:-1,Wn:0,Ft:1},f={ge:1,Tn:2,yn:3},g={bk:1,Nh:0,Jb:-1},h={OC:a,YB:c,fC:d,pC:f,Ve:g,po:{$j:1,Bt:function(){return this.$j++},URL:"//redir.adap.tv/redir/client/VPixel.swf"},Er:[],$g:{},hF:{},Yx:function(a){for(var b=a,c=0,d=0,e=0;b&&!isNaN(b.offsetLeft)&&!isNaN(b.offsetTop);)window.getComputedStyle&&(e=window.getComputedStyle(b,null)),c+=b.offsetLeft-b.scrollLeft+(e?parseInt(e.getPropertyValue("border-left-width"),
10):0),d+=b.offsetTop-b.scrollTop+(e?parseInt(e.getPropertyValue("border-top-width"),10):0),b=b.offsetParent;a.OD=c;a.PD=d;return{x:c,y:d}},vf:function(a,b){var c=document.defaultView||document.parentWindow;try{c=a.ownerDocument.defaultView||a.ownerDocument.parentWindow}catch(q){}return a.currentStyle?a.currentStyle[b]:c&&c.getComputedStyle&&c.getComputedStyle(a,"")?c.getComputedStyle(a,"")[b]:a.style?a.style[b]:""},Md:function(a){var b={I:0,G:0,width:0,height:0};a&&(b.width=a.offsetWidth,b.height=
a.offsetHeight,a.getBoundingClientRect?(a=a.getBoundingClientRect(),b.I=Math.round(a.left),b.G=Math.round(a.top)):(a=this.Yx(a),b.I=a.x,b.G=a.y));return b},Vd:function(a,b){var c=0,d=a.length+a.offset,e=b.length+b.offset;if(d<b.offset||a.offset>e)return{length:0,offset:-Infinity};a.offset>=b.offset&&d<=e?c=a.length:a.offset<=b.offset&&d>=e?c=b.length:a.offset<=b.offset?c=Math.abs(d-b.offset):a.offset>b.offset&&(c=Math.abs(e-a.offset));return{length:c,offset:Math.max(a.offset,b.offset)}},Xl:function(a,
b){var c=this.hl(a);b=b||this.Af(a);if(b===f.ge)return!0;if(b===f.Tn)return this.hl(a);try{var d=a.ownerDocument.defaultView||a.ownerDocument.parentWindow}catch(r){}try{var e=this.Eq(d)}catch(r){return!0}for(a=0;a<e.length&&!c;a++)c=e[a],c=this.hl(c);return c},hl:function(a){function b(a){return a&&"string"===typeof a.id&&-1<a.id.indexOf("player_googima")}function c(a){var c,d;if(b(a))return!0;a=this.Il(a);for(d=0;d<a.length;++d)if((c=a[d])&&b(c.node))return!0;return!1}var d=!1,e=a;for(a=!this.vf(a,
"visibility")&&!c.call(this,a);e&&!d&&(d="hidden"===this.vf(e,"visibility")||"none"===this.vf(e,"display")||this.bz(e),c.call(this,e)&&(d=!1),d=a||d,e!==e.ownerDocument.body);)e=e.parentNode;return d},Il:function(a){var b=a.parentNode,c=[];try{for(;b&&b!==b.ownerDocument.body;)1===b.nodeType&&(c.push(this.yj(b)),b=b.parentNode)}catch(q){}0===c.length?b=a:(b=c[0],a=c[0]);for(;b;)b=b.nextSibling,null!=b&&1===b.nodeType&&c.push(this.yj(b));for(;a;)a=a.previousSibling,null!=a&&1===a.nodeType&&c.push(this.yj(a));
return c},QA:function(a,b,c){var d=null,e,f=this.Vd({offset:a.I,length:a.width},{offset:b.I,length:b.width}),k=this.Vd({offset:a.G,length:a.height},{offset:b.G,length:b.height});if(0<f&&0<k){var p=[{x:f.offset,y:k.offset},{x:f.offset+f.length,y:k.offset},{x:f.offset,y:k.offset+k.length},{x:f.offset+f.length,y:k.offset+k.length},{x:f.offset+Math.floor(f.length/2),y:k.offset+Math.floor(k.length/2)}];for(e=0;5>e;e++){var g={x:Math.random()*f.length+f.offset,y:Math.random()*k.length+k.offset};p.push(g)}for(e=
0;e<p.length;e++)if(g=this.lq(p[e].x,p[e].y,c),g===a.node||g===b.node){d=g;break}}return d},lq:function(a,b,c){c=c||window;return c.document.elementFromPoint(a,b)},Ty:function(a,b,c,d){var e=!0,f=this.Md(b),k=this.Vd({offset:a.I,length:a.width},{offset:f.I+c.I,length:f.width}),p=this.Vd({offset:a.G,length:a.height},{offset:f.G+c.G,length:f.height}),g=k.length*p.length/(f.width*f.height);if(0===g)return{nl:!1};var h=this.lq(Math.floor(k.length/2)+k.offset,Math.floor(p.length/2)+p.offset,d);null===
h?e=!0:h===b||"ADAPTV_HTML5_IFRAME"===h.id||"IFRAME"===h.nodeName?e=!1:h!==a.node&&(a.I+a.width)*(a.G+a.height)===(f.I+c.I+f.width)*(f.G+c.G+f.height)&&(e=!1);this.QA({node:a.node,I:a.I,G:a.G,width:a.width,height:a.height},{node:b,I:f.I+c.I,G:f.G+c.G,width:f.width,height:f.height},d)===b&&(e=!1);return{nl:e,Br:g,width:k.length,height:p.length,I:k.offset,G:p.offset}},Sp:function(a,b,c,d){var e;for(e=0;e<a.length;e++)if(1===a[e].node.nodeType&&this.Tp(a[e],b,c,[],a,d))return!0;return!1},Tp:function(a,
b,c,d,f,g){var e=!1,k=a.node;a=this.Ty(a,b,c,g);if(a.nl&&.5<=a.Br)return!0;if(a.nl&&.5>a.Br)a.node=k,d.push(a);else if(k&&k.children&&1<=k.children.length)for(a=k.children,k=0;k<a.length;k++)if(1===a[k].nodeType){var p=this.yj(a[k]);e=e||this.Tp(p,b,c,d,f,g)}return e||this.Hz(d,b,c)},yj:function(a){var b=this.Md(a);b.node=a;return b},Hz:function(a,b,c){var d=0,e=0;this.Md(b);this.Gm(a);var f;if(2>a.length)return!1;b=this.Md(b);var k=this.Gm(a);for(f=0;f<a.length;f++)d+=a[f].width*a[f].height;for(f=
0;f<k.length;f++){var p=this.Vd({offset:k[f].Pi.I,length:k[f].Pi.width},{offset:k[f].Qi.I,length:k[f].Qi.width});a=this.Vd({offset:k[f].Pi.G,length:k[f].Pi.height},{offset:k[f].Qi.G,length:k[f].Qi.height});p=this.Vd({offset:p.offset,length:p.length},{offset:b.I+c.I,length:b.width});a=this.Vd({offset:a.offset,length:a.length},{offset:b.G+c.G,length:b.height});e+=p.length*a.length}return.5<=(d-e)/(b.width*b.height)},Gm:function(a,b){var c;b=b||[];for(c=1;2<=a.length&&c<a.length;c++)a[0].node!==a[c].node&&
b.push({Pi:a[0],Qi:a[c]});return 2>=a.length?b:this.Gm(a.slice(1),b)},wF:function(a){var b,c={I:0,G:0};try{var d=this.Eq()}catch(w){d=[]}var e=this.Il(a),f=window,g=this.Sp(e,a,c,f);for(b=0;b<d.length&&!g;b++){f=f.parent;var h=this.Md(d[b]);c.I+=h.I;c.G+=h.G;for(h=0;h<e.length;h++)e[h].I+=c.I,e[h].G+=c.G;h=this.Il(d[b]);e=e.concat(h);g=g||this.Sp(e,a,c,f)}return g},bz:function(a){var b=a.parentNode;return!b||"BODY"===a.tagName||"visible"===this.vf(b,"overflow")&&"visible"===this.vf(b,"overflow-x")&&
"visible"===this.vf(b,"overflow-y")||!(0>a.offsetLeft||0>a.offsetTop)&&1<b.offsetWidth&&1<b.offsetHeight?!1:!0},Eq:function(a){var b=[];for(a=a||window;a!==window.top;)b.push(a.frameElement),a=a.parent;return b},Af:function(a){a=a||document.body;try{return window.top.location.href?a.ownerDocument.defaultView.frameElement?f.yn:f.Tn:f.ge}catch(k){return f.ge}},Vq:function(a){var b=a.document,c=b.compatMode&&"BackCompat"!==b.compatMode?b.documentElement:b.body,d={width:0,height:0,I:0,G:0};"undefined"!==
typeof a.innerWidth?(d.width=a.innerWidth,d.height=a.innerHeight):a.document.documentElement&&(a.document.documentElement.clientWidth||a.document.documentElement.clientHeight)?(d.width=a.document.documentElement.clientWidth,d.height=a.document.documentElement.clientHeight):document.body.offsetWidth&&document.body.offsetHeight&&(d.width=a.document.body.offsetWidth,d.height=a.document.body.offsetHeight);d.I=b.all?c.scrollLeft:a.pageXOffset;d.G=b.all?c.scrollTop:a.pageYOffset;return d},Xi:function(b,
c){return 0<c.width&&0<c.height&&0<b.width&&0<b.height?b.G+b.height<=c.G?a.ms:b.G>=c.height+c.G?a.Ns:b.I+b.width<=c.I?a.Jt:b.I>=c.width+c.I?a.du:a.ce:a.be},Nl:function(a,b){var c={I:0,G:0,width:0,height:0},d=b.I-a.I;c.I=Math.max(d,0);c.width=Math.max(0,Math.min(Math.min(b.width,a.width),Math.min(b.width+d,a.width-d)));d=b.G-a.G;c.G=Math.max(d,0);c.height=Math.max(0,Math.min(Math.min(b.height,a.height),Math.min(b.height+d,a.height-d)));return c},by:function(a,b){a=Math.min(b.width-a.I,a.width+a.I)/
a.width*100;a=Math.round(100*Math.min(Math.max(0,a),100))/100;return a=Math.round(a)},Iy:function(a,b){a=Math.min(b.height-a.G,a.height+a.G)/a.height*100;a=Math.round(100*Math.min(Math.max(0,a),100))/100;return a=Math.round(a)},Lq:function(b,c,d){var e=h.Af(b),k=0,p=0,g=a.Jb;e!==f.ge&&(this.Xl(b,e)?g=a.be:(b={I:0,G:0,width:d.width,height:d.height},g=this.Xi(c,b),g===a.ce&&(k=this.by(c,b),p=this.Iy(c,b)),k&&p||(k=0)));return{position:g,Nb:k,yb:k}},sy:function(b,c,d,g){var e={position:a.Jb,Nb:0,yb:0},
k=h.Af(b);if(k===f.ge)return e;this.Xl(b,k)&&(e.position=a.be);if(e.position!==a.be&&(b=d[d.length-1],k={I:0,G:0,width:g.width,height:g.height},g=this.Xi(b,k),e.position=g,g===a.ce)){b=this.Nl(b,k);for(k=d.length-1;0<k;){g=this.Xi(d[k-1],b);if(g===a.ce)b=this.Nl(d[k-1],b);else break;k--}g===a.ce?this.Xi(c,b)===a.ce?(b=this.Nl(c,b),d=b.width/c.width*100,d=Math.round(100*d)/100,d=Math.round(d),e.Nb=d,d=b.height/c.height*100,d=Math.round(100*d)/100,d=Math.round(d),e.yb=d):e.position=a.be:e.position=
a.be}return e},zq:function(b){var c=window,d={hostname:window.location.hostname,Gg:!1,mb:{Rz:"",PA:"",I:0,G:0,width:0,height:0,fq:!1,Cf:0},Zc:{width:0,height:0,I:0,G:0},T:{I:0,G:0,width:0,height:0,position:a.Jb,Nb:0,yb:0},Lb:"NA"},e=this.Md(b);d.T.I=e.I;d.T.G=e.G;d.T.width=e.width;d.T.height=e.height;e=h.Af(b);if(e===f.ge)return d.Gg=!0,d.mb.fq=!0,d.mb.Cf=-1,d.T.Nb=100,d.T.yb=100,d;e===f.yn&&(d.Gg=!0,d.mb.PA=window.top.location.href);this.Xl(b,e)&&(d.T.position=a.be);try{c=b.ownerDocument.defaultView||
c}catch(t){}d.Zc=this.Vq(c);e=this.Lq(b,d.T,d.Zc);if(e.position!==a.ce)return d.T.position=e.position,d.T.Nb=e.Nb,d.T.yb=e.yb,d.T.width=d.T.width<d.Zc.width?d.T.width:d.Zc.width,d.T.height=d.T.height<d.Zc.height?d.T.height:d.Zc.height,d;try{if(d.Gg){window.parent&&window.parent.location&&(d.mb.Rz=window.parent.location.href);d.Zc=this.Vq(window.top);for(var g=[];c!==window.top;){var l=this.Md(c.frameElement);0===d.mb.Cf&&(d.mb.width=l.width,d.mb.height=l.height);d.mb.I=l.I;d.mb.G=l.G;g[d.mb.Cf]=l;
d.mb.Cf+=1;c=c.parent}e=this.sy(b,d.T,g,d.Zc);d.T.position=e.position;d.T.Nb=e.Nb;d.T.yb=e.yb}}catch(t){d.mb.Cf=-1}d.Gg||(e=this.Lq(b,d.T,d.Zc),d.T.position=e.position,d.T.Nb=e.Nb,d.T.yb=e.yb);return d},ty:function(a,b){var c=null;if(this.$g[a]&&this.$g[a][a]&&this.$g[a].parentNode)return this.$g[a];if(b&&document[b]&&document[b][a])c=document[b];else if(b&&window[b]&&window[b][a])c=window[b];else{var d=document.getElementsByTagName("object"),e=document.getElementsByTagName("embed"),f=[],k;b=0;for(k=
d.length;b<k;f.push(d[b++]));d=[];b=0;for(k=e.length;b<k;d.push(e[b++]));e=f.concat(d);for(b=0;b<e.length;b++)try{if(e[b][a]()){c=e[b];break}}catch(y){}}c&&(this.$g[a]=c);return c},oy:function(a){if(!a)return{width:0,height:0};for(var b=a.offsetWidth,c=a.offsetHeight;a&&"BODY"!==a.tagName;)b=Math.min(a.offsetWidth,b),c=Math.min(a.offsetHeight,c),a=a.parentNode;return{width:b,height:c}},Vy:function(a){return null!==a&&"object"===typeof a&&1===a.nodeType},qx:function(){if("undefined"!==typeof navigator.plugins&&
"object"===typeof navigator.plugins["Shockwave Flash"]&&"undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0;if("undefined"!==typeof window.ActiveXObject)try{return new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(e){}return!1},Hq:function(a,b,c,d){var e,f=h.Er,k=!this.qx(),g="7221 7658 7257 7386 7480 7716 7597 7865".split(" "),p=["mindjoltinc","cinesport"],l=!1;
a=this.Vy(a)?a:this.ty(b,a);for(e=0;e<g.length;e++)if(g[e]===d){l=!0;break}for(e=0;e<p.length;e++)if(p[e]===d){l=!0;break}if(l||k){d=h.Rq(a);d.bc=d.Ti;d.eB=d.Ti;if(c)a[c](d);if(k)return d}for(e=0;e<f.length;++e)if(f[e].id===b){var m=f[e];break}m||(m=new h.lk(b,a),f.push(m));return m.Hq(c)},aG:function(a){var b=h.Er,c;for(c=0;c<b.length;c++)if(b[c].id===a){b[c].dispose();b.splice(c,1);break}},Rq:function(b){var e={active:c.ak,Zw:"",Ti:g.Jb,hasFocus:d.Jb};if(b){var f=h.zq(b);e.RF=f.T.width;e.QF=f.T.height;
e.Zw=b.id;if(f.T.position!==a.Jb){b=f.T.width*f.T.Nb/100;var l=f.T.height*f.T.yb/100;e.Ti=0===b||0===l?g.Nh:.5<=b*l/(f.T.width*f.T.height)?g.bk:g.Nh}else f.Gg&&(e.ex="inIframe"),f.mb.fq&&(e.ex="iframeCrossDomain");f=!1;if(!document.hasFocus||!document.hasFocus())if(b=["webkit","moz","ms","o"],document.visibilityState)f="visible"!==document.visibilityState;else for(l=0;l<b.length;l++)if(document[b[l]+"VisibilityState"]){f="visible"!==document[b[l]+"VisibilityState"];break}e.active=f?c.ak:c.os;e.hasFocus=
h.ez()}return e},ez:function(){return!0===document.hidden?d.Wn:h.Af()===f.ge?d.Jb:window.top.document.hasFocus?window.top.document.hasFocus()?d.Ft:d.Wn:d.Jb},Oj:function(a){var b=h.Md(this.Od),c=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,d=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e=h.oy(a);this.Ff=1;this.Gz=3;this.Od=a;this.top=b.G+
d;this.left=b.I+c;this.width=b.width;this.height=b.height;this.minWidth=e.width;this.minHeight=e.height;this.ks=this.minWidth/(this.Ff+1);this.ls=this.minHeight/(this.Ff+1)}};h.Oj.prototype={constructor:h.Oj,Sx:function(){return window.bl&&window.bl.$y?[]:[{x:-1E4,y:-1E4}]},Ey:function(){var a=[],b=this.left,c;for(c=0;c<this.Ff;c++)b+=this.ks,a.push({x:b,y:this.top});return a},By:function(){var a=[],b=this.top,c;for(c=0;c<this.Ff;c++)b+=this.ls,a.push({x:this.left+this.minWidth-1,y:b});return a},
Jx:function(){var a=[],b=this.left,c;for(c=0;c<this.Ff;c++)b+=this.ks,a.push({x:b,y:this.top+this.minHeight-1});return a},iy:function(){var a=[],b=this.top,c;for(c=0;c<this.Ff;c++)b+=this.ls,a.push({x:this.left,y:b});return a},Gx:function(){return[this.Sx(),this.Ey(),this.By(),this.Jx(),this.iy()]},Aq:function(){var a=this.Gx();return[].concat.apply([],a)}};h.lk=function(a,b){this.id=a;this.gb=new h.Oj(b);this.ym=!1;this.bc=-1;this.$b=[];this.timeout=void 0;this.gs=1800;this.te=""};h.lk.prototype=
{constructor:h.lk,Hq:function(a){var b=this;if(!this.ym){this.te=a;for(a=0;a<this.gb.Aq().length;a++){var c=new h.pk;c.Ul(this,this.KA);this.$b.push(c)}setTimeout(function(){b.eA()},1);this.timeout=setTimeout(function(){clearTimeout(b.timeout);if(!b.dl()&&b.Qp()&&b.gb)b.gb.Od[b.te](b.Fl())},this.gs);this.ym=!0;return null}if(a)this.gb.Od[a](this.Fl())},eA:function(){var a;if(this.gb){var b=this.gb.Aq();for(a=0;a<b.length;a++){var c=b[a];var d=this.$b[a];d.dA(c.x,c.y)}}},KA:function(){if(this.dl()&&
(clearTimeout(this.timeout),this.Qp())){var a=this.Fl();this.gb.Od[this.te](a)}},Fl:function(){var a=h.Rq(this.gb.Od),b=0,d;if(this.dl()){for(d=0;d<this.$b.length;d++){var f=this.$b[d];b+=f.bc}this.yg=b>=this.gb.Gz?g.bk:g.Nh}else this.yg=g.Jb;a.yg=this.yg;a.bc=this.yg===g.Jb?a.Ti:this.yg;a.active===c.ak&&a.bc===g.bk&&(a.bc=g.Nh);a.eB=a.bc;return a},dl:function(){var a=0,b;if(this.gb&&window.bl&&!window.bl.$y&&0!==this.$b[0].bc)return!1;for(b=0;b<this.$b.length;b++)-1<this.$b[b].bc&&a++;return a===
this.$b.length},Qp:function(){return this.te&&this.gb&&this.gb.Od&&this.gb.Od[this.te]&&"function"===typeof this.gb.Od[this.te]},dispose:function(){var a=this.$b.length,b;for(b=0;b<a;b++)this.$b[b].rf();this.gb=null;this.ym=!1;this.bc=-1;this.$b=[];this.timeout=0;this.gs=1800;this.id=this.te=""}};h.pk=function(){var a=this;this.bc=-1;this.id=h.po.Bt();this.em="__adaptv__spotnotify__"+this.id.toString();this.interval=0;this.nm=this.tg=this.Cj=null;window[this.em]=function(b,c,d){a.bc=d;a.tg&&(a.tg.apply(a.nm),
a.tg=null)}};h.pk.prototype={constructor:h.pk,Ul:function(a,b){var c="adaptvSpotDiv_"+this.id,d="adaptvVWSpot_"+this.id;if(!document.getElementById(c)){var e=['<object width="1px" height="1px" id="{spotId}" name="{spotId}" align="center" style="height: 1px !important; width: 1px !important;"><param name="movie" value="','" /><param name="bgcolor" value="#000000"/><param name="allowScriptAccess" value="always" /><param name="FlashVars" value="autoStart=true&callback={callback}"/><embed src="','" width="1px" height="1px" id="{spotId}" name="{spotId}" align="center" bgcolor="#000000" allowScriptAccess="always" FlashVars="autoStart=true&callback={callback}" type="application/x-shockwave-flash"/></object>'].join(h.po.URL);
e=e.split("{spotId}").join(d);e=e.split("{callback}").join(this.em);d=document.body||document.getElementsByTagName("body")[0]||document.documentElement;var f=document.createElement("div");f.id=c;f.style.height="1px";f.style.width="1px";f.style.position="absolute";f.innerHTML=e;d.appendChild(f);this.Cj=f;this.nm=a;this.tg=b}},dA:function(a,b){this.Cj.style.left=a+"px";this.Cj.style.top=b+"px"},rf:function(){var a=document.body||document.getElementsByTagName("body")[0]||document.documentElement,b=document.getElementById("adaptvSpotDiv_"+
this.id);b&&a.removeChild(b);this.nm=this.tg=this.Cj=null;delete window[this.em]}};b.b.J.Hd=h})();d.vdb={b:{J:{Hd:b.b.J.Hd}}};d.default=b.b.J.Hd;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{J:{hd:{},Ba:{},Hd:{}}}});b.b.J.Ba=a(79).vdb.b.J.Ba;b.b.J.Hd=a(206).vdb.b.J.Hd;b.b.J.hd=b.b.J.Ba.extend(function(){return{ra:function(a){if(!this.sb)return-1;var c=b.b.J.Hd.zq(this.sb).T,d=c.Nb*c.yb/100;a&&c.G<a&&(d=Math.max(0,100*(c.yb*c.height/100-a+Math.max(0,c.G))/c.height));return Math.min(Math.round(d),
100)}}}());d.vdb={b:{J:{hd:b.b.J.hd}}};d.default=b.b.J.hd;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{J:{Vh:{},Ba:{},de:{},hd:{}}},log:{},f:{j:{}}});b.b.J.Ba=a(79).vdb.b.J.Ba;b.log=a(6).vdb.log;b.b.J.de=a(135).vdb.b.J.de;b.b.J.hd=a(207).vdb.b.J.hd;b.f.j=a(5).vdb.f.j;b.b.J.Vh=b.b.J.Ba.extend(function(){var a=b.log.B("SmartViewability");return{L:function(c){a.debug("init");this._super(c);this.ne=c[b.f.j.Hb];this.fp=c[b.f.j.Jh];this.Uo=new b.b.J.hd(c)},Xc:function(b){a.debug("setElement",b);
this._super(b);this.fp.Xc(b);this.ne.Xc(b);this.Uo.Xc(b)},ra:function(){a.debug("getVisiblePercent, try intersectionViewability");var b=this.ne.ra();-1===b&&(a.debug("moatViewability fallback"),b=this.fp.ra(),-1===b&&(a.debug("adapVisiblePercent fallback"),b=this.Uo.ra()));a.debug("visible percent",b);return b}}}(),[b.f.j.he,b.f.j.Hb,b.f.j.Jh]);d.vdb={b:{J:{Vh:b.b.J.Vh}}};d.default=b.b.J.Vh;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{Qh:{},na:{},X:{}},g:{},i:{},f:{gd:{},j:{},sd:{}}});b.g=
a(7).vdb.g;b.i=a(8).vdb.i;b.f.gd=a(16).vdb.f.gd;b.f.j=a(5).vdb.f.j;b.f.sd=a(38).vdb.f.sd;b.b.na=a(65).vdb.b.na;b.b.X=a(27).vdb.b.X;b.b.Qh=b.i.Class.extend(function(){function a(){var a=this.o.tl();a=a?b.g.Ua(a):{};var c=this.o.ye(),d=this.V.Cg(),h=this.o.Fq();c&&(a.APID=c.DG);a.width=d.width;a.height=d.height;a["p.vw.active"]=this.mc.rc()?1:0;a["p.vw.viewable"]=this.mc.Be();a["p.vw.viewableOpportunity"]=this.ne.Be();a.moatViewableOpportunity=this.ne.ra();a.adapViewableOpportunity=this.mc.ra();a.r=
b.b.X.Rc(window);a.ps="html5-vpaid"+(this.Fd.Ig()?",swf":"");a.sid=this.o.Gq();a.vvuid=this.o.Kq().vvuid;a.lookahead=!0;h&&(a.euconsent=h.euconsent,a.gdpr=h.gdpr,a.isOathFirstParty=h.isOathFirstParty);return a}var c=b.f.j;return{L:function(a){this.mc=a[c.Ta];this.ne=a[c.Hb];this.Fd=a[c.Db];this.o=a[c.P];this.V=a[c.ja]},FE:function(){var a=this.Ol(b.f.gd.Qa),c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(a["ad."+c]=a[c],delete a[c]);a["ad.m.ssai"]=1;a["ad.ps"]="vast_only";a.ad="vrm";a.v=
2;a.bcid=this.o.vl();a.pid=this.o.cj();a.bid=this.o.ul();return a},Ol:function(c){var d=this.V.Nc(),g={};if(d&&d.id){g.vid=d.id;g.pt=b.f.sd.Ct.toLowerCase();g.at=c?c.toLowerCase():"";c=this.o.tl();for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&0===h.indexOf("m.vrm")&&(g[h]=c[h])}g["p.vw.sound"]=Math.round(100*this.V.getVolume());g.autoplayInit=this.o.cr()?1:0;return b.g.Ua(a.call(this),g)},Ex:function(c){var d=this.V.Nc(),g={};d&&(g.vid=d.id,d=d.metadata||{},d.duration&&(g.t=d.duration/
1E3));g.at=c?c.toLowerCase():"";return b.g.Ua(a.call(this),g)}}}(),[b.f.j.Ta,b.f.j.Hb,b.f.j.Db,b.f.j.P,b.f.j.ja]);d.vdb={b:{Qh:b.b.Qh}};d.default=b.b.Qh;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{J:{Mh:{},Ba:{}},X:{}},ka:{},f:{j:{}},ha:{Ra:{}}});b.b.J.Ba=a(79).vdb.b.J.Ba;b.b.X=a(27).vdb.b.X;b.ka=a(22).vdb.ka;b.f.j=a(5).vdb.f.j;b.ha.Ra=a(48).vdb.ha.Ra;b.b.J.Mh=b.b.J.Ba.extend(function(){function a(){var a=b.b.X.Eg(window),c="moatApiInit"+ +new Date,d=new b.ka,f=a.location.protocol;f=0===
f.indexOf("http")?f:"https:";a[c]=function(b){d.resolve(b);a[c]=void 0};this.hi.Ng(f+"//"+("https:"===f?"z":"js")+".moatads.com/aolvidibleapi29384728347/moatapi.js#moatApiCallback="+c);return d.fb()}function c(a,b){this.ei===a?this.pg=b:b.destroy()}var d,f=b.ha.Ra;return{L:function(c){this.sb=c[b.f.j.he];this.o=c[b.f.j.P];this.hi=c[b.f.j.ta];this.o.Mb(f.it)||this.o.Mb(f.ht)||this.o.xy()||(d||(d=a.call(this)),this.Xc(this.sb))},Xc:function(a){if(this.pg){if(this.ei===a)return;this.pg.destroy();this.pg=
null}this.ei=a;d.then(function(b){b.startTracking(a,{ready:c.bind(this,a)})}.bind(this))},ra:function(){if(!this.pg||!this.ei||3>this.ei.offsetHeight)return-1;var a=this.pg.getPercentViewable();return isNaN(a)?-1:Math.min(Math.round(a),100)},Be:function(){var a=this.ra();return 0>a||100<a?-1:50>a?0:1}}}(),[b.f.j.he,b.f.j.ta,b.f.j.P]);d.vdb={b:{J:{Mh:b.b.J.Mh}}};d.default=b.b.J.Mh;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{Gh:{}},i:{}});b.i=a(8).vdb.i;b.b.Gh=b.i.Class.extend(function(){return{L:function(a){this.window=
a},Tc:function(){return this.window},GE:function(){return this.window.document}}}());d.vdb={b:{Gh:b.b.Gh}};d.default=b.b.Gh;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{localStorage:{}});b.localStorage={setItem:function(a,b){try{window.localStorage&&window.localStorage.setItem(a,b)}catch(l){}},getItem:function(a){var b;try{window.localStorage&&(b=window.localStorage.getItem(a))}catch(l){}return b},removeItem:function(a){try{window.localStorage&&window.localStorage.removeItem(a)}catch(m){}}};
d.vdb={localStorage:b.localStorage};d.default=b.localStorage;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{Dh:{},M:{}},i:{},g:{},localStorage:{},ha:{Ra:{}},f:{j:{}}});b.i=a(8).vdb.i;b.g=a(7).vdb.g;b.localStorage=a(212).vdb.localStorage;b.b.M=a(12).vdb.b.M;b.ha.Ra=a(48).vdb.ha.Ra;b.f.j=a(5).vdb.f.j;b.b.Dh=b.i.Class.extend(function(){function a(){var a,b=d;b=[b.Pg,b.pj,b.release];for(var c=Math.min(b.length,arguments.length),e=0;e<c;e++)b[e]>=arguments[e]?e+1<c&&b[e]===arguments[e]||(a=!0):
a=!1;return a}function c(){function a(a){var b=-1;try{b=a.GetVariable("$version")}catch(k){}return b}d={Pg:-1,pj:-1,release:-1};var b=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(b){return a(b)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(b){var c="6,0,21";try{b.BB="always",c=a(b)}catch(k){}return c}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(b){return a(b)}}];(function(){try{var a=navigator.plugins;var c=navigator.mimeTypes}catch(u){}if(a&&0<a.length){if(c&&
c["application/x-shockwave-flash"]&&c["application/x-shockwave-flash"].enabledPlugin&&c["application/x-shockwave-flash"].enabledPlugin.description){c=c["application/x-shockwave-flash"].enabledPlugin.description;c=c.split(/ +/);var f=c[2].split(/\./);a=parseInt(f[0],10);var g=parseInt(f[1],10);var q=parseInt(c[3].substr(1),10);d.Pg=a;d.pj=g;d.release=q}}else if(-1===navigator.appVersion.indexOf("Mac")&&window.execScript)for(c=-1,f=0;f<b.length&&-1===c;f++){a=-1;try{a=new ActiveXObject(b[f].name)}catch(u){a=
{fw:!0}}a.fw||(c=b[f].version(a),-1!==c&&(q=c.split(","),a=parseInt(q[0].split(" ")[1],10),g=parseInt(q[1],10),q=parseInt(q[2],10),d.Pg=a,d.pj=g,d.release=q))}})()}var d;return{L:function(a){c();this.o=a[b.f.j.P]},Mw:function(){var a=+b.localStorage.getItem("vdb-fl")||0;b.localStorage.setItem("vdb-fl",a+1);return" ("+ +(0===a)+", "+ +(0<a&&5>a)+", "+a+")"},$x:function(){return+b.localStorage.getItem("vdb-fl")||0},Ig:function(){var a=this.o.Mb(b.ha.Ra.gt);return this.Zy()&&!this.Yy()&&!a&&4>this.$x()},
Zy:function(){var a=d;return 11===a.Pg&&1<=a.pj||11<a.Pg},Yy:function(){if("firefox"===b.g.Lb.name&&39<=b.g.Lb.version){if(1===b.b.M.ub("ignoreexcludeff"))return!1;if(!a.call(this,19,0,0))return!0}return!1}}}(),[b.f.j.P]);d.vdb={b:{Dh:b.b.Dh}};d.default=b.b.Dh;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{R:{Ch:{},ib:{}},g:{},b:{hb:{}},f:{j:{}},log:{}});b.R.ib=a(105).vdb.R.ib;b.g=a(7).vdb.g;b.b.hb=a(66).vdb.b.hb;b.f.j=a(5).vdb.f.j;b.log=a(6).vdb.log;b.R.Ch=b.R.ib.extend(function(){var a=b.f.j,
c,d;return{L:function(b){this._super(b);this.V=b[a.ja]},Zd:function(a,g,h,e,k,p){var f=b.g.Bf(h)||"",m={et:a,st:g,dt:f.substring(0,3E3),ec:e||"",itg:this.V.El(),sact:this.o.xf(),edt:h&&h.edt?h.edt:null};a={type:a,qG:g,Jd:Array.isArray(h)&&h[0].match(/([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]/g)?b.g.Bf(h.slice(1)):f,code:e};b.g.Bf(a)!==b.g.Bf(d)?(this.ga("error.gif",m),c=void 0):(b.g.Yl(c)||(c=b.b.hb.Tw(function(){this.ga("error.gif",m)}.bind(this),k||2E3,p||!1)),c());d=b.g.Ua(a,d)},wG:function(a,c,
d){a={params:a};b.g.Ua(c,a);this.Zd("no_params",void 0,a,void 0,void 0,d)},AG:function(){this.ga("not-available.gif")}}}(),[b.f.j.ja,b.f.j.P,b.f.j.Re,b.f.j.ya]);d.vdb={R:{Ch:b.R.Ch}};d.default=b.R.Ch;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{da:{mh:{}},R:{Cb:{}},g:{},log:{},i:{}});b.R.Cb=a(95).vdb.R.Cb;b.g=a(7).vdb.g;b.log=a(6).vdb.log;b.i=a(8).vdb.i;b.da.mh=b.R.Cb.extend(function(){function a(a){var b=c.call(this,"ResourceLoaded"),d=this.o.Jl()||{};b.c1="ResourceLoaded";b.c2=a;b.pv=d.jsVersion;
b.pt=this.o.Ae();this.ga("action.gif",b)}function c(a){var b=this.V.Nc();a={action:a,vid:this.V.zl(),seq:b?b.wb:""};var c=b&&"youtube"===b.FG?this.V.la():!1;a.asid=c?c.getAsid():b?b.metadata.asid:"";a.acid=c?c.getAcid():b?b.metadata.acid:"";a.rid=c?c.getRuleId():"";a.vid=c?c.getVideoId():a.vid;return a}var d=b.log.B("BasicTracker");return{L:function(c){d.debug("init");this._super(c);b.g.pw(a.bind(this))},click:function(a,b){d.debug("click");var c={};void 0!==a&&(c.category=a);void 0!==b&&(c.clickName=
b);this.ga("click.gif",c)},display:function(a){d.debug("display");var b=(new Date).getTime()-this.o.ey(),c=this.o.Jl(),e=this.V.El();6E4<b&&(this.Gk.Zd("player load time failure","outliers",{edt:b}),b=null);this.ga("display.gif",{dt:b,w:a.width,h:a.height,itg:e,csid:c&&c.playerTemplate&&c.playerTemplate.csid||null,sact:this.o.xf()})},action:function(a,b,h,e,k,p,q){d.debug("action",a);a=c.call(this,a);a.ct=h;b&&(a.at=b);e&&(a.adId=e.WD,a.rid=e.dG,a.txid=e.zG);k&&(a.externalId=k);p&&(a.c1=p.c1||p.UD,
a.c2=p.c2||p.TD,a.c3=p.c3||p.SD);q&&(a.PollId=q.TF,a.AnswerId=q.cE);this.ga("action.gif",a)},sE:function(a,b){d.debug("ad-fallback ("+a+", "+b+")");this.ga("ad-fallback.gif",{VD:a,eE:b.toLowerCase()})}}}());d.vdb={da:{mh:b.da.mh}};d.default=b.da.mh;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this[y]=a.slot;this[w]=a.txid;this[v]=a.adxResult;this[A]=a.usid}function m(a,b){e.default.qa(this[z],
a,f.bind(this,b)).link(this[x])}function l(a){this[D]=a.Cx();n.call(this,a.data&&a.data.source||{});this[y]&&(this[x]&&this[x].S(),this[x]=e.default.empty(),"LOOKAHEAD"===this[v]&&m.call(this,t.default.Pf,"UAX_SKIP"),this[B].Ae()===u.default.tk&&this[D]===q.default.Qa||m.call(this,t.default.vc,this[y]),m.call(this,t.default.Oe,this[y]))}function f(a){this[z].dispatchEvent(new k.default(k.default.an,{cl:this[v],Ni:this[G].offsetWidth,$r:a,xG:this[w],type:this[D],$A:this[A]}));this[y]=void 0;this[w]=
void 0;this[v]=void 0;this[A]=void 0}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var g=b(c);c=a(4);c=b(c);var h=a(9),e=b(h);h=a(44);var k=b(h);h=a(5);var p=b(h);h=a(16);var q=b(h);h=a(38);var u=b(h);h=a(67);var r=b(h);a=a(10);var t=b(a),y=(0,c.default)(),w=(0,c.default)(),v=(0,c.default)(),A=(0,c.default)(),D=(0,c.default)(),x=(0,c.default)(),z=(0,c.default)(),G=(0,c.default)(),B=(0,c.default)();a=function(){function a(b){(0,g.default)(this,a);this[z]=b[p.default.ua];this[G]=b[p.default.va];
this[B]=b[p.default.P];e.default.bind(this[z],r.default.LOADED,l.bind(this))}return a}();d.default=a;a.O=[p.default.ua,p.default.va,p.default.P]},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.default=function(){return{adSettings:{adStrategy:"ADSET_BASED",aeg:[],asids:[],companions:[],domainOptimisation:!0,hardTimeout:7,podSize:-1,prerollInterleave:1},bcid:b.default["default.bcid"],bid:{id:b.default["default.bid"]},id:b.default["default.pid"],isEU:!0,jsVersion:"3.3.4",sid:(new n.default).toString(),
timestamp:+new Date}};var b=(c=a(35))&&c.__esModule?c:{default:c},n=(a=a(131))&&a.__esModule?a:{default:a}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(4);c=b(c);a=a(5);var m=b(a),l=(0,c.default)(),f=(0,c.default)(),g=(0,c.default)(),h=(0,c.default)(),e=(0,c.default)(),k=(0,c.default)();a=function(){function a(b){(0,n.default)(this,a);this[f]=b[m.default.va];this[g]=b[m.default.P].hr()?"tbv":"";this[h]={}}
a.prototype.oA=function(a){this[l]=a};a.prototype.uA=function(){this[h]=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}};a.prototype.Nc=function(){return this[h]};a.prototype.zl=function(){return this.Nc().id};a.prototype.vA=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";this[h]=this[h]||{};this[h].id=a};a.prototype.wA=function(a){this[e]=a};a.prototype.Vx=function(){return this[e]};a.prototype.la=function(){return this[l].la()};a.prototype.getVolume=function(){return this[l].getVolume()||
0};a.prototype.isMuted=function(){return this[l].isMuted()};a.prototype.Cg=function(){return{height:this[f].offsetHeight,width:this[f].offsetWidth}};a.prototype.Nq=function(){var a=this.Cg();return{h:a.height,w:a.width}};a.prototype.El=function(){return this[g]};a.prototype.Tq=function(){return this[k]};a.prototype.Rx=function(){return this[k]};return a}();d.default=a;a.O=[m.default.va,m.default.P]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a,b){"function"===typeof this[E].setAttribute&&
this[E].setAttribute(a,b)}function m(){this.dispatchEvent(D.default.Du,{buffered:this[E].buffered,duration:this.getDuration(),waiting:3>this[E].readyState})}function l(){this.dispatchEvent(D.default.Bu)}function f(){var a={duration:this.getDuration()},b=this[K]===C.PAUSED,c=this[K]===C.LOADING;this[K]=C.ee;b?this.dispatchEvent(D.default.Io,a):(c&&this.dispatchEvent(D.default.Jo,a),this.dispatchEvent(D.default.uk,a));this[W]=!1}function g(){this.dispatchEvent(D.default.Ko,{buffered:this.Kx(),currentTime:this.getCurrentTime(),
duration:this.getDuration(),durationWithoutAds:0})}function h(){this[E].paused&&!this[E].ended&&(this[K]=C.PAUSED,this.dispatchEvent(D.default.Ho))}function e(){this.dispatchEvent(D.default.Mo)}function k(a){this[K]!==C.IDLE&&(this[K]=C.IDLE,this.dispatchEvent(D.default.Eo,{complete:"ended"===a.type,currentTime:this.getCurrentTime()}))}function p(a){this[T]&&this[P]<this[T].length-1?(this[P]++,a=this[T][this[P]],n.call(this,"src",a),this.dispatchEvent(D.default.Go,{url:a})):(a=(a=(a=a&&a.data&&a.data.code)||
this[E].error&&this[E].error.code)||null,this.dispatchEvent(D.default.Fo,{code:a,message:"Can't play video "+this[E].currentSrc+": "+a}))}function q(){this.isMuted()||0===this[E].volume||(this[O]=this[E].volume);this.dispatchEvent(D.default.Xh,{muted:this.isMuted(),volume:this.getVolume()})}function u(){this.dispatchEvent(D.default.Do)}function r(){var a=this;this[V]&&clearTimeout(this[V]);this[M].removeEventListener("volumechange",q,this);this[V]=setTimeout(function(){a[V]=null;a[M].addEventListener("volumechange",
q,a)},100)}function t(){G.default.az(this[E])&&(q.call(this),r.call(this))}function y(a,b){this[T]=a;this[P]=0;this[J]=!1;this[E]=b;this[M]&&(this[M].Nr(),delete this[M]);this[M]=new A.default(this[E]);this.setVolume(this[O]);this[M].addEventListener("loadstart",l,this);this[M].addEventListener("progress",m,this);this[M].addEventListener("timeupdate",g,this);this[M].addEventListener("pause",h,this);this[M].addEventListener("waiting",e,this);this[M].addEventListener("ended",k,this);this[M].addEventListener("abort",
k,this);this[M].addEventListener("error",p,this);this[M].addEventListener("volumechange",q,this);this[M].addEventListener("click",u,this);this[M].addEventListener("playing",f,this);n.call(this,"src",this[T][this[P]]);try{this[E].load()}catch(ba){}this[K]=C.LOADING;return!1}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var w=b(c);c=a(4);c=b(c);var v=a(180),A=b(v);v=a(157);var D=b(v);v=a(17);var x=b(v);v=a(5);var z=b(v);v=a(7);var G=b(v);a=a(136);var B=b(a),C={LB:"cleaning",IDLE:"idle",LOADING:"loading",
PAUSED:"paused",ee:"playing"},H=(0,c.default)(),F=(0,c.default)(),E=(0,c.default)(),Q=(0,c.default)(),R=(0,c.default)(),K=(0,c.default)(),M=(0,c.default)(),N=(0,c.default)(),V=(0,c.default)(),O=(0,c.default)(),W=(0,c.default)(),J=(0,c.default)(),T=(0,c.default)(),P=(0,c.default)();a=function(){function a(b){(0,w.default)(this,a);this[F]=b[z.default.vk];this[K]=C.IDLE;this[N]=b[z.default.ta];this[R]=new x.default;this[H]=new B.default}a.prototype.dispatchEvent=function(){var a;(a=this[R]).dispatchEvent.apply(a,
arguments)};a.prototype.addEventListener=function(){var a;(a=this[R]).addEventListener.apply(a,arguments)};a.prototype.removeEventListener=function(){var a;(a=this[R]).removeEventListener.apply(a,arguments)};a.prototype.Al=function(){return this[E]};a.prototype.Oq=function(){return this[F].jg};a.prototype.Pp=function(){this[K]=C.ee;return this};a.prototype.play=function(){var a=this;if(this[E]){var b=Math.random();this[Q]=b;var c=this[E].play();c&&c.then(function(){},function(){if(a[K]!==C.IDLE)if(a.isMuted()){var c=
"function"===typeof a[E].getAttribute?a[E].getAttribute("playsinline"):void 0;c||a[J]?(a[W]&&(a.dispatchEvent(D.default.Xh,{muted:!1,volume:a.getVolume()}),a[W]=!1),b===a[Q]&&p.call(a,{data:{code:5}})):(a[J]=!0,n.call(a,"playsinline",""),a.play())}else a[K]=C.LOADING,a.mute(!0),a.dispatchEvent(D.default.Xh,{muted:!0,volume:0}),a[W]=!0,a[E].play()})}};a.prototype.setVolume=function(a){try{this[O]=a,this[E]&&(this[E].volume=a,t.call(this))}catch(ba){}this.mute(0===a)};a.prototype.getVolume=function(){return this[O]};
a.prototype.isMuted=function(){return this[E]&&this[E].muted||0===this.getVolume()};a.prototype.mute=function(){this[E]&&(this[E].muted=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0,t.call(this))};a.prototype.getDuration=function(){return Math.min(Math.max(this[E]&&this[E].duration||0,0),1E8)};a.prototype.Pc=function(){return this.getDuration()-this.getCurrentTime()};a.prototype.getCurrentTime=function(){return Math.max(Math.min(this[E]&&this[E].currentTime||0,this.getDuration()),0)};
a.prototype.Kx=function(){return this[E]&&this[E].buffered};a.prototype.yl=function(){return this.getCurrentTime()/this.getDuration()||0};a.prototype.seek=function(a){if(this[E]&&0<=a){a=isNaN(this.getDuration())?0:Math.min(a,this.getDuration()-.5);try{this[E].currentTime=a}catch(ba){}}};a.prototype.pause=function(){this[E]&&this[E].pause()};a.prototype.tm=function(){this.isPlaying()&&this.pause();this[K]=C.IDLE;this[E]&&(this[N].empty(this[E]),n.call(this,"src",""),"function"===typeof this[E].removeAttribute&&
this[E].removeAttribute("src"));this[H].next()};a.prototype.stop=function(){this[E]&&(this[M].removeEventListener("progress",m),this[E].pause(),this[E].load())};a.prototype.BA=function(a){return this[H].add(y.bind(this,a,this[F].jg))};a.prototype.yA=function(a){return this[H].add(y.bind(this,a,this[F].my()))};a.prototype.isPlaying=function(){return this[K]===C.ee};a.prototype.bm=function(){return this[K]!==C.IDLE};a.prototype.dj=function(){return this[E]&&this[E].offsetWidth||0};a.prototype.$i=function(){return this[E]&&
this[E].offsetHeight||0};a.prototype.vx=function(){return this[E]&&this[E].currentSrc};a.prototype.cx=function(){this[H].empty()};return a}();d.default=a;a.O=[z.default.vk,z.default.ta]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(47);var n=b(c);c=a(0);var m=b(c);c=a(4);c=b(c);var l=a(7),f=b(l);l=a(72);var g=b(l);l=a(28);var h=b(l);l=a(35);var e=b(l),k=a(132),p=(0,c.default)(),q=(0,c.default)();a=function(){function a(b,c){(0,
m.default)(this,a);var d={ads:e.default["adserver.url"],adt:e.default["adstracker.url"],cdn:e.default["cdn.url"],trk:e.default["tracking.url"]},k={};(0,n.default)(d).forEach(function(a){k[a]=h.default.Qr(c&&c[a]||d[a],"\\s/")});this[p]=k;this[q]=f.default.Ge({bcid:b.vl(),pid:b.cj()})}a.prototype.Ax=function(){return this[p].ads+"/vrm?"+this[q]};a.prototype.zx=function(){return this[p].ads+"/vrm/pods?"+this[q]};a.prototype.yx=function(){return this[p].ads+"/ads?"+this[q]};a.prototype.wy=function(){var a=
g.default.ub("oathPlayerBuildTag",window.location.href);return(0,k.xq)(e.default["cdn.url"],e.default["s3.url"],a)+"prebid.js"};a.prototype.Mx=function(a){return this[p].cdn+"/"+(a||"")};a.prototype.Fy=function(){return this[p].trk};a.prototype.xx=function(){return this[p].ads+"/ads/ad-start.gif"};a.prototype.Bx=function(){return this[p].adt+"/ads/ad-request.gif"};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});
c=a(0);var n=b(c);c=a(4);c=b(c);var m=a(38),l=b(m);m=a(7);var f=b(m);m=a(12);var g=b(m);m=a(27);var h=b(m);a=a(131);var e=b(a),k=(0,c.default)(),p=(0,c.default)(),q=(0,c.default)(),u=(0,c.default)(),r=(0,c.default)(),t=(0,c.default)(),y=(0,c.default)(),w=(0,c.default)(),v=(0,c.default)(),A=(0,c.default)(),D=(0,c.default)(),x=(0,c.default)(),z=(0,c.default)(),G=(0,c.default)(),B=(0,c.default)(),C=(0,c.default)();a=function(){function a(b){(0,n.default)(this,a);this[k]=b;this[G]=this[k].bcid;this[B]=
this[k].id;this[t]=this[k].timestamp;this[p]={};this[q]={};this[u]={};this[v]=!1;this[D]=this[k].macros||{};this[x]=f.default.ox(this[D]);this[r]={vvuid:b.vvuid||(new e.default(this[t])).toString()};b=f.default.pl(this[k].queryString||"");b.orgId&&(this[y]=b.orgId);b.placementId&&(this[z]=b.placementId);this[C]=this[k].isEU}a.prototype.Gq=function(){return this[k].sid};a.prototype.ul=function(){return this[k].bid&&this[k].bid.id||""};a.prototype.aj=function(){return this[p]};a.prototype.Tr=function(a,
b){this[p][a]=b};a.prototype.vl=function(){return this[G]};a.prototype.rA=function(a){this[G]=a};a.prototype.cj=function(){return this[B]};a.prototype.AA=function(a){this[B]=a};a.prototype.Ae=function(){return this[k].playerType||l.default.Oh};a.prototype.ey=function(){return this[t]};a.prototype.wx=function(){return this[u]};a.prototype.mA=function(a){this[q]=a};a.prototype.ye=function(){return this[q]};a.prototype.uy=function(){return this[k].jsVersion};a.prototype.getParameters=function(){var a=
{};f.default.Ua(this.Bq(),a);f.default.Ua(this[D],a);return a};a.prototype.Bq=function(){var a={bcid:this.vl(),bid:this.ul(),pid:this.cj(),pt:this.Ae(),pv:this.uy(),r:h.default.Rc(window),s:g.default.Ee()?"true":void 0,sid:this.Gq(),vvuid:this[r].vvuid};this[y]&&(a.orgId=this[y]);this[z]&&(a.plcid=this[z]);return a};a.prototype.WA=function(a){f.default.Ua(a,this[u])};a.prototype.Mb=function(a){a="string"===typeof a?a.toLowerCase():a;return this[D]["m."+a]||this[D][a]};a.prototype.tl=function(){return this[D]};
a.prototype.Ay=function(){return this[x]};a.prototype.Kq=function(){return this[r]};a.prototype.XA=function(a){this[r].vvuid=a};a.prototype.py=function(a){return this.aj()[a]||{}};a.prototype.Jl=function(){return this[k]};a.prototype.hr=function(){return-1!==(this[k].queryString||"").indexOf("tbv=on")};a.prototype.Yi=function(){return this[k].geo};a.prototype.Ef=function(){return this[v]||f.default.Lb.Ef()};a.prototype.ay=function(){return this[k].flashVersion};a.prototype.xf=function(){return this[w]};
a.prototype.Fx=function(){return this[k].adSettings};a.prototype.Gy=function(){return this[k].trackingEnabled};a.prototype.cr=function(){return this[k].autoplay};a.prototype.gr=function(){var a=this.cr();if(!a)return!1;var b=this.Ef();return"undefined"===typeof b?a:a&&b};a.prototype.Hm=function(a){this[A]=a};a.prototype.ny=function(){return this[A]};a.prototype.$q=function(){return this[k].aggressiveMode};a.prototype.Fq=function(){return this[k].GDPRData};a.prototype.xy=function(){return this[k].preview};
a.prototype.Uy=function(){return this[C]};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(6);var m=b(c);c=a(7);var l=b(c);a=a(161);var f=b(a);a=function(){function a(b,c,d,g,q){(0,n.default)(this,a);m.default.B("CompanionSlot").debug("init","width",b,"height",c,"parent",d,"keepCompanion",g,"selectorType",q);this.width=b||0;this.height=c||0;this.parent=d;this.keepCompanion=g||!1;this.selectorType=
q||f.default.$j}a.prototype.toString=function(){return l.default.Bf(this)};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];k.debug("parseCompanionSlots","raw slots",b);b.forEach(function(b){b=new h.default(b.width,b.height,b.parent,b.keepCompanion,b.selectorType);a.Ji.push(b)});k.debug("parseCompanionSlots","parsed slots",this.Ji)}Object.defineProperty(d,"__esModule",{value:!0});
c=a(0);var m=b(c);c=a(6);c=b(c);var l=a(96),f=b(l);l=a(5);var g=b(l);l=a(222);var h=b(l);a=a(175);var e=b(a),k=c.default.B("AdsConfig");a=function(){function a(b){(0,m.default)(this,a);this.Ji=[];this.we=[];b=b[g.default.P].Fx();k.debug("parse",b);this.dE=b.asids||[];this.Cz=b.maxLinearShowTime||90;this.rw=null!=b.prerollInterleave?b.prerollInterleave:1;this.Kc=b.podSize||1;this.$w=b.domainOptimisation;this.lm=b.overlayTiming;this.Ie=1E3*b.softTimeout||400;this.Uc=1E3*b.hardTimeout||8*this.Ie;this.LA=
Math.min(1E3*b.startTimeout||6*this.Uc,2147483647);this.Az=Math.min(1E3*b.maxAdSearchTime||0,2147483647);if(this.Uc<this.Ie){var c=[this.Uc,this.Ie];this.Ie=c[0];this.Uc=c[1]}this.autoplay=b.autoplay;this.zw=b.zw;this.volume=b.volume;this.Jr=b.Jr||b.publisherPayout;this.Ir=b.Ir||b.publisherAmount;this.mf=b.adStrategy||f.default.ss;this.Ry=b.isBrandedContent;this.Vg=b.skipSettings||{};this.cb=b.clickThroughUrl;this.Hw=b.chromeHackPreinitialisation;this.pA(b.aeg||[]);n.call(this,b.companions)}a.prototype.pA=
function(){var a=this;(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(b){return a.we.push(b.map(function(b){return e.default.parse(b,a)}))})};return a}();d.default=a;a.O=[g.default.P]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){var b=void 0;switch(this.np){case "Per Ad":b=this.Fc/1E3;break;case "Revenue Share":b=a.data.costPerImpression/1E3*this.Fc}b&&this.ga("prs.gif",{amt:B.default.Bw(b)})}function m(a){C.debug("trackAdRequest",
a);var b={};this.Ka({at:a.data.type.toLowerCase(),ps:B.default.Mq(this.Fd.Ig()),vid:this.V.zl()},{},b);this.ah(b);this.ga("ad-request.gif",b)}function l(a){C.debug("trackAdIssue",a);var b={};u.call(this,a,b);r.call(this,a,b);this.Ka({},{sact:this.o.xf()},b);this.ga("ad-issue.gif",b)}function f(a){C.debug("trackAdEngineRequest",a);var b={};u.call(this,a,b);this.ah(b);this.Ka({},{auid:a.data.auid,h:a.data.vg,sact:this.o.xf()},b);this.ga("ad-engine-request.gif",b);this.nv&&(b.acid||b.rid)&&h.call(this,
this.Ja.Bx(),b)}function g(a){C.debug("trackAdEngineResponse",a);var b={};u.call(this,a,b);var c=a.data.latency/100,d=this.Ia.Uc;this.Ka({aert:a.data.latency,ar:a.data.pz?"yes":a.data.timeout?"timeout":"no",fo:a.data.aB,ft:c<=this.Ia.Ie?0:c<=d?1:2},{to:a.data.timeout},b);this.Ka({},{auid:a.data.auid,h:a.data.vg,sact:this.o.xf()},b);this.ga("ad-engine-response.gif",b)}function h(a,b){var c={};B.default.Ua(this.o.getParameters(),c);B.default.Ua(b,c);a+=c?"?"+B.default.Ge(c):"";this.nf(a)}function e(a){C.debug("trackAdEngineFlow",
a);var b={};u.call(this,a,b);r.call(this,a,b);var c=a.data.kx||0;this.Ka({ap:a.data.yw,atsub:"LOOKAHEAD"===a.data.cl?"SKIPPABLE_PREROLL":"",avid:a.data.Ei,cpm:a.data.Id,fo:a.data.Ai&&"win"!==a.data.Ai&&"loaded"!==a.data.Ai?c:void 0,h:a.data.vg,m:a.data.muted},{ltc:a.data.latency},b);this.ah(b);this.Ka({},{auid:a.data.auid,sact:this.o.xf()},b);this.ga("ad-engine-flow.gif",b);b.stg===D.default.STARTED&&(b.acid||b.rid)&&h.call(this,this.Ja.xx(),b)}function k(a){C.debug("trackAdInteraction",a);var b=
{};u.call(this,a,b);this.Ka({action:a.data.action},{},b);this.ga("ad-interaction.gif",b)}function p(a){C.debug("trackAdClick",a);var b={};u.call(this,a,b);var c=this.V.Nc();this.Ka({cd:a.data.cb||"none",ct:a.data.Wp,t:c&&c.time||0},{},b);this.ga("click.gif",b)}function q(a){C.debug("trackSlotOpportunity",a);var b={};u.call(this,a,b);this.Ka({atsub:"LOOKAHEAD"===a.data.cl?"SKIPPABLE_PREROLL":"",slot:a.data.$r},{},b);this.ah(b);this.ga("slot-opp.gif",b)}function u(a,b){a=a.data||{};return this.Ka({at:(a.type||
"").toLowerCase()},{acid:a.acid,adIdx:a.sequence||-1,aen:a.name,asid:a.asid,itg:this.V.El(),pbl:a.isPayable,pc:a.profitCenter,ps:B.default.Mq(this.Fd.Ig()),rcid:a.ruleCompanyId,rid:a.ruleId,scope:a.isHouseAd?"ha":null,sfbid:a.bookingId,sfliid:a.lineItemId,txid:a.transactionId,usid:a.usid,v:a.vendor,vid:this.V.zl(),w:a&&a.Ni},b)}function r(a,b){var c=a.data;if(a=a.data.Dz){var d=a.sc;d=d&&d[0]&&d[0].mimeType||a.mimeType;a=a.Yb?a.Yb+" "+d:d}else a=void 0;return this.Ka({crt:a||"",curl:c.url||"",stg:c.Ai},
{aid:c.yi,al:c.iw,crl:c.jx,dt:c.Jd,et:c.gx,st:c.fx},b)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var t=b(c);c=a(2);var y=b(c);c=a(1);var w=b(c);c=a(95);c=b(c);var v=a(9),A=b(v);v=a(57);var D=b(v);v=a(6);v=b(v);var x=a(5),z=b(x);x=a(44);var G=b(x);a=a(7);var B=b(a),C=v.default.B("AdTracker");a=function(a){function b(c){(0,t.default)(this,b);var d=(0,y.default)(this,a.call(this,c));d.Vb=c[z.default.ua];d.Fd=c[z.default.Db];return d}(0,w.default)(b,a);b.prototype.ww=function(){this.oa||
(this.oa=A.default.group(A.default.bind(this.Vb,G.default.lo,n.bind(this)),A.default.bind(this.Vb,G.default.Xm,m.bind(this)),A.default.bind(this.Vb,G.default.Me,l.bind(this)),A.default.bind(this.Vb,G.default.Sm,f.bind(this)),A.default.bind(this.Vb,G.default.Jj,g.bind(this)),A.default.bind(this.Vb,G.default.Rm,e.bind(this)),A.default.bind(this.Vb,G.default.Qb,k.bind(this)),A.default.bind(this.Vb,G.default.Ya,p.bind(this)),A.default.bind(this.Vb,G.default.an,q.bind(this))))};b.prototype.detach=function(){this.oa&&
this.oa.S()};b.prototype.qA=function(a){this.Ia=a;this.np=a.Jr||"None";this.Fc=a.Ir;this.nv=a.$w;"Revenue Share"===this.np&&(0>this.Fc&&(this.Fc=0),100<this.Fc&&(this.Fc=100),1<this.Fc&&(this.Fc/=100))};return b}(c.default);d.default=a;a.O=[z.default.P,z.default.Re,z.default.ja,z.default.ua,z.default.Db,z.default.Hb,z.default.Ta,z.default.ya]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){var a=this.bb.Ml(),b=[];switch(this.bb.getName()){case "viewabilityDefVideo3P":b.push([e.default.Zu,
a]);break;case "viewabilityDefStatic3P":b.push([e.default.lu,a])}return b}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var m=b(c);c=a(2);var l=b(c);c=a(1);var f=b(c);c=a(4);c=b(c);var g=a(5),h=b(g);g=a(139);var e=b(g);a=a(138);a=b(a);var k=(0,c.default)(),p=(0,c.default)();a=function(a){function b(c){(0,m.default)(this,b);var d=(0,l.default)(this,a.call(this,c));d[p]=c[h.default.Xf];return d}(0,f.default)(b,a);b.prototype.Rg=function(){a.prototype.Rg.call(this);!this[k]&&this.Uq()/1E3>=
this.bb.Hl()&&(this[p].sq({Dr:this.bb.ry(),Sz:n.call(this)}),this[k]=!0)};return b}(a.default);d.default=a;a.O=[h.default.ua,h.default.Ta,h.default.Xf]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){var a=this,b=m.call(this);return 0<b.length?u.default.all(b.map(function(b){return a[v].pf(t.default).Ur(b)})).then(function(){}):u.default.resolve()}function m(){var a=this,b=[];(0,g.default)(z).forEach(function(c){l.call(a,b,c)});y.debug("rules prepared",b);return b}
function l(a,b){var c=z[b],d=this[D][c];c&&d&&f.call(this,b).forEach(function(c){a.push(new r.default(b,c,d))})}function f(a){a=this[x][a];return Array.isArray(a)?a:[a]}Object.defineProperty(d,"__esModule",{value:!0});c=a(47);var g=b(c);c=a(0);var h=b(c);c=a(4);c=b(c);var e=a(6);e=b(e);var k=a(5),p=b(k);k=a(45);var q=b(k);k=a(26);var u=b(k);k=a(137);var r=b(k);a=a(225);var t=b(a),y=e.default.B("GeminiRulesResolver"),w=(0,c.default)(),v=(0,c.default)(),A=(0,c.default)(),D=(0,c.default)(),x=(0,c.default)(),
z={viewabilityDefStatic:"STATIC_VIEW",viewabilityDefStatic3P:"STATIC_VIEW_3P",viewabilityDefVideo:"VIDEO_VIEW",viewabilityDefVideo3P:"VIDEO_VIEW_3P"};a=function(){function a(b){(0,h.default)(this,a);y.debug("constructor",b);this[w]=b[p.default.wc];this[v]=b[q.default.pb]}a.prototype.resolve=function(){y.debug("resolve");var a=this[w].ji;this[A]=a&&a.ads[0]||{};this[x]=this[A].rules||{};this[D]=this[A].actionUrls||{};return n.call(this)};return a}();d.default=a;a.O=[p.default.wc,q.default.pb]},function(c,
d,a){d=c.exports=a(87)(!1);d.push([c.qc,'.gemini-ad-header-container {\n    background-color: rgba(0, 0, 0, 0.16);\n    width: 100%;\n    position: absolute;\n    top: 0;\n    text-shadow: 0 1px 1px rgba(0,0,0,0.5);\n    color: #fff;\n    font-size: 12px;\n    line-height: 16px;\n    text-align: left;\n}\n\n.gemini-container-table td{\n    vertical-align: top;\n    border: none;\n}\n\n.gemini-ad-header-container.hidden {\n    display: none;\n}\n\n.gemini-ad-header-container.invisible-gemini-container {\n    background-color: inherit;\n}\n\n.gemini-ad-header-container.invisible-gemini-container .gemini-description-container,\n.gemini-ad-header-container.invisible-gemini-container .gemini-call-button {\n    visibility: hidden;\n}\n\n.gemini-ad-header-wrapper {\n    padding: 16px;\n}\n\n.gemini-ad-sign,\n.gemini-description-container {\n    float: left;\n}\n\n.gemini-description-container {\n    margin-left: 5px;\n}\n\n.gemini-headline {\n    font-family: SFUIText-Bold, HelveticaNeue-Bold, "Helvetica Neue Bold", serif;\n    font-size: 120%;\n    font-weight: bold;\n}\n\n.gemini-sponsor-name {\n    margin-top: 3px;\n}\n\n.gemini-call-button {\n    padding: 10px 22px 9px 22px;\n    border: 1px #fff solid;\n    outline: none;\n    border-radius: 2px;\n    color: #FFFFFF;\n    font-family: "Helvetica Neue Regular", "Helvetica Neue", helvetica, arial, sans-serif;\n    font-size: 12px;\n    line-height: 13px;\n    cursor: pointer;\n    float: right;\n    white-space: nowrap;\n}\n',
""])},function(c,d,a){d=a(227);c.exports="string"===typeof d?d:d.toString()},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){r.default.Hf(this[z],"invisible-gemini-container")}function m(){r.default.rg(this[z],"invisible-gemini-container")}function l(){this[Q]=this[v].ji.ads[0].tag||{};this[H].innerHTML=this[Q].headline||"";this[F].innerHTML=this[Q].sponsoredByLabel||"";this[A].appendChild(this[z])}function f(){r.default.If(this[z]);this[R].S();this[K].S()}function g(a){a.preventDefault();
(a=this[Q].clickUrl)&&t.default.wr(a)}function h(a){var b=r.default.createElement("td",null,this[D]);return r.default.createElement("div",{"class":a},b)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var e=b(c);c=a(4);c=b(c);var k=a(10),p=b(k);k=a(5);var q=b(k);k=a(9);var u=b(k);k=a(7);var r=b(k);k=a(66);var t=b(k);a=a(228);var y=b(a),w=(0,c.default)(),v=(0,c.default)(),A=(0,c.default)(),D=(0,c.default)(),x=(0,c.default)(),z=(0,c.default)(),G=(0,c.default)(),B=(0,c.default)(),C=(0,c.default)(),
H=(0,c.default)(),F=(0,c.default)(),E=(0,c.default)(),Q=(0,c.default)(),R=(0,c.default)(),K=(0,c.default)();a=function V(a){(0,e.default)(this,V);this[w]=a[q.default.zb];this[v]=a[q.default.wc];this[A]=a[q.default.cc];this[x]=a[q.default.ta];this[R]=u.default.empty();this[K]=u.default.empty();u.default.bind(this[w],p.default.sa,l.bind(this));u.default.bind(this[w],p.default.Oa,f.bind(this));r.default.Lb.lj()||(this[R]=u.default.bind(this[A],"mouseover",n.bind(this)),this[K]=u.default.bind(this[A],
"mouseout",m.bind(this)));this[x].uf(y.default);a=["gemini-ad-header-container"];r.default.Lb.lj()||a.push("invisible-gemini-container");this[z]=r.default.createElement("div",{"class":a});this[G]=r.default.createElement("div",{"class":"gemini-ad-header-wrapper"},this[z]);a=r.default.createElement("table",{"class":"gemini-container-table"},this[G]);this[D]=r.default.createElement("tr",null,a);this[B]=h.call(this,"gemini-ad-sign");this[C]=h.call(this,"gemini-description-container");this[H]=r.default.createElement("div",
{"class":"gemini-headline"},this[C]);this[F]=r.default.createElement("div",{"class":"gemini-sponsor-name"},this[C]);this[E]=h.call(this,"gemini-call-button");this[B].innerHTML="Ad:";this[E].innerHTML="Get Now";u.default.bind(this[E],"click",g.bind(this))};d.default=a;a.O=[q.default.zb,q.default.wc,q.default.cc,q.default.ta]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(4);
c=b(c);var f=a(5),g=b(f);f=a(45);var h=b(f);f=a(6);f=b(f);var e=a(158),k=b(e);e=a(159);e=b(e);a=a(229);var p=b(a),q=(0,c.default)(),u=(0,c.default)(),r=(0,c.default)(),t=(0,c.default)(),y=f.default.B("GeminiAdView");a=function(a){function b(c){(0,n.default)(this,b);var d=c[g.default.va],e=c[g.default.zb],f=c[g.default.wc],k=c[g.default.dc],l=[];f=(0,m.default)(this,a.call(this,null,d,{dispatchEvent:function(a){l.forEach(function(b){return b(a)})}},null,[{}],f,e));y.debug("instance created");f[t]=
l;f[r]=k;f[q]=d;f[u]=e;c[h.default.pb].aq(p.default);return f}(0,l.default)(b,a);b.prototype.hB=function(a){this[t].push(a);return this};b.prototype.load=function(a){var b=a.tag.assets.find(function(a){return"VIDEO_PRIMARY"===a.usageType}).mediaInfo[0].url,c=new k.default(this[r],[b],this[q]);this.N=c;this.Na={cb:a.tag.clickUrl};y.debug("loading",b);c.l=this;c.load()};b.prototype.Je=function(){};return b}(e.default);d.default=a;a.O=[g.default.va,g.default.dc,g.default.zb,h.default.pb,g.default.wc]},
function(c,d,a){c=a(21);c(c.Ib+c.Sb*!a(24),"Object",{defineProperty:a(20).U})},function(c,d,a){a(231);var b=a(14).Object;c.exports=function(a,c,d){return b.defineProperty(a,c,d)}},function(c,d,a){c.exports={"default":a(232),__esModule:!0}},function(c,d,a){d.__esModule=!0;var b=function(a){return a&&a.__esModule?a:{default:a}}(a(233));d.default=function(a,c,d){c in a?(0,b.default)(a,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[c]=d;return a}},function(c,d,a){function b(a){return a&&a.__esModule?
a:{default:a}}function n(){}function m(a){if(-1===this[E].indexOf(a)){var b=this[H]&&this[H][a];b&&(z.debug("Tracking pixels",a,b),this[C].sq({Dr:b}));this[E].push(a)}}function l(a){switch(a.type){case v.default.Eb:this.Bi();break;case A.default.Ue:var b=a.uc,c;b=(c={},(0,e.default)(c,r.default.md,"VIDEO_QUARTILE_25"),(0,e.default)(c,r.default.Rh,"VIDEO_QUARTILE_50"),(0,e.default)(c,r.default.wd,"VIDEO_QUARTILE_75"),(0,e.default)(c,r.default.Ha,"VIDEO_QUARTILE_100"),c)[b];m.call(this,b);switch(a.uc){case r.default.jk:this.Kp(a);
m.call(this,"VIDEO_START");30<a.data.currentTime&&m.call(this,"VIDEO_30_SEC");break;case r.default.Ha:this.complete();break;case r.default.Ph:this.Yk(a)}}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var f=b(c);c=a(2);var g=b(c);c=a(1);var h=b(c);c=a(234);var e=b(c);c=a(4);c=b(c);var k=a(5),p=b(k);k=a(45);var q=b(k);k=a(6);k=b(k);var u=a(25),r=b(u);u=a(110);u=b(u);var t=a(64),y=b(t);t=a(37);var w=b(t);t=a(13);var v=b(t);t=a(61);var A=b(t);t=a(230);var D=b(t);a=a(226);var x=b(a),z=k.default.B("GeminiEngine"),
G=(0,c.default)(),B=(0,c.default)(),C=(0,c.default)(),H=(0,c.default)(),F=(0,c.default)(),E=(0,c.default)();a=function(a){function b(c){(0,f.default)(this,b);var d=(0,g.default)(this,a.call(this,c[p.default.zb],c[p.default.nb],c[p.default.wc]));d[E]=[];d[B]=c[q.default.pb];d.D=c[p.default.va];d[G]=c[p.default.Pa];d[C]=c[p.default.Xf];d.u.addEventListener(y.default.Se,n.bind(d));z.debug("instance created");d[B].pf(x.default).resolve();return d}(0,h.default)(b,a);b.prototype.load=function(){a.prototype.load.call(this);
this.zi();this.ready(!0)};b.prototype.xm=function(a){z.debug("show linear ad");var b=this.C.ji.ads[0];this[H]=b.actionUrls;this.$k();this.Wg(a);this[F]=this[B].pf(D.default);this[F].hB(l.bind(this)).load(b);this[F].addEventListener(w.default.Oa,this.se.bind(this))};b.prototype.Mf=function(){throw Error("overlay is not supported");};b.prototype.stop=function(){z.debug("stop");this[F].stop()};b.prototype.complete=function(){this[F].removeEventListener(w.default.Oa,this.se);a.prototype.complete.call(this)};
b.prototype.Da=function(){z.debug("skip");this[F].Da()};b.prototype.pause=function(){z.debug("pause");this[F].pause()};b.prototype.resume=function(){z.debug("resume");this[F].resume()};b.prototype.setVolume=function(a){z.debug("setVolume",a);this[F]&&this[F].setVolume(a)};b.prototype.getDuration=function(){return this[F].getDuration()};b.prototype.getCurrentTime=function(){return this[F].getCurrentTime()};b.prototype.eb=function(){return this.getDuration()};b.prototype.getAdSkippableState=function(){return!1};
b.prototype.getAdCompanions=function(){return""};return b}(u.default);d.default=a;a.O=[q.default.pb,p.default.wc,p.default.zb,p.default.nb,p.default.va,p.default.Pa,p.default.Xf]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(4);c=b(c);a=a(5);var m=b(a),l=(0,c.default)(),f=(0,c.default)();a=function(){function a(b){(0,n.default)(this,a);this[l]=b[m.default.ta];this[f]=b[m.default.Zj]}a.prototype.sq=function(a){var b=
this,c=a.Sz;a.Dr.forEach(function(a){b[l].createElement("img").src=b[f].resolve(a,c)})};return a}();d.default=a;a.O=[m.default.ta,m.default.Zj]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(4);c=b(c);a=a(6);var m=b(a).default.B("BaseViewabilityRules"),l=(0,c.default)(),f=(0,c.default)(),g=(0,c.default)(),h=(0,c.default)(),e=(0,c.default)();a=function(){function a(){(0,n.default)(this,a);m.debug("constructor");
this[l]=2;this[f]=50;this[g]=!0;this[h]=!1;this[e]=null}a.prototype.Hl=function(){return this[l]};a.prototype.Gl=function(){return this[f]};a.prototype.Wl=function(){return this[g]};a.prototype.Vl=function(){return this[h]};a.prototype.Ml=function(){return this[e]};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){return this[A].isMuted()?2:1}function m(){var a=this[G].ra();return 0>a?3:50>a?2:1}function l(){return this[z].dj()}function f(){return this[z].$i()}
function g(){return this[B].Uq()}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var h=b(c);c=a(4);c=b(c);var e=a(5),k=b(e);e=a(114);var p=b(e);e=a(7);var q=b(e);e=a(122);var u=b(e);e=a(45);var r=b(e);e=a(139);var t=b(e);e=a(138);var y=b(e);a=a(137);var w=b(a),v=(0,c.default)(),A=(0,c.default)(),D=(0,c.default)(),x=(0,c.default)(),z=(0,c.default)(),G=(0,c.default)(),B=(0,c.default)();a=function(){function a(b){(0,h.default)(this,a);this[A]=b[k.default.zb];this[D]=b[k.default.P];this[x]=b[k.default.nb];
this[z]=b[k.default.dc];this[G]=b[k.default.Ta];b=b[r.default.pb];var c=this[x].Vg;c=[[t.default.Tu,this[D].gr()],[t.default.Xu,c&&!q.default.Wc(c)||!1],[t.default.Wu,l.bind(this)],[t.default.Vu,f.bind(this)],[t.default.Yu,m.bind(this)],[t.default.Ru,n.bind(this)],[t.default.Uu,u.default.Jg()],[t.default.Su,g.bind(this)]];this[v]=p.default.create.apply(null,c);c=new w.default("default",{a:1,p:100});this[B]=b.pf(y.default);this[B].Ur(c)}a.prototype.resolve=function(a,b){b?(b=p.default.create.apply(null,
b),b=this[v].join(b)):b=this[v];return b.resolve(a)};return a}();d.default=a;a.O=[r.default.pb,k.default.zb,k.default.P,k.default.nb,k.default.dc,k.default.Ta]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(49);var f=b(c);c=a(5);var g=b(c);c=a(6);c=b(c);var h=a(111);h=b(h);var e=a(238),k=b(e);e=a(236);var p=b(e);a=a(235);var q=b(a),u=c.default.B("GeminiEngineProducer");a=
function(a){function b(c,d,e){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,c,d,e))}(0,l.default)(b,a);b.prototype.Li=function(a){u.debug("createAdEngine",a);var b=this.Wi().ia().Nw();b.Ob(g.default.wc,a);b.ca(g.default.Zj,k.default);b.ca(g.default.Xf,p.default);return b.pf(q.default)};b.prototype.getType=function(){return f.default.wt};return b}(h.default);d.default=a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=(c=a(47))&&c.__esModule?c:{default:c};d.default=
function(){.03>Math.random()&&(0,b.default)(n).forEach(function(a){a=n[a];m.createElement("img").src=a})};d=a(78);var n={DSPPlus:"https://sync.adaptv.advertising.com/sync?rUrl=https%3A%2F%2Fpr-bh.ybp.yahoo.com%2Fsync%2Fadaptv_ortb%2F%7Bcombo_uid%7D%0A%0A",GoogleDBM:"https://cm.g.doubleclick.net/pixel?google_nid=adaptv_dbm&google_cm&google_sc",IndexExchange:"https://ssum-sec.casalemedia.com/usermatchredir?s=183965&{gdpr_qparam}&{gdpr_consent_qparam}&cb=https%3A%2F%2Fpixel.advertising.com%2Fups%2F55940%2Fsync%3Fuid%3D_UID_%26{gdpr_qparam}%26{gdpr_consent_qparam}",
MediaMath:"https://sync.mathtag.com/sync/img?{gdpr_qparam}&{gdpr_consent_qparam}&mt_exid=31&redir=https%3A%2F%2Fpixel.advertising.com%2Fups%2F55938%2Fsync%3Fuid%3D%5BMM_UUID%5D%7D%26_origin%3D1%26{gdpr_qparam}%26{gdpr_consent_qparam}",TradeDesk:"https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1",TubeMogul:"https://sync-tm.everesttech.net/upi/pid/m7y5t93k?{gdpr_qparam}&{gdpr_consent_qparam}&redir=https%3A%2F%2Fpixel.advertising.com%2Fups%2F55986%2Fsync%3Fuid%3D%24%7BUSER_ID%7D%26_origin%3D1%26{gdpr_qparam}%26{gdpr_consent_qparam}",
Turn:"https://ad.turn.com/r/cs?pid=18",UMSPixel:"https://ssum-sec.casalemedia.com/usermatchredir?s=183965&cb=https%3A%2F%2Fpixel.advertising.com%2Fups%2F55940%2Fsync%3Fuid%3D__UID__",YahooRTB:"https://sync.adaptv.advertising.com/sync?rUrl=https%3A%2F%2Fpr-bh.ybp.yahoo.com%2Fsync%2Fadaptv_ortb%2F%7Buid%7D"},m=new (d&&d.__esModule?d:{default:d}).default(window.document)},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=
1;d<b;d++)c[d-1]=arguments[d];b={data:1===c.length?c[0]:c,type:a};try{this.le.contentWindow.postMessage(b,this[t])}catch(B){v.error("Unable to send message",b,B)}}function m(a){a.origin===this[t]&&a.data.location===this.le.src?(a.preventDefault(),"ready"===a.data.type?(this.ui.resolve({data:a.data.data,Km:this}),l.call(this)):"error"===a.data.type?this.rr(a.data.data):this[y][a.data.type]&&this[y][a.data.type].forEach(function(b){return b.listener(a.data)})):v.debug("Ignore message from "+a.origin)}
function l(){var a=this;A.forEach(function(b){a.subscribe(function(c){Array.isArray(c.data.value)?c.data.value.forEach(function(c,d){return a[w][b.Ud][b.mx[d]]=c}):a[w][b.Ud]=c.data.value},b.name,null,b.Ce)})}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var f=b(c);c=a(2);var g=b(c);c=a(1);var h=b(c);c=a(4);c=b(c);var e=a(140);e=b(e);var k=a(134);k=b(k);var p=a(9),q=b(p);p=a(6);p=b(p);a=a(12);var u=b(a),r=(0,c.default)(),t=(0,c.default)(),y=(0,c.default)(),w=(0,c.default)(),v=p.default.B("SecureVPAID"),
A=[{Ce:"getAdLinear",name:k.default.bd,Ud:"isLinear"},{mx:["width","height"],Ce:["getAdWidth","getAdHeight"],name:k.default.Zm,Ud:"size"},{Ce:"getAdExpanded",name:k.default.Tm,Ud:"isExpanded"},{Ce:"getAdSkippableState",name:k.default.dd,Ud:"isSkippable"},{Ce:"getAdDuration",name:k.default.Pm,Ud:"duration"},{Ce:"getAdRemainingTime",name:k.default.Wm,Ud:"remainingTime"},{Ce:"getAdVolume",name:k.default.lh,Ud:"volume"}];a=function(a){function b(c,d){(0,f.default)(this,b);c=(0,g.default)(this,a.call(this,
c,d));c[r]=q.default.empty();c[w]={size:{}};c[y]=[];return c}(0,h.default)(b,a);b.prototype.jj=function(){this[t]=u.default.yr(this.le.src).origin;q.default.bind(this.le.contentWindow.parent,"message",m.bind(this)).link(this[r]);this.K("init",{url:this.oc,vpaidInterface:this.Vo})};b.prototype.K=function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];a.prototype.K.call(this,c[0],c[1]);n.apply(this,[].concat(Array.prototype.slice.call(c)))};b.prototype.initAd=function(a,b,c,d,
e){this.K("initAd",a,b,c,d,e,{videoSlotCanAutoPlay:!0})};b.prototype.subscribe=function(a,b,c,d){this[y][b]||(this[y][b]=[],this.K("subscribe",{eventName:b,getter:d}));this[y][b].push({nq:b,listener:a})};b.prototype.unsubscribe=function(a,b){this[y][b]=this[y][b].filter(function(b){return b.listener!==a});0===this[y][b].length&&this.K("unsubscribe",{eventName:b})};b.prototype.getAdVolume=function(){return this[w].volume};b.prototype.getAdSkippableState=function(){return this[w].isSkippable};b.prototype.getAdExpanded=
function(){return this[w].isExpanded};b.prototype.getAdWidth=function(){return this[w].size.width};b.prototype.getAdHeight=function(){return this[w].size.height};b.prototype.getAdDuration=function(){return this[w].duration};b.prototype.getAdLinear=function(){return this[w].isLinear};b.prototype.getAdRemainingTime=function(){return this[w].remainingTime};b.prototype.ue=function(){this[y]=[];this[r].S();a.prototype.ue.call(this)};b.prototype.mute=function(a){n.call(this,"mute",a)};return b}(e.default);
d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(141);c=b(c);var f=a(241),g=b(f),h=a(132);f=a(5);var e=b(f);f=a(35);var k=b(f);a=a(72);var p=b(a),q=0;a=function(a){function b(c){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,c[e.default.ta]))}(0,l.default)(b,a);b.prototype.Di=function(a,b){var c=p.default.ub("oathPlayerBuildTag",window.location.href);
c=(0,h.xq)(k.default["cdn.url"],k.default["s3.url"],c)+"xdomain-vpaid.html?id="+q++;var d=this.hi.createElement("iframe");d.id="xdomainFrame";d.style.position="absolute";d.style.top=0;d.style.width="100%";d.style.height="100%";d.style.zIndex=2;d.style.pointerEvents="auto !important";d.setAttribute("allow","autoplay");b=new g.default(d,b);d.onload=b.jj.bind(b);d.src=c;a.appendChild(d);return b.Pq()};return b}(c.default);a.O=[e.default.ta];d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?
a:{default:a}}function n(){var a=this,b=new k.default;window.pbjs.que.push(function(){window.pbjs.addAdUnits(D);window.pbjs.setConfig({cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}});window.pbjs.requestBids({bidsBackHandler:function(){var c=window.pbjs.adServers[a[A]].buildVideoUrl({adUnit:D,params:a[v]});b.resolve(c)}})});window.pbjs.bidderSettings={standard:{adserverTargeting:[{key:"hb_bidder",val:function(a){return a.bidderCode}},{key:"hb_adid",val:function(a){return a.adId}},{key:"hb_pb",
val:function(){return"10.00"}},{key:"hb_size",val:function(a){return a.size}}]}};return b.fb()}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var m=b(c);c=a(2);var l=b(c);c=a(1);var f=b(c);c=a(4);c=b(c);var g=a(63);g=b(g);var h=a(5),e=b(h);h=a(22);var k=b(h);h=a(48);var p=b(h);a=a(7);var q=b(a),u=(0,c.default)(),r=(0,c.default)(),t=(0,c.default)(),y=(0,c.default)(),w=(0,c.default)(),v=(0,c.default)(),A=(0,c.default)(),D={bids:[],code:"video1",mediaTypes:{video:{context:"instream"}}},x={output:"vast"};
a=function(a){function b(c){(0,m.default)(this,b);var d=(0,l.default)(this,a.call(this,c)),f=c.u.ia(),k=f.H(e.default.ya);d[w]=c.ad;d[u]=f.H(e.default.ta);d[r]=f.H(e.default.ja);d[y]=f.H(e.default.P);d[t]=k.wy();return d}(0,f.default)(b,a);b.prototype.load=function(){var b=this,c=this[r].Cg();D.sizes=[c.width,c.height];c=this[w].Kv;Array.isArray(c)?D.bids=c:D.bids[0]=c;this[A]=this[y].Mb(p.default.$t)||"dfp";if(c=this[y].Mb(p.default.bu))try{c=JSON.parse(decodeURIComponent(c))}catch(H){}this[v]=q.default.extend(x,
c||{});return this[u].Ng(this[t]).then(n.bind(this)).then(function(c){b[w].qw(c);b[w].Bm();return a.prototype.load.call(b,c)})};return b}(g.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(49);var f=b(c);c=a(243);var g=b(c);a=a(112);a=function(a){function b(c,d,e){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,c,d,e))}(0,l.default)(b,a);b.prototype.Jq=
function(){return g.default};b.prototype.getType=function(){return f.default.co};return b}(b(a).default);d.default=a},function(c,d,a){d=c.exports=a(87)(!1);d.push([c.qc,"video {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n}\n\niframe {\n    position: absolute;\n    z-index: 2;\n    pointer-events: auto !important;\n}\n",""])},function(c,d,a){d=a(245);c.exports="string"===typeof d?d:d.toString()},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}
function n(){this[t].style&&(this[t].style.visibility="visible",this[t].style.display="block")}function m(a,b){z[b].call(this);a()}Object.defineProperty(d,"__esModule",{value:!0});c=a(193);var l=b(c);c=a(0);var f=b(c);c=a(2);var g=b(c);c=a(1);var h=b(c);c=a(4);c=b(c);var e=a(140);e=b(e);var k=a(187),p=b(k);k=a(7);var q=b(k);k=a(16);var u=b(k);a=a(26);var r=b(a),t=(0,c.default)(),y=(0,c.default)(),w=(0,c.default)(),v=(0,c.default)(),A=(0,c.default)(),D=(0,c.default)(),x=(0,c.default)(),z={AdImpression:function(){this[y]===
u.default.gc&&n.call(this)},AdVideoStart:function(){n.call(this)}};a=function(a){function b(c,d,e,k,p,h){(0,f.default)(this,b);c=(0,g.default)(this,a.call(this,c,d));c[y]=e;c[v]=k;c[A]=p;c[x]=h;return c}(0,h.default)(b,a);b.prototype.jj=function(a){var b=this;this[y]===u.default.qb||this[y]===u.default.gc||this[v].isPlaying()?(this[t]=q.default.eq(a),this.le.parentElement.appendChild(this[t])):(this[w]=!0,this[v].Pp(),this[t]=this[v].Oq());(0,p.default)(a.body,this.oc,this.Vo).then(function(a){b[D]=
a.creative;b.ui.resolve({data:a,Km:b})},this.rr.bind(this))};b.prototype.K=function(b,c){var d;a.prototype.K.call(this,b,c);return this[D][b]&&(d=this[D])[b].apply(d,(0,l.default)(c))};b.prototype.initAd=function(a,b,c,d,e){var f=q.default.createElement("div",{"class":"vpaid-content",style:"height: 100%"},this.le.contentDocument.body),k=this[A].wx().OA;f={companionSlots:this[x],slot:f,topOffsetPromise:k?k.fb():r.default.resolve(),videoSlot:this[t],videoSlotCanAutoPlay:!0};a=a||this[t].offsetWidth;
b=b||this[t].offsetHeight;this[D].initAd(a,b,c,d,e,f)};b.prototype.subscribe=function(a,b,c){z[b]?this[D].subscribe(m.bind(this,a,b),b,c):this[D].subscribe(a,b,c)};b.prototype.unsubscribe=function(a,b){z[b]?this[D].unsubscribe(m.bind(this,a,b),b):this[D].unsubscribe(a,b)};b.prototype.ue=function(){a.prototype.ue.call(this);this[w]&&this[v].tm()};b.prototype.mute=function(a){this[t].muted=a};return b}(e.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,
"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(141);c=b(c);var f=a(247),g=b(f);f=a(246);var h=b(f);f=a(5);var e=b(f);f=a(9);var k=b(f);f=a(142);var p=b(f);a=a(7);var q=b(a);a=function(a){function b(c){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,c[e.default.ta]))}(0,l.default)(b,a);b.prototype.Di=function(a,b,c,d,e,f){a=(new p.default(a)).Xq("");a.style.pointerEvents="auto !important";a.style.position="absolute";a.style.top="0";var m=new g.default(a,
b,c,d,e,f),l=a.document;a.contentDocument?l=a.contentDocument:a.contentWindow&&(l=a.contentWindow.document);q.default.kj&&"complete"!==l.readyState?k.default.bind(l,"readystatechange",function(){"complete"===l.readyState&&m.jj(l)}):m.jj(l);this.hi.uf(h.default,a.contentDocument.head);return m.Pq()};return b}(c.default);a.O=[e.default.ta];d.default=a},function(c){c.exports='<svg version="1.1" id="Layer_2" xmlns="https://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 841.891 595.279" enable-background="new 0 0 841.891 595.279" xml:space="preserve"><radialGradient id="SVGID_1_" cx="428.8484" cy="299.6243" r="29.6255" gradientTransform="matrix(1 0 0 -1 -0.0552 595.1392)" gradientUnits="userSpaceOnUse"><stop offset="0" style="stop-color:#FFFFFF"></stop><stop offset="1" style="stop-color:#000000"></stop></radialGradient><circle opacity="0.7" fill="url(#SVGID_1_)" enable-background="new" cx="428.794" cy="295.515" r="29.625"></circle><path fill="#D9D9D9" d="M428.794,263.765c-17.536,0-31.751,14.215-31.751,31.75s14.215,31.75,31.751,31.75 c17.534,0,31.75-14.215,31.75-31.75S446.328,263.765,428.794,263.765z M428.794,325.14c-16.361,0-29.626-13.264-29.626-29.625 s13.265-29.625,29.626-29.625c16.36,0,29.625,13.264,29.625,29.625S445.154,325.14,428.794,325.14z"></path><g><g><polygon fill="#FFFFFF" points="422.169,284.64 422.169,307.64 441.044,296.14"></polygon></g></g></svg>'},
function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){a&&window.google&&window.google.ima?(p=e.so,h.debug("IMA lib loaded","version",window.google.ima.VERSION)):(a=!1,p=e.ae,h.error("Failed to load IMA lib"));k.forEach(function(b){return b(a)});k=[]}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var m=b(c);c=a(6);c=b(c);var l=a(35),f=b(l);a=a(7);var g=b(a),h=c.default.B("ImaLibLoader"),e={ae:"failed",LOADING:"loading",Un:"not_started",so:"success"},k=[],p=e.Un;
a=function(){function a(){(0,m.default)(this,a)}a.load=function(a){p===e.Un&&(h.debug("Loading IMA lib..."),p=e.LOADING,g.default.Qy(f.default["ima.url"],n.bind(this)));a&&(p===e.LOADING?k.push(a):p===e.so?a(!0):a(!1))};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){this.o.Ef()&&Array.prototype.slice.call(this.D.getElementsByTagName("video")).forEach(function(b){return b.muted=a})}function m(){var a=l.call(this);if(this[J]){var b=a.width,
c=Math.min(this[J].width,b);a=Math.min(this[J].height,a.height);var d=this.D.style;d.position="absolute";d.bottom="0";d.width=c+"px";d.height=a+"px";d.left=(b-c)/2+"px";this[P].resize(c,a,this[S].ViewMode.NORMAL)}else this[P].resize(a.width,a.height,this[S].ViewMode.NORMAL)}function l(){var a=this.D.parentNode;return{height:a.clientHeight,width:a.clientWidth}}function f(a){O.debug("onAdsManagerLoaded()",a);this.Lk||(this[P]=a.getAdsManager(this.F.Oq()),this.ready(!0))}function g(a){a=a.getError().getMessage();
this.He(new N.default(a,N.default.Sh));O.error("onError()",a);this.Rd(x.default.LOADED)?this.Si("Unable to find suitable linear creatives"):this.complete();this.Yd(x.default.LOADED,M.default.En,a,"IMA");h.call(this)}function h(){var a=this;O.debug("destroy()");this[W]&&this.u.removeEventListener(R.default.Se,this[W]);this[P]&&(this[L]&&(this[L].S(),this[L]=null),this[P].destroy());setTimeout(function(){a[ba]&&a[ba].destroy();a.D.parentNode&&a.D.parentNode.removeChild(a.D)},1E3)}function e(){this.Iv||
(this.Iv=!0,O.debug("onContentPauseRequested()"),this.$k())}function k(){O.debug("onContentResumeRequested()");this.ff?(this.complete(),this.D.style.setProperty("visibility","hidden")):(this.He(new N.default("IMA fired the event onContentResumeRequested but an ad was not started")),this.complete(),this.Yd(x.default.LOADED,M.default.En,"IMA fired the event onContentResumeRequested but an ad was not started","IMA"),h.call(this))}function p(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
{};O.debug("onAdEvent",a);var b=this[S].AdEvent.Type,c=a.getAd&&a.getAd(),d=c&&c.getDuration(),e=c&&!!c.isLinear();switch(a.type){case b.LOADED:this.setVolume(this.u.getVolume());b=!!this.C.gz();e||this.lb(Q.default.vc);if(e!==b){O.warn("Ignore ad. Expected "+(b?"":"non-")+"linear ad, "+("but found "+(e?"":"non-")+"linear ad"));h.call(this);break}this.D.style.setProperty("visibility","visible");this.zi();e||(a=a.getAdData(),this[J]={height:a.height,width:a.width},m.call(this));break;case b.STARTED:this.hj();
this.Bi();this.setVolume(this.u.getVolume());e&&(this[T]=setInterval(y.bind(this,a,d),250));break;case b.PAUSED:this[T]&&clearInterval(this[T]);this.Yk();break;case b.RESUMED:this[T]=setInterval(y.bind(this,a,d),250);this.Ip();break;case b.CLICK:this.Hp(a.getAd().getClickThroughUrl());break;case b.FIRST_QUARTILE:this.xa(x.default.md);break;case b.MIDPOINT:this.xa(x.default.Rh);break;case b.THIRD_QUARTILE:this.xa(x.default.wd);break;case b.VOLUME_CHANGED:case b.VOLUME_MUTED:this.Ci();break;case b.SKIPPED:case b.COMPLETE:this.se(d);
this[T]&&clearInterval(this[T]);break;case b.EXPANDED_CHANGED:this.Fm(c.expanded?F.default.Bh:F.default.Rf);break;case b.USER_CLOSE:this.Fm(e?F.default.mn:F.default.vh);break;case this[S].AdErrorEvent.Type.AD_ERROR:g.call(this,a)}}function q(){var a=this[S].AdEvent.Type;return[a.LOADED,a.STARTED,a.CLICK,a.FIRST_QUARTILE,a.MIDPOINT,a.THIRD_QUARTILE,a.SKIPPED,a.COMPLETE,a.PAUSED,a.RESUMED,a.VOLUME_CHANGED,a.VOLUME_MUTED,a.EXPANDED_CHANGED,a.USER_CLOSE,this[S].AdErrorEvent.Type.AD_ERROR]}function u(){this[aa]&&
this[aa].parentNode&&this[aa].parentNode.removeChild(this[aa])}function r(a){u.call(this);O.debug("showCovering()");this[aa]=H.default.createElement("div",{backgroundColor:"#000",display:"table",height:"100%",position:"absolute",width:"100%",zIndex:100},this.D);var b=H.default.createElement("div",{display:"table-cell",textAlign:"center",verticalAlign:"middle"},this[aa]);H.default.createElement("div",{"class":"ima-play-button"},b,V.default).addEventListener("click",a,!1);this.D.style.setProperty("visibility",
"visible")}function t(){var a=this;this[ba].initialize();if(this[P]){var b=this[S].AdEvent.Type;O.debug("bind AdsManager event listeners");this[L]=B.default.group(B.default.bind(this[P],b.CONTENT_PAUSE_REQUESTED,e.bind(this)),B.default.bind(this[P],b.CONTENT_RESUME_REQUESTED,k.bind(this)),B.default.bind(this[P],b.ALL_ADS_COMPLETED,h.bind(this)));q.call(this).forEach(function(b){return a[P].addEventListener(b,p.bind(a))});this[W]=m.bind(this);this.u.addEventListener(R.default.Se,this[W]);try{this[P].init(this.D.offsetWidth,
this.D.offsetHeight,this[S].ViewMode.NORMAL),u.call(this),this[P].start()}catch(Y){}}else this.He(new N.default("Failed to obtain IMA ads manager")),O.warn("showAd()","error",this.ab),this.complete(),this.Yd(x.default.LOADED,M.default.Et,"Failed to obtain IMA ads manager","IMA"),h.call(this)}function y(a,b){if(!this.Zb()){var c=Math.max(this[P].getRemainingTime(),0),d=Math.round(b-c);a=a.data||{};a.timeRemaining=c;a.progressPercent=d/b*100;this.lb(Q.default.ob,a)}}Object.defineProperty(d,"__esModule",
{value:!0});c=a(0);var w=b(c);c=a(2);var v=b(c);c=a(1);var A=b(c);c=a(4);c=b(c);var D=a(57),x=b(D);D=a(16);var z=b(D);D=a(5);var G=b(D);D=a(9);var B=b(D);D=a(6);D=b(D);var C=a(7),H=b(C);C=a(155);var F=b(C);C=a(110);C=b(C);var E=a(10),Q=b(E);E=a(64);var R=b(E);E=a(250);var K=b(E);E=a(19);var M=b(E);E=a(91);var N=b(E);a=a(249);var V=b(a),O=D.default.B("ImaEngine"),W=(0,c.default)(),J=(0,c.default)(),T=(0,c.default)(),P=(0,c.default)(),ia=(0,c.default)(),S=(0,c.default)(),ba=(0,c.default)(),L=(0,c.default)(),
aa=(0,c.default)(),ca=(0,c.default)();a=function(a){function b(c,d,e,f){(0,w.default)(this,b);c=(0,v.default)(this,a.call(this,c,d,f));O.debug("init");c[ca]=c.u.ia().H(G.default.ya);c.D=H.default.createElement("div",{"class":"ima-ad-container",style:"width: 100%; height: 100%; position: absolute; z-index: 1"},e.Jc);c.D.style.setProperty("visibility","hidden");K.default.load();return c}(0,A.default)(b,a);b.prototype.load=function(){var b=this;K.default.load(function(c){if(c){a.prototype.load.call(b);
b[S]=window.google.ima;b[S].settings.setVpaidMode(b[S].ImaSdkSettings.VpaidMode.INSECURE);b[S].settings.setDisableCustomPlaybackForIOS10Plus(!0);c=b.C.getType()===z.default.Qa?b.F.Pp().Al():null;b[ba]=new b[S].AdDisplayContainer(b.D,c);O.debug("load()","AdDisplayContainer",b[ba]);b[ia]=new b[S].AdsLoader(b[ba]);b[ia].addEventListener(b[S].AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,f.bind(b),!1);b[ia].addEventListener(b[S].AdErrorEvent.Type.AD_ERROR,g.bind(b),!1);c=new b[S].AdsRequest;c.adTagUrl=
b.C.getUrl();var d=l.call(b);c.nonLinearAdSlotWidth=d.width;c.linearAdSlotWidth=d.width;c.nonLinearAdSlotHeight=d.height;c.linearAdSlotHeight=d.height;c.setAdWillAutoPlay(b.o.Jl().autoplay);c.setAdWillPlayMuted(0===b.u.getVolume());O.debug("requestAds()",c);b[ia].requestAds(c)}else O.error("Failed to load IMA lib"),b.complete(),h.call(b)})};b.prototype.stop=function(){this.Lk=!0;a.prototype.stop.call(this);this.se(this.getCurrentTime());h.call(this)};b.prototype.getCurrentTime=function(){var a=this[P].getCurrentAd();
return Math.round(a&&a.getDuration()-this[P].getRemainingTime()||0)};b.prototype.pause=function(){this[P].pause()};b.prototype.Ci=function(){var b={};b.volume=this[P].getVolume();a.prototype.Ci.call(this,{data:b})};b.prototype.resume=function(){this[P].resume()};b.prototype.setVolume=function(a){O.debug("setVolume()",a);this[P].setVolume(a);n.call(this,!a)};b.prototype.xm=function(a){var b=this,c=this.C.getType();H.default.Lb.lj()&&c===z.default.gc?(e.call(this),r.call(this,function(){b.Wg(a);t.call(b)})):
(this.Wg(a),t.call(this))};b.prototype.Mf=function(){a.prototype.Mf.call(this);t.call(this)};return b}(C.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(49);var f=b(c);c=a(6);c=b(c);var g=a(251),h=b(g);a=a(111);a=b(a);var e=c.default.B("ImaEngineProducer");a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.apply(this,arguments))}
(0,l.default)(b,a);b.prototype.Li=function(a){e.debug("createAdEngine",a);return new h.default(this.Wi(),this.yq(),this.zg(),a)};b.prototype.getType=function(){return f.default.Dt};return b}(a.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(86);a=function(a){function b(c,d){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,c,d))}(0,l.default)(b,
a);b.prototype.Qq=function(){return this.K("getTotalTime")};b.prototype.getCurrentTime=function(){return this.K("getCurrentTime")};b.prototype.yl=function(){return this.K("getCurrentPercent")};b.prototype.seek=function(a){this.K("seek",a)};b.prototype.stop=function(){this.K("stop")};b.prototype.pause=function(){this.K("pause")};b.prototype.resume=function(){this.K("resume")};b.prototype.getState=function(){return this.K("getState")};b.prototype.play=function(a){this.K("play",a)};b.prototype.Wr=function(a){this.K("setSoundTransform",
a)};b.prototype.Vr=function(a,b){this.K("setSize",a,b)};b.prototype.rf=function(){this.pa.bA(this.li);this.pa.yf()};return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(143);c=b(c);var f=a(253),g=b(f);a=a(5);a=b(a);c=function(a){function b(c){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,c))}(0,l.default)(b,a);b.prototype.wg=function(){this.$o=
["addFLVPlayer"];a.prototype.wg.call(this,"flv-runner.swf")};b.prototype.nw=function(){var a=this;return this.Bg().then(function(){var b=a.pa.addFLVPlayer();a.pa["events"+b]=a.Hc["events"+b];a.Hc["events"+b].readyCallback();return new g.default(a,b)})};return b}(c.default);d.default=c;c.O=[a.default.ta,a.default.ya,a.default.Db,a.default.cc,a.default.ja,a.default.P,a.default.ua,a.default.va]},function(c,d,a){d=c.exports=a(87)(!1);d.push([c.qc,".flash-runner {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: -100;\n    top: 0;\n    left: 0;\n}\n",
""])},function(c,d,a){d=a(255);c.exports="string"===typeof d?d:d.toString()},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){f.default.If(this[v]);var a=this[e];this[p].forEach(function(b){try{if(a=b.frame)a.style.visibility=b.visibility,b.width?a.width=b.width:a.removeAttribute("width"),b.height?a.height=b.height:a.removeAttribute("height"),f.default.Kf(a,{height:b.Qw,visibility:b.visibility,width:b.Rw})}catch(x){}});this[p]=null;f.default.Kf(this[e],{height:this[u],
"max-height":this[t],"max-width":this[r],position:this[y],visibility:this[w],width:this[q]})}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var m=b(c);c=a(4);c=b(c);var l=a(7),f=b(l);a=a(48);var g=b(a),h=(0,c.default)(),e=(0,c.default)(),k=(0,c.default)(),p=(0,c.default)(),q=(0,c.default)(),u=(0,c.default)(),r=(0,c.default)(),t=(0,c.default)(),y=(0,c.default)(),w=(0,c.default)(),v=(0,c.default)();a=function(){function a(b,c,d){(0,m.default)(this,a);this[h]=b;this[e]=c;this[k]=d||c;b=f.default.Lb.chrome&&
!f.default.nr()&&45<=f.default.Lb.version&&"false"!==this[h].Mb(g.default.Ts);c=500>this[e].clientWidth||300>this[e].clientHeight;if(b&&c){this[q]=this[e].style.width;this[u]=this[e].style.height;this[r]=this[e].style.maxWidth;this[t]=this[e].style.maxHeight;this[y]=this[e].style.position;this[w]=this[e].style.visibility;b=this[e];for(this[p]=[];b;)try{c=b=b.ownerDocument.defaultView.frameElement,c===this[k].ownerDocument.defaultView.frameElement&&(this[v]=f.default.createElement("div",{"class":"vdb-chrome-hack-background",
style:{backgroundColor:"#000000",height:c.clientHeight+"px",width:c.clientWidth+"px"}}),f.default.createElement("div",{"class":"vdb-player-spinner",style:{left:c.clientWidth/2-33+"px",top:c.clientHeight/2-33+"px"}},this[v]),c.parentNode.insertBefore(this[v],c)),b&&(this[p].push({Qw:b.style.height,Rw:b.style.width,frame:b,height:b.height,visibility:b.style.visibility,width:b.width}),f.default.Kf(b,{height:"300px",visibility:"hidden",width:"500px"}),b.width=500,b.height=300)}catch(G){b=null}f.default.Kf(this[e],
{height:"300px","max-height":"","max-width":"",position:"fixed",visibility:"hidden",width:"500px"});f.default.rg(this[k].parentElement,"chrome-mode-hack-on")}}a.prototype.gA=function(){this[p]&&(n.call(this),f.default.Hf(this[k].parentElement,"chrome-mode-hack-on"))};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c='<object width="'+
a.width+'" height="'+a.height+'" id="'+a.id+'"';c=document.all?c+' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"':c+(' data="'+a.src+'" type="application/x-shockwave-flash"');c+=">";document.all&&(c+='<param name="movie" value="'+a.src+'" />');a.width=a.height=a.id=a.src=null;a.onFail=a.version=null;(0,f.default)(a).forEach(function(b){a[b]&&(c+='<param name="'+b+'" value="'+a[b]+'" />')});var d="";(0,f.default)(b).forEach(function(a){return d+=a+"="+b[a]+"&"});d=d.slice(0,-1);c+='<param name="flashvars" value="'+
d.replace(/"/g,"%5C%22")+'" />';return c+="</object>"}function m(a){var b=void 0;try{b=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(q){try{b=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")).GetVariable("$version")}catch(u){try{b=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.6")).GetVariable("$version")}catch(r){}}}b=(b=h.exec(b))?[1*b[1],1*b[9<1*b[1]?2:3]]:[0,0];return b[0]>a[0]||b[0]===a[0]&&b[1]>=a[1]}Object.defineProperty(d,"__esModule",{value:!0});c=
a(0);var l=b(c);c=a(47);var f=b(c);a=a(7);var g=b(a),h=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,e={allowFullScreen:!0,allowScriptAccess:"always",height:"100%",width:"100%"};a=function(){function a(){(0,l.default)(this,a)}a.bx=function(a,b,c){b=g.default.extend(e,b);if(!m(b.version))return b.onFail();window.attachEvent&&window.attachEvent("onbeforeunload",function(){window.RD=function(){};window.QD=function(){}});a.innerHTML=n(b,c);document.all&&(window[b.id]=document.getElementById(b.id));return a.firstChild};
return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a,b){a.resolve({data:{height:this.sb.offsetHeight,width:this.sb.offsetWidth},Km:new e.default(this,b)})}function m(a,b){a.reject("VPAID number "+b+" failed.")}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(2);var f=b(c);c=a(1);var g=b(c);c=a(143);c=b(c);var h=a(153),e=b(h);h=a(22);var k=b(h);a=a(5);a=b(a);c=function(a){function b(c){(0,l.default)(this,b);return(0,f.default)(this,
a.call(this,c))}(0,g.default)(b,a);b.prototype.wg=function(){this.$o=["addVPAID"];a.prototype.wg.call(this,"vpaid-runner.swf")};b.prototype.Di=function(a,b){var c=this;this.sb=a;var d=new k.default;this.lg.fb().then(function(){try{var a=c.pa.addVPAID(b);c.pa["events"+a]=c.Hc["events"+a];var e=c.Hc["events"+a];e.readyCallback();e.addEventListener("VPAIDWrapper.READY",n.bind(c,d,a));e.addEventListener("VPAIDWrapper.ERROR",m.bind(c,d,a))}catch(A){d.reject("Critical problem with vpaid initialisation")}},
d.reject.bind(d));return d.fb()};return b}(c.default);d.default=c;c.O=[a.default.cc,a.default.ta,a.default.ya,a.default.Db,a.default.cc,a.default.ja,a.default.P,a.default.ua,a.default.va]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){var b=this,c=a.data.thirdPartyImpressionTrackers||[];try{var d=a.data.vastModelAd.ij[0].url}catch(K){A.debug("Vast impression tracker not found where expected."),d=null}d&&c.push(d);c.forEach(function(a){a=a.replace(D,"");var c=/&cb=[^&]*?/.test(a),
d=/\?/.test(a)?"&":"?";a=c?a:""+a+d+"cb=[CACHE_BUSTER]";b[C].nf(b[x].Qc().resolve(a))});H=c}function m(a){return a?0<H.filter(function(b){return a.replace(/(https?:)?/,"").replace(/&cb=[^&]*/,"").replace(/&apid=\[object\sObject]/,"&apid=[APID]").replace(/;ord=[^;]*/,";ord=[timestamp]")===b}).length:!1}function l(a,b){for(var c=this,d=a;d;)A.debug("onVastEvent","process",d),d.Lc.forEach(function(e){if(!m.call(c,e)){e=t.default.create(r.default.ws.concat(a.data&&a.data.hw||c[x].eb()||"")).resolve(e);
e=c[x].Qc().resolve(e);if(d.type===w.default.Ea){var f=v.default.$f.code;b&&b.getType()===h.default.qb&&(f=v.default.yt.code);e=t.default.create(r.default.ys.concat(d.data.error?d.data.error.code:f)).resolve(e)}c[C].nf(e)}}),d=d.Cq()}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var f=b(c);c=a(4);c=b(c);var g=a(16),h=b(g);g=a(66);var e=b(g);g=a(5);var k=b(g);g=a(6);g=b(g);var p=a(38),q=b(p);p=a(44);var u=b(p);p=a(77);var r=b(p);p=a(114);var t=b(p);p=a(7);var y=b(p);p=a(13);var w=b(p);a=
a(19);var v=b(a),A=g.default.B("VastEventHandler"),D=/https?:/,x=(0,c.default)(),z=(0,c.default)(),G=(0,c.default)(),B=(0,c.default)(),C=(0,c.default)(),H=[];a=function(){function a(b){(0,f.default)(this,a);this[x]=b;this[z]=this[x].Ld();b=this[x].ia();this[B]=b.H(k.default.ua);this[C]=b.H(k.default.Uf);this[G]=b.H(k.default.P);this[z].Ry&&this[B].addEventListener(u.default.Jj,n.bind(this))}a.prototype.Tg=function(a,b){A.debug("onVastEvent",a,b);a.type===w.default.Eb?y.default.gl(l.bind(this,a,b)):
l.call(this,a,b);if(a.type===w.default.Ya)try{this[G].Ae()===q.default.Oh&&this[x].zr();var c=a.ze();A.info("Open on ad click",c);c&&e.default.wr(c)}catch(K){A.error("onVastEvent",K)}};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(83);a=function(a){function b(c,d){(0,n.default)(this,b);c=(0,m.default)(this,a.call(this,c));c.version=d;return c}(0,
l.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(41);a=a(261);var f=b(a);a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,"Error"))}(0,l.default)(b,a);b.prototype.Z=function(b){var c=a.prototype.Z.call(this,b);c.version=b.getAttribute("version");return c};b.prototype.ug=function(){return new f.default};
return b}(c.Uh);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){var b=a.clone();a.sA(b);this.dispatchEvent(b)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var m=b(c);c=a(2);var l=b(c);c=a(1);var f=b(c);c=a(144);c=b(c);var g=a(58),h=b(g);g=a(34);g=b(g);var e=a(61);e=b(e);var k=a(13),p=b(k);k=a(59);k=b(k);a=a(89);var q=[p.default.Qf,p.default.Eb,p.default.Ya,e.default.Ue,b(a).default.xh,k.default.wh,g.default.bg,g.default.Ve,g.default.ag,
g.default.Qe,g.default.LOADED,g.default.rb,g.default.LINEAR_CHANGE];a=function(a){function b(){(0,m.default)(this,b);var c=(0,l.default)(this,a.call(this));c.oj=!0;c.Up=null;return c}(0,f.default)(b,a);b.prototype.xw=function(a){var b=this;a.ads.forEach(function(a){return q.forEach(function(c){return a.addEventListener(c,n.bind(b))})})};b.prototype.Yz=function(a,b){a.ads.forEach(function(a){b.xe&&(a.xe=(a.xe||[]).concat(b.xe));a.Va.forEach(function(a){var c=0<b.Va.length&&b.Va[0]instanceof h.default;
a.Pd&&0===a.Pd.length&&c&&(a.Pd=a.Pd.concat(b.Va[0].Pd))})})};b.prototype.Xw=function(a,b){this.rv||(this.rv=!0,b=new p.default(p.default.Ea,null,null,{error:b}),this.dispatchEvent(b),a.Tg(b))};b.prototype.Ww=function(a){var b=new p.default(p.default.Qf);this.dispatchEvent(b);a.Tg(b)};return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(150);c=
b(c);var f=a(41),g=a(263),h=b(g);a=a(11);var e=b(a);a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,"Wrapper",[f.sk]))}(0,l.default)(b,a);b.prototype.Z=function(b){var c=a.prototype.Z.call(this,b);c.Up=f.sk.parse(e.default.My(b));return c};b.prototype.$p=function(){return new h.default};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);
var m=b(c);c=a(1);var l=b(c);a=a(144);a=function(a){function b(){(0,n.default)(this,b);var c=(0,m.default)(this,a.call(this));c.title="";c.description="";c.sw="";c.NA=null;return c}(0,l.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){this.ll.replace=!0;this.ll.type=q.default.qb;this.Mz=this.Pk.aj()[k.default.bh];this.Pk.Tr(k.default.bh,this.ll);e.default.group(e.default.qa(this.u,h.default.LOADED,m.bind(this)),e.default.qa(this.u,
h.default.ae,m.bind(this)));this.Nz=this.u.Ld().lm;this.u.Ld().lm="00:00:01"}function m(){this.Pk.Tr(k.default.bh,this.Mz);this.u.Ld().lm=this.Nz}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(11);var f=b(c);c=a(10);var g=b(c);c=a(67);var h=b(c);c=a(9);var e=b(c);c=a(176);var k=b(c);c=a(5);var p=b(c);a=a(16);var q=b(a);a=function(){function a(b){(0,l.default)(this,a);this.ll=JSON.parse(f.default.Ca(b))}a.prototype.ma=function(a,b){this.u=a;b.Kb(e.default.bind(a,g.default.Oa,
n.bind(this)));this.Pk=this.u.ia().H(p.default.P)};return a}();d.default=a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=(c=a(0))&&c.__esModule?c:{default:c},n=(a=a(11))&&a.__esModule?a:{default:a};d.default=function g(a,c){(0,b.default)(this,g);this.type=a.match(/([A-Z]?[^A-Z]*)/g).slice(0,-1).join("_").toLowerCase();this.value=n.default.Ca(c)}},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));
c=function(){function a(c){(0,b.default)(this,a);this.type=c.getAttribute("type")}a.prototype.ma=function(a){a.Yp={WF:this.type||"Equirectangular"}};return a}();d.default=c},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=(c=a(0))&&c.__esModule?c:{default:c},n=(a=a(11))&&a.__esModule?a:{default:a};d.default=function f(a){var c=this;(0,b.default)(this,f);this.lang=a.getAttribute("lang");this.Yw=a.getAttribute("displayText");this.vq={};(n.default.za(a).Format||[]).forEach(function(a){return c.vq[a.getAttribute("type")]=
n.default.Ca(a)})}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a,b){var c=this;this.Wa.Kb(p.default.bind(a,b,function(a){((a=a.Dg().Ki)&&c.type===h.default.Sf||!a&&c.type===h.default.uh)&&c.ga()}))}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var m=b(c);c=a(2);var l=b(c);c=a(1);var f=b(c);c=a(80);c=b(c);var g=a(34),h=b(g);g=a(13);var e=b(g);g=a(37);var k=b(g);a=a(9);var p=b(a);a=function(a){function b(c){(0,m.default)(this,b);return(0,l.default)(this,
a.call(this,c))}(0,f.default)(b,a);b.prototype.ma=function(b,c){a.prototype.ma.call(this,b,c.u);switch(this.type){case h.default.Qe:this.Wa.Kb(p.default.qa(c,k.default.nn,this.ga.bind(this)));break;case h.default.Sf:case h.default.uh:n.call(this,c.ad,e.default.Ya)}};return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){return this.ad.xe.filter(function(a){return a.type===p.default.Jn})[0]}function m(a,b){var c=this;this.Wa.Kb(u.default.bind(this.u,
a,function(){clearTimeout(c.Op);c.Op=setTimeout(c.ga.bind(c),c.timeout);c.Wa.Kb(u.default.qa(c.u,b,l.bind(c)));c.Wa.Kb(u.default.bind(c.u,q.default.Oa,l.bind(c)))}))}function l(){clearTimeout(this.Op)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var f=b(c);c=a(2);var g=b(c);c=a(1);var h=b(c);c=a(80);c=b(c);var e=a(34),k=b(e);e=a(81);var p=b(e);e=a(10);var q=b(e);a=a(9);var u=b(a);a=function(a){function b(c){(0,f.default)(this,b);return(0,g.default)(this,a.call(this,c))}(0,h.default)(b,
a);b.prototype.ma=function(b,c,d,e){this.ad=c;this.Jc=d;a.prototype.ma.call(this,b,e);if(b=n.call(this))this.timeout=b.Zq[this.type];if(!this.timeout)switch(this.type){case k.default.Um:this.timeout=5E3;break;case k.default.bn:this.timeout=7E3;break;case k.default.hn:this.timeout=3E4}switch(this.type){case k.default.Um:m.call(this,q.default.zc,q.default.sa);break;case k.default.bn:m.call(this,q.default.sa,q.default.ob);break;case k.default.hn:m.call(this,q.default.dh,q.default.sa)}};return b}(c.default);
d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){"url"===this.jA?(this.value=this.u.Qc().resolve(this.value),this.Oi.Ng(this.value)):this.vi=this.Oi.Py(this.value)}function m(){this.vi&&this.vi.parentNode&&this.vi.parentNode.removeChild(this.vi)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(5);var f=b(c);c=a(9);var g=b(c);c=a(25);var h=b(c);c=a(10);var e=b(c);c=a(13);var k=b(c);a=a(11);var p=b(a);a=function(){function a(b){(0,l.default)(this,
a);this.jA=b.getAttribute("resourceType");this.event=b.getAttribute("event");this.value=p.default.Ca(b)}a.prototype.ma=function(a,b,c,d){this.Jc=c;this.u=d;this.Oi=d.ia().H(f.default.ta);a.Kb(g.default.bind(d,e.default.Oa,m.bind(this)));this.event===h.default.Eb?a.Kb(g.default.bind(b,k.default.Eb,n.bind(this))):n.call(this)};return a}();d.default=a},function(c,d,a){var b=a(3)(b||{},{da:{vb:{Cc:{}}}});b.da.vb.Cc={fh:"AdImpression",jh:"AdVideoStart",lh:"AdVolumeChange",gh:"AdVideoComplete",Rb:"AdPaused",
Lj:"AdPlaying",hh:"AdVideoFirstQuartile",ih:"AdVideoMidpoint",kh:"AdVideoThirdQuartile"};c=b.da.vb.Cc;c.cu={q1:c.hh,q2:c.ih,q3:c.kh};d.vdb={da:{vb:{Cc:b.da.vb.Cc}}};d.default=b.da.vb.Cc;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{da:{vb:{th:{},Cc:{}}},i:{},log:{},A:{ea:{}},b:{M:{}},g:{},ka:{}});b.da.vb.Cc=a(273).vdb.da.vb.Cc;b.i=a(8).vdb.i;b.log=a(6).vdb.log;b.A.ea=a(9).vdb.A.ea;b.b.M=a(12).vdb.b.M;b.g=a(7).vdb.g;b.ka=a(22).vdb.ka;b.da.vb.th=b.i.Class.extend(function(){var a=b.log.B("vdb.reporting.moat.BaseTracker"),
c=""!==b.b.M.ub("moatdebug"),d=b.da.vb.Cc;return{L:function(c,d,h,e,k,p){a.debug("Init Moat tracking");this.V=p;this.Ub=h;this.mp=c;this.Ed=k;this.cy=d;e&&(this.Am=b.A.ea.bind(this.Ub,e,this.Pw.bind(this)))},Pw:function(f){a.debug("Creating new Moat API instance");this.iq();this.oa=b.A.ea.empty();this.kp=new b.ka;var g=isFinite(f.data.duration)?f.data.duration:-1,h=this.V.Nc(),e=h&&h.videoUrls&&h.videoUrls[0];f=this.cy(h,f);c&&a.warn("MOAT: ",f);this.Ow(f,g,e);this.Ny();this.Ak();this.Le(d.fh);this.Le(d.jh)},
Ow:function(a,b,c){this.df="_moatApi"+Math.floor(1E8*Math.random());this.ri={adData:{ids:a,duration:b||0,url:c||"no-video"},dispatchEvent:function(a){this.sendEvent&&this.sendEvent(a)}};a=this.Ed.ownerDocument;this.Wk=a.defaultView||a.parentWindow;this.Wk[this.df]=this.ri},Ny:function(){var a="https://z.moatads.com/"+this.mp+"/moatvideo.js#"+this.df;this.Ic=document.createElement("script");this.Ic.type="text/javascript";this.Ed.insertBefore(this.Ic,this.Ed.childNodes[0]||null);this.Ic.src=a;this.Ic.onload=
function(){this.kp.resolve();b.g.gl(function(){[].forEach.call(document.querySelectorAll('[id^="MoatPx"]'),function(a){a.tabIndex=-1})})}.bind(this)},Le:function(b){b={type:b,adVolume:this.V.getVolume()};c&&a.warn("MOAT:",this.mp,b);this.kp.fb().then(this.ri.dispatchEvent.bind(this.ri,b))},iq:function(){this.Sv&&(this.Am&&this.Am.S(),this.Am=null);if(this.df)try{delete this.Wk[this.df]}catch(f){this.Wk[this.df]=void 0}this.Ic&&this.Ic.parentNode&&this.Ic.parentNode.removeChild(this.Ic);this.oa&&this.oa.S();
this.ri=this.Ic=this.df=void 0},IA:function(a){this.Sv=a},Ak:function(){this.oi=!1},Fv:function(){this.Le(d.lh)},Cv:function(){this.Le(d.gh);this.iq()},Dv:function(){this.oi=!0;this.Le(d.Rb)},Ev:function(){this.oi&&(this.oi=!1,this.Le(d.Lj))},Rv:function(a){(a=d.cu[a])&&this.Le(a)}}}());d.vdb={da:{vb:{th:b.da.vb.th}}};d.default=b.da.vb.th;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){this.Rv(a.data.adStage)}Object.defineProperty(d,"__esModule",{value:!0});
c=a(0);var m=b(c);c=a(2);var l=b(c);c=a(1);var f=b(c);c=a(10);var g=b(c);c=a(9);var h=b(c);a=a(274);a=function(a){function b(c,d,e,f,k){(0,m.default)(this,b);return(0,l.default)(this,a.call(this,c,d,f,g.default.sa,e,k))}(0,f.default)(b,a);b.prototype.Ak=function(){a.prototype.Ak.call(this);this.oi=!1;h.default.bind(this.Ub,g.default.$d,this.Fv.bind(this)).link(this.oa);h.default.bind(this.Ub,g.default.Oa,this.Cv.bind(this)).link(this.oa);h.default.bind(this.Ub,g.default.Rb,this.Dv.bind(this)).link(this.oa);
h.default.bind(this.Ub,g.default.Ne,this.Ev.bind(this)).link(this.oa);h.default.bind(this.Ub,g.default.Mj,n.bind(this)).link(this.oa)};return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){return{level1:this.orgId,level2:this.campaignId,level3:this.adId,level4:this.marketplaceId,partnerCode:"aolonebuyervideoflashint2012897410256",slicer1:this.pageUrl,viewMode:"normal",zMoatParams:this.params}}Object.defineProperty(d,"__esModule",{value:!0});
c=a(47);var m=b(c);c=a(0);var l=b(c);c=a(275);var f=b(c);c=a(11);var g=b(c);a=a(5);var h=b(a);a=function(){function a(b){var c=this;(0,l.default)(this,a);this.params=this.pageUrl=this.marketplaceId=this.adId=this.campaignId=this.orgId="";var d=g.default.za(b);(0,m.default)(d).forEach(function(a){return c[a]=g.default.Ca(d[a][0])})}a.prototype.ma=function(a){this.params&&(this.params=a.Qc().resolve(this.params));var b=a.ia().H(h.default.va),c=a.ia().H(h.default.ja);(new f.default("aolonebuyervideoflashint2012897410256",
n.bind(this),b,a,c)).IA(!0)};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(4);c=b(c);var m=a(10),l=b(m);m=a(5);var f=b(m);a=a(9);var g=b(a),h=(0,c.default)();a=function(){function a(b,c){var d=this;(0,n.default)(this,a);this.cs={};this[h]=c;b.forEach(function(a){d.cs[a.lang]={displayText:a.Yw,formats:a.vq}})}a.prototype.ma=function(){var a=this,b=this[h].H(f.default.ua);g.default.qa(b,
l.default.Oe,function(){b.dispatchEvent(new l.default(l.default.dn,null,{subtitles:a.cs}))})};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){return this.type===a.type}function m(a){u.debug("loadViewabilityBeaconScript",a);a=this.Ej.filter(n,{type:a})[0];a.ma(this.Wa,this.u);a.ga()}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(2);var f=b(c);c=a(1);var g=b(c);c=a(4);c=b(c);var h=a(80);h=b(h);var e=a(34),k=b(e);e=a(163);
var p=b(e);e=a(6);e=b(e);a=a(5);var q=b(a),u=e.default.B("ViewabilityBeacon"),r=(0,c.default)();a=function(a){function b(c,d,e){(0,l.default)(this,b);u.debug("init");var g=(0,f.default)(this,a.call(this));g.Wa=c;g.Ej=d;g.u=e;d=e.ia();c=d.H(q.default.ua);d=d.H(q.default.Ta);g[r]=new p.default(c,d);g[r].Sr(m.bind(g,k.default.bg),m.bind(g,k.default.Ve),m.bind(g,k.default.ag));return g}(0,g.default)(b,a);b.prototype.S=function(){this[r].S()};return b}(h.default);d.default=a},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}function n(){var a=this;this.scripts.forEach(function(b){return b.ma(a.Wa,a.ad,a.Jc,a.u)})}function m(){var a=this;this.es.forEach(function(b){return b.ma(a.Wa,a.ad,a.Jc,a.u)})}function l(){var a=this;this.gq.forEach(function(b){return b.ma(a.Wa,a.bB)})}function f(){var a=this;this.Gp.forEach(function(b){return b.ma(a.u)})}function g(){var a=this;this.xg.forEach(function(b){return b.ma(a.u)})}function h(){w.debug("unbindEvents");this.Wa&&(this.Wa.S(),this.Wa=null);this.Jm&&
(this.Jm.S(),this.Jm=null)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var e=b(c);c=a(9);var k=b(c);c=a(116);var p=b(c);c=a(6);c=b(c);var q=a(10),u=b(q);q=a(81);var r=b(q);q=a(278);var t=b(q);a=a(277);var y=b(a),w=c.default.B("VastExtension");a=function(){function a(){(0,e.default)(this,a);this.type=null;this.Zq={};this.scripts=[];this.es=[];this.gq=[];this.Ej=[];this.Gp=[];this.Rp=[];this.fm=null;this.xg=[]}a.prototype.ma=function(a){w.debug("prepare",this.type);this.Wa=new p.default;
this.bB=a;this.u=a.u;this.Jc=a.sx();this.ad=a.ad;switch(this.type){case r.default.mo:n.call(this);break;case r.default.vo:m.call(this);break;case r.default.Cn:this.Jm=new t.default(this.Wa,this.Ej,this.u);break;case r.default.rn:l.call(this);break;case r.default.Nm:f.call(this);break;case r.default.ln:(new y.default(this.Rp,this.u.ia())).ma();break;case r.default.uo:this.gw.ma(this.ad);break;case r.default.Pn:this.fm&&this.fm.ma(this.u,this.Wa);break;case r.default.hk:g.call(this)}k.default.qa(this.u,
u.default.Oa,h.bind(this))};return a}();d.default=a},function(c,d,a){var b=a(21),n=a(14),m=a(43);c.exports=function(a,c){var d=(n.Object||{})[a]||Object[a],f={};f[a]=c(d);b(b.Ib+b.Sb*m(function(){d(1)}),"Object",f)}},function(c,d,a){var b=a(52),n=a(51);a(280)("keys",function(){return function(a){return n(b(a))}})},function(c,d,a){a(281);c.exports=a(14).Object.keys},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){var a=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:
[]).forEach(function(b){return a.push(new x.default(b))});return a}function m(){var a=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(b){return a.push(new z.default(b))});return a}function l(){var a=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(b){return a.push(new D.default(b))});return a}function f(){var a=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(b){return a.push(new G.default(b))});return a}
function g(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b={};(0,r.default)(a).forEach(function(c){c=new H.default(c,a[c][0]);b[c.type]=c.value});return b}function h(a){var b=[];(E.default.za(a).AdChrome||[]).forEach(function(a){"MoatChrome"===a.getAttribute("type")&&b.push(new A.default(a))});return b}function e(){var a=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(b){return a.push(new B.default(b))});return a}function k(){return new C.default(0<
arguments.length&&void 0!==arguments[0]?arguments[0]:[])}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var p=b(c);c=a(2);var q=b(c);c=a(1);var u=b(c);c=a(47);var r=b(c);c=a(33);c=b(c);var t=a(279),y=b(t);t=a(145);var w=b(t);t=a(81);var v=b(t);t=a(276);var A=b(t);t=a(80);var D=b(t);t=a(272);var x=b(t);t=a(271);var z=b(t);t=a(270);var G=b(t);t=a(269);var B=b(t);t=a(268);var C=b(t);t=a(267);var H=b(t);t=a(266);var F=b(t);a=a(11);var E=b(a);a=function(a){function b(){(0,p.default)(this,b);return(0,
q.default)(this,a.call(this,"Extension"))}(0,u.default)(b,a);b.prototype.Z=function(a){var b=new y.default;b.type=a.getAttribute("type");var c=E.default.za(a);switch(b.type){case v.default.mo:b.scripts=n(c.Script);break;case v.default.Jn:b.Zq=g(c);break;case v.default.vo:b.es=m(c.Beacon);break;case v.default.Cn:b.Ej=l(c.Beacon);break;case v.default.rn:b.gq=f(c.Beacon);break;case v.default.Nm:b.Gp=h(c.AdChromes[0]);break;case v.default.Pn:b.fm=new F.default(a);break;case v.default.ln:b.Rp=e(c.Caption);
break;case v.default.uo:b.gw=k(c.Projection[0]);break;case v.default.hk:b.xg.push(new w.default(c.Feacons))}return b};b.prototype.Lf=function(a){return a&&a.nodeName===this.Nd()};return b}(c.default);d.default=new a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.NONE=d.en=d.ed=void 0;var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));c=function l(a){(0,b.default)(this,l);this.value=""+a};d.ed=new c("ALL");d.en=new c("ANY");d.NONE=new c("NONE")},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(146);a=function(a){function b(){(0,n.default)(this,b);var c=(0,m.default)(this,a.call(this));c.vw=null;c.uw=null;c.Jp="";c.tw="";c.Pb=[];return c}(0,l.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=
b(c);c=a(147);c=b(c);var f=a(41),g=a(82),h=a(285),e=b(h);a=a(11);var k=b(a);a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,"Companion",[f.Sj,g.Tj]))}(0,l.default)(b,a);b.prototype.Z=function(b){var c=a.prototype.Z.call(this,b);c.vw=b.getAttribute("assetWidth");c.uw=b.getAttribute("assetHeight");c.Jp=b.getAttribute("adSlotID");b=k.default.Ql(b);var d=b.AltText;d&&(c.tw=k.default.Ca(d));if(b=b.TrackingEvents){var e=this.Mc("Tracking");(k.default.za(b).Tracking||
[]).forEach(function(a){return c.Pb.push(e.parse(a))})}return c};b.prototype.bq=function(){return new e.default};b.prototype.wl=function(){return f.Sj.Nd()};b.prototype.xl=function(){return g.Tj.Nd()};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(33);c=b(c);var f=a(286),g=b(f);f=a(85);var h=b(f),e=a(284);a=a(11);var k=b(a);a=function(a){function b(){(0,
n.default)(this,b);return(0,m.default)(this,a.call(this,"CompanionAds",[g.default]))}(0,l.default)(b,a);b.prototype.Z=function(a){var b=new h.default,c=a.getAttribute("required");switch(String(c)){case "all":b.required=e.ed;break;case "any":b.required=e.en;break;case "none":b.required=e.NONE}if(c=k.default.za(a,["Companion"]).Companion)b.Xk=a.outerHTML,c.forEach(function(a){return b.Ki.push(g.default.parse(a))});return b};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(146);a=function(a){function b(){(0,n.default)(this,b);var c=(0,m.default)(this,a.call(this));c.Fe=!0;c.Og=!0;c.mr=null;return c}(0,l.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));d.default=function m(){(0,b.default)(this,m);this.type=null;
this.value=this.mimeType=""}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});d.Bn=d.Dn=d.qo=void 0;c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(84);c=b(c);var f=a(289),g=b(f);f=a(90);a=a(11);var h=b(a);a=function(a){function b(c,d){(0,n.default)(this,b);c=(0,m.default)(this,a.call(this,c));c.Ov=d;return c}(0,l.default)(b,a);b.prototype.Z=function(a){var b=new g.default;b.type=this.Ov;b.value=h.default.Ca(a);b.mimeType=
a.getAttribute("creativeType");return b};return b}(c.default);d.qo=new a("StaticResource",f.Yf);d.Dn=new a("IFrameResource",f.Ih);d.Bn=new a("HTMLResource",f.Fh)},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(147);c=b(c);var f=a(41),g=a(82),h=a(288),e=b(h);a=a(7);var k=b(a);a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,"NonLinear",
[f.ek,g.fk]))}(0,l.default)(b,a);b.prototype.Z=function(b){var c=a.prototype.Z.call(this,b),d=b.getAttribute("scalable");c.Fe=d?"true"===d||0<parseInt(d):!0;d=b.getAttribute("maintainAspectRatio");var e="true"===d||0<parseInt(d);c.Og=d?e:!0;b=b.getAttribute("minSuggestedDuration");c.mr=b?k.default.Of(b):NaN;return c};b.prototype.bq=function(){return new e.default};b.prototype.wl=function(){return f.ek.Nd()};b.prototype.xl=function(){return g.fk.Nd()};return b}(c.default);d.default=new a},function(c,
d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(33);c=b(c);var f=a(106),g=b(f);f=a(291);var h=b(f);f=a(152);var e=b(f);a=a(11);var k=b(a);a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,"NonLinearAds",[g.default,h.default]))}(0,l.default)(b,a);b.prototype.Z=function(a){var b=new e.default;a=k.default.za(a);var c=a.NonLinear;c&&c.forEach(function(a){return b.pr.push(h.default.parse(a))});
(a=a.TrackingEvents)&&(k.default.za(a[0]).Tracking||[]).forEach(function(a){return b.Pb.push(g.default.parse(a))});return b};return b}(c.default);d.default=new a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));d.default=function m(){(0,b.default)(this,m);this.value="";this.jB=!1}},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));d.default=function m(){(0,
b.default)(this,m);this.height=this.width=null;this.Im=this.kl=this.jl=this.bs=this.Gj=this.Fj="";this.duration=this.offset=null}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(33);c=b(c);var f=a(294),g=b(f);f=a(11);var h=b(f);a=a(7);var e=b(a);a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,"Icon"))}(0,l.default)(b,a);b.prototype.Z=
function(a){var b=new g.default;b.width=+a.getAttribute("width")||0;b.height=+a.getAttribute("height")||0;b.Fj=+a.getAttribute("xPosition")||a.getAttribute("xPosition");b.Gj=+a.getAttribute("yPosition")||a.getAttribute("yPosition");b.offset=e.default.Of(a.getAttribute("offset")||"");b.duration=e.default.Of(a.getAttribute("duration")||"");a=h.default.za(a);var c=h.default.za(a.IconClicks[0]),d=c.IconClickThrough&&c.IconClickThrough[0];c=c.IconClickTracking&&c.IconClickTracking[0];a.StaticResource&&
a.StaticResource[0]&&(b.bs=h.default.Ca(a.StaticResource[0]).trim());a.IconViewTracking&&a.IconViewTracking[0]&&(b.Im=h.default.Ca(a.IconViewTracking[0]).trim());d&&(b.jl=h.default.Ca(d).trim());c&&(b.kl=h.default.Ca(c).trim());return b};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(83);a=function(a){function b(c,d,f){(0,n.default)(this,
b);c=(0,m.default)(this,a.call(this,c));c.type=d;c.offset=f;return c}(0,l.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(149);a=function(a){function b(c,d){(0,n.default)(this,b);c=(0,m.default)(this,a.call(this,c,d));c.jq=null;c.mimeType="";c.width=null;c.height=null;c.Kw="";c.Hi=null;c.Fz=null;c.Bz=null;c.Fe=!0;c.Og=!0;c.Yb=
"";return c}(0,l.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.ho=d.ro=void 0;var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));c=function l(a){(0,b.default)(this,l);this.type=""+a};d.ro=new c("STREAMING");d.ho=new c("PROGRESSIVE")},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(82);var f=
a(298),g=a(297),h=b(g);a=a(12);var e=b(a);a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,"MediaFile"))}(0,l.default)(b,a);b.prototype.Z=function(b){var c=a.prototype.Z.call(this,b);switch(String(b.getAttribute("delivery"))){case "streaming":c.jq=f.ro;break;case "progressive":c.jq=f.ho}var d=b.getAttribute("height");c.height=isNaN(d)?0:d;d=b.getAttribute("width");c.width=isNaN(d)?0:d;c.Kw=b.getAttribute("codec");c.Hi=b.getAttribute("bitrate");c.Fz=b.getAttribute("minBitrate");
c.Bz=b.getAttribute("maxBitrate");d=b.getAttribute("scalable");c.Fe=d?"true"===d||0<parseInt(d):!0;c.Og="true"===b.getAttribute("maintainAspectRatio");c.mimeType=b.getAttribute("type");c.Yb=b.getAttribute("apiFramework");c.url&&-1!==c.url.indexOf("acds.prod.vidible.tv")&&(c.Tz=e.default.ub("placementId",c.url));return c};b.prototype.ug=function(){return new h.default};return b}(c.Ln);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",
{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(299);var f=b(c);c=a(33);c=b(c);var g=a(106),h=b(g),e=a(82);g=a(295);var k=b(g);g=a(148);var p=b(g);g=a(58);var q=b(g);g=a(11);var u=b(g);a=a(7);var r=b(a);a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,"Linear",[h.default,e.Qj,e.Rj,e.Wj,f.default,k.default,p.default]))}(0,l.default)(b,a);b.prototype.Z=function(a){var b=new q.default,c=u.default.Ql(a);if(a=a.getAttribute("skipoffset"))b.Wd=
!0,"%"===a.slice(-1)?b.Aj=Number(a.slice(0,-1)):b.Bj=r.default.Of(a);a=u.default.Ca(c.Duration);b.duration=a?r.default.Of(a):NaN;if(a=c.AdParameters)b.parameters=p.default.parse(a);(a=c.TrackingEvents)&&(u.default.za(a).Tracking||[]).forEach(function(a){return b.Pb.push(h.default.parse(a))});if(a=c.VideoClicks){a=u.default.za(a);var d=a.ClickThrough;d&&(d=d[0])&&(b.cb=e.Qj.parse(d));(d=a.ClickTracking)&&d.forEach(function(a){return b.Vp.push(e.Rj.parse(a))});if(a=a.CustomClick)if(a=a[0])b.Sw=e.Wj.parse(a)}(a=
c.Icons)&&(a=u.default.za(a).Icon)&&a.forEach(function(a){return b.Pd.push(k.default.parse(a,!0))});c=c.MediaFiles;(c&&u.default.za(c).MediaFile||[]).forEach(function(a){(a=f.default.parse(a))&&b.Qg.push(a)});return b};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(33);c=b(c);var f=a(300),g=b(f);f=a(292);var h=b(f);a=a(287);var e=b(a);
a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,"Creative",[g.default,h.default,e.default]))}(0,l.default)(b,a);b.prototype.Z=function(a){var b=this,c=null;[].slice.call(a.childNodes).forEach(function(d){var e=b.Mc(d.nodeName);e&&(c=e.parse(d))&&(c.id=a.getAttribute("id"),d=a.getAttribute("sequence"),c.wb=isNaN(d)?0:d,c.jw=a.getAttribute("adID")||a.getAttribute("AdID"))});return c};return b}(c.default);d.default=new a},function(c,d,a){Object.defineProperty(d,
"__esModule",{value:!0});var b=function(a){return a&&a.__esModule?a:{default:a}}(a(0));d.default=function m(){(0,b.default)(this,m);this.name=this.version=""}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(84);c=b(c);var f=a(302),g=b(f);a=a(11);var h=b(a);a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,"AdSystem"))}(0,l.default)(b,a);
b.prototype.Z=function(a){var b=new g.default;b.version=a.getAttribute("version");b.name=h.default.Ca(a);return b};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(150);c=b(c);var f=a(41),g=a(265),h=b(g);a=a(11);var e=b(a);a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,"InLine",[f.nk]))}(0,l.default)(b,
a);b.prototype.Z=function(b){var c=a.prototype.Z.call(this,b);b=e.default.Ql(b);c.title=e.default.Ca(b.AdTitle);c.description=e.default.Ca(b.Description);c.sw=e.default.Ca(b.Advertiser);c.NA=f.nk.parse(b.Survey);return c};b.prototype.$p=function(){return new h.default};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(33);c=b(c);var f=a(304),
g=b(f);a=a(264);var h=b(a);a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,"Ad",[g.default,h.default]))}(0,l.default)(b,a);b.prototype.Z=function(a){var b=null,c=a.firstElementChild,d=this.Mc(c.nodeName);d&&(b=d.parse(c),b.id=a.getAttribute("id"),a=a.getAttribute("sequence"))&&(b.wb=+a);return b};return b}(c.default);d.default=new a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=
b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(4);c=b(c);var f=a(33);f=b(f);var g=a(305),h=b(g);g=a(262);var e=b(g);g=a(165);var k=b(g);g=a(81);var p=b(g);g=a(145);var q=b(g);a=a(11);var u=b(a),r=(0,c.default)();a=function(a){function b(c){(0,n.default)(this,b);var d=(0,m.default)(this,a.call(this,"VAST",[h.default,e.default]));d[r]=c;return d}(0,l.default)(b,a);b.prototype.Lf=function(){return!0};b.prototype.Z=function(a){var b=this,c=new k.default,d=u.default.za(a);c.MA=a.getAttribute("adaptvFailover")||
!1;if(a=d.Error){var e=this.Mc("Error");a.forEach(function(a){(a=e.parse(a))&&c.Ga.push(a)})}(a=d.Extensions)&&this[r]&&a.forEach(function(a){(u.default.za(a).Extension||[]).forEach(function(a){(a&&a.getAttribute("type"))===p.default.hk&&(a=u.default.za(a).Feacons,(new q.default(a)).ma(b[r],!0))})});if(d=d.Ad){var f=this.Mc("Ad");d.forEach(function(a,b){if(a=f.parse(a))a.Rr=b+1,c.ads.push(a)})}return c};return b}(f.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}
Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(7);var m=b(c);a=a(12);var l=b(a);a=function(){function a(){(0,n.default)(this,a)}a.Ux=function(b){var c=[];m.default.Xd(b).forEach(function(b){(b.Qg||[]).forEach(function(b){return c.push(a.ly(b))})});return c};a.ly=function(a){a=a||{};return l.default.wf(a.url||"")||a.mimeType};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);var n=
b(c);c=a(1);var m=b(c);c=a(0);var l=b(c);a=a(25);var f=b(a);a=function(){function a(){(0,l.default)(this,a)}a.prototype.parse=function(a){this.yi=a.id};a.create=function(b){switch(b.getVendor()){case g.tu:return new g;default:return new a}};return a}();d.default=a;var g=function(a){function b(){(0,l.default)(this,b);return(0,n.default)(this,a.call(this))}(0,m.default)(b,a);b.prototype.parse=function(a){var b=a.Va[0].Pb[0];b.type===f.default.Th&&(b=b.url,this.Zk=/cid=(\d+)/.exec(b)[1],this.Ei=/src=(\d+)/.exec(b)[1]);
this.yi=a.id};return b}(a);g.tu="collective"},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a,b){var c={height:b,width:a,x:0,y:0};c.x=(this.D.offsetWidth-a)/2;c.y=(this.D.offsetHeight-b)/2;switch(this.tj.position){case D.default.bo:c.y=0;break;case D.default.ao:c.x=this.D.offsetWidth-a;break;case D.default.Yn:c.y=this.D.offsetHeight-b;break;case D.default.$n:c.x=0}return c}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var m=b(c);c=a(2);var l=b(c);c=a(1);var f=
b(c);c=a(4);c=b(c);var g=a(6);g=b(g);var h=a(5),e=b(h);h=a(125);var k=b(h);h=a(16);var p=b(h);h=a(10);var q=b(h);h=a(109);h=b(h);var u=a(156),r=b(u);u=a(160);var t=b(u),y=a(90);u=a(34);var w=b(u);u=a(59);var v=b(u);u=a(13);var A=b(u);a=a(173);var D=b(a),x=g.default.B("OverlayView"),z=(0,c.default)(),G=(0,c.default)();a=function(a){function b(c,d,f,g,k,p,h,n,q){(0,m.default)(this,b);x.debug("init",f,g);c=(0,l.default)(this,a.call(this,c,d,f,g,k,h,q));c.F=n;c.tj=p;c.type="OverlayView";p=c.La.ia();c.D=
p.H(e.default.cc);c[z]=p.H(e.default.va);c[G]=p.H(e.default.P);return c}(0,f.default)(b,a);b.prototype.Jf=function(){var b=this.aa.sc[0]||{};if(b.type===y.Yf){if(this.aa.Yb&&this.aa.Yb.toLowerCase()===k.default.Yh)return new r.default(b,p.default.qb,this.Ia,this.La.ia());var c=this.aa,d=c.sc[0]||{};x.debug("buildMediaUrl",d);b=d.value;-1!==["video/ogg","video/mp4","video/webm"].indexOf(d.mimeType)&&c.cb&&(c=encodeURIComponent(c.cb.url),b+=-1===b.indexOf("?")?"?":"&",b+="clickTAG="+c+"&clickTag="+
c);return new t.default(b,this.F)}return a.prototype.Jf.call(this)};b.prototype.zj=function(){x.debug("showCompanion");this.ad.dispatchEvent(new v.default(this.Na))};b.prototype.Kd=function(){a.prototype.Kd.call(this);this.mg.start();this.ad.dispatchEvent(new A.default(w.default.LOADED,this.Na))};b.prototype.sl=function(){return this.aa.parameters};b.prototype.Ui=function(){return this.aa.Og};b.prototype.Vi=function(){return this.aa.Fe};b.prototype.getAdHeight=function(){return Math.max(this.aa.height,
this.aa.oq)};b.prototype.getAdWidth=function(){return Math.max(this.aa.width,this.aa.pq)};b.prototype.ze=function(){var a=this.aa.cb;return a?a.url:null};b.prototype.fl=function(b,c,d,e,f,g){void 0===f&&(f=!0);void 0===g&&(g=!0);b=this.tj.width||b;c=this.tj.height||c;d=a.prototype.fl.call(this,b,c,d,e,f,g);return"application/javascript"===(this.aa.sc[0]||{}).mimeType?n.call(this,b,c):n.call(this,Math.min(d.width,b),Math.min(d.height,c))};b.prototype.Mg=function(b){a.prototype.Mg.call(this);this.La.dispatchEvent(new q.default(q.default.bd,
p.default.qb,{isLinear:b}));b?this.pause():this.resume()};b.prototype.wq=function(){return 0};b.prototype.Je=function(){};b.prototype.noResize=function(){};return b}(h.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){return 0<p.filter(function(b){return(new RegExp(b)).test(a)}).length}function m(){var a=[],b=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(c){var d=c.sc[0];k.debug("resolveByMimeType","Found supported resource",
d);switch(d.type){case h.Yf:n(d.mimeType)&&b.push(c);break;case h.Ih:a.push(c);break;case h.Fh:a.push(c)}});return a.concat(b)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(6);c=b(c);var f=a(7),g=b(f);f=a(88);f=b(f);var h=a(90);a=a(19);var e=b(a),k=c.default.B("NonLinearResolver"),p=["image/.*",f.default.Wf,f.default.Mn,f.default.Nn];a=function(){function a(){(0,l.default)(this,a)}a.resolve=function(a,b){b=g.default.JA(b.slice(),!1);k.debug("resolve",a,b);var c=m(b),d=void 0;
0<b.length&&0===c.length&&(d=e.default.Sn);b=c.filter(function(b){return b.Fe||b.width<=a.width&&b.height<=a.height});0<c.length&&0===b.length&&(d=e.default.Ot);return b[0]||{error:d}};return a}();d.default=a},function(c){c.exports='<svg version="1.1" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 153.61 94.026" style="position: absolute; top: 0; left: 0;"><path fill="#D0D0D0" d="M19.744,30.013c-2.616,0-5.236,2.157-5.236,4.874v16.125v4v11.307c0,2.717,2.62,4.693,5.236,4.693h20.962 l24.795,22h0.007V92.96c0,0.146,0.657,0.053,1.079,0.053h1.96c1.808,0,2.961-1.353,2.961-3.161v-3.513V55.013v-1.196 L29.766,30.013H19.744z"></path><path fill="#D0D0D0" d="M71.508,14.868v-3.513c0-1.808-1.153-3.341-2.962-3.341h-1.96c-0.421,0-1.078,0.087-1.078,0.233V8.014 h-0.007L50.189,21.599l21.319,12.157V14.868z"></path><polygon fill-rule="evenodd" clip-rule="evenodd" fill="#D0D0D0" points="0,9.526 5.5,0 153.61,84.5 148.11,94.026"></polygon><path fill="#D0D0D0" d="M88.19,67.712l4.53,7.949c2.171-1.907,4.088-4.093,5.698-6.499l-7.343-4.188 C90.266,65.987,89.316,66.909,88.19,67.712"><animate attributeType="CSS" attributeName="opacity" dur="2s" values="0;1;1;1;0" repeatCount="indefinite"></animate></path><path fill="#D0D0D0" d="M104.001,50.754c0-10.063-4.474-19.072-11.563-25.209l-4.691,9.459C91.331,38.02,93.86,42.225,94.735,47 l9.225,5.261C103.982,51.761,104.001,51.26,104.001,50.754"><animate attributeType="CSS" attributeName="opacity" dur="2s" values="0;1;1;1;0" repeatCount="indefinite"></animate></path><path fill="#D0D0D0" d="M126.931,50.553c0-16.354-6.628-31.147-17.192-42.167l-5.881,8.353 c8.727,8.705,14.263,20.63,14.263,33.814c0,3.164-0.33,6.254-0.937,9.249l8.131,4.636 C126.363,59.997,126.931,55.357,126.931,50.553"><animate attributeType="CSS" attributeName="opacity" dur="2s" values="0;0;1;1;0" repeatCount="indefinite"></animate></path><path fill="#D0D0D0" d="M103.327,84.819l6.105,8.001c3.613-3.632,6.739-7.679,9.322-12.062l-8.214-4.685 C108.479,79.268,106.057,82.206,103.327,84.819"><animate attributeType="CSS" attributeName="opacity" dur="2s" values="0;0;1;1;0" repeatCount="indefinite"></animate></path></svg>'},
function(c){c.exports='<svg version="1.1" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 153.61 94.026" style="position: absolute; top: 0; left: 0;"><path fill="#D0D0D0" d="M59.34,13.276h-1.695c-0.365,0-0.936-0.08-0.936,0.046v-0.045h-0.007L35.237,32.322l-18.146-0.025 c-0.598,0-1.191,0.131-1.748,0.363c-1.554,0.609-2.783,1.992-2.783,3.727v0.13v27.081v0.129c0,1.733,1.23,3.117,2.786,3.728 c0.555,0.232,1.149,0.362,1.745,0.362h8.677l9.471-0.025l21.467,19.045h0.006V86.79c0,0.126,0.567,0.046,0.935,0.046h1.695 c1.564,0,2.562-1.172,2.562-2.735V16.014C61.902,14.448,60.904,13.276,59.34,13.276z"></path><path fill="#D0D0D0" d="M90.036,50.255c0-8.711-3.873-16.511-10.009-21.824l-4.062,8.188c3.104,2.611,5.292,6.252,6.051,10.387 c0,0,0.255,1.449,0.255,3.242c0,1.796-0.255,3.403-0.255,3.403c-0.758,4.133-2.947,7.772-6.051,10.385l4.062,8.188 c6.137-5.313,10.009-13.112,10.009-21.823c0-0.022,0-0.05-0.001-0.074C90.036,50.302,90.036,50.277,90.036,50.255z"><animate attributeType="CSS" attributeName="opacity" dur="2s" values="0;1;1;1;0" repeatCount="indefinite"></animate></path><path fill="#D0D0D0" d="M109.87,51.171c0.006-0.294,0.013-1.035,0.013-1.052c0-0.014,0.001-0.027,0.001-0.043 c0-0.041-0.008-0.713-0.014-1.007c-0.008-0.384-0.021-0.767-0.035-1.146c-0.002-0.029-0.002-0.061-0.004-0.09 c-0.57-13.265-6.172-25.227-14.831-34.259l-5.091,7.23c5.758,5.744,9.907,13.108,11.559,21.339c0,0,0.785,5.252,0.788,7.976 c-0.003,2.726-0.288,5.386-0.811,7.966l0.021,0.012c-1.65,8.23-5.801,15.596-11.559,21.34l5.091,7.23 c8.659-9.032,14.261-20.994,14.831-34.26c0.002-0.029,0.002-0.06,0.004-0.089C109.851,51.937,109.863,51.554,109.87,51.171z"><animate attributeType="CSS" attributeName="opacity" dur="2s" values="0;0;1;1;0" repeatCount="indefinite"></animate></path></svg>'},
function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){a.stopPropagation();this.dispatchEvent(y.Ya,!this[t])}function m(){this[u].innerHTML="";k.default.createElement("div",{style:"position: absolute; display: block; left: 10%; width: 80%; top: 25.5%; height: 49%;"},this[u],this[t]?q.default:p.default)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(2);var f=b(c);c=a(1);var g=b(c);c=a(4);c=b(c);var h=a(17);h=b(h);var e=a(7),k=b(e);e=a(312);var p=b(e);
a=a(311);var q=b(a),u=(0,c.default)(),r=(0,c.default)(),t=(0,c.default)(),y=function(a){function b(c,d){(0,l.default)(this,b);var e=(0,f.default)(this,a.call(this));e[t]=c;e[r]=k.default.createElement("div",{id:"oath-volume-button-container",style:{bottom:"20px",cursor:"pointer",height:"26px",position:"absolute",right:"20px",width:"26px",zIndex:10}},d);e[u]=k.default.createElement("div",{id:"oath-volume-button-icon",style:{backgroundColor:"rgba(34, 34, 34, 0.85)",borderRadius:"20%",display:"block",
height:"100%",position:"absolute",width:"100%"}},e[r]);m.call(e);e[r].addEventListener("click",n.bind(e));return e}(0,g.default)(b,a);b.prototype.Pz=function(a){this[t]=a;m.call(this)};b.prototype.rf=function(){k.default.If(this[r])};return b}(h.default);d.default=y;y.Ya="MuteButton.Click"},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=(c=a(0))&&c.__esModule?c:{default:c};a=a(19);var n=(a&&a.__esModule?a:{default:a}).default.$f;a=function(){function a(c,d){(0,b.default)(this,
a);this.message=d||n.description;this.code=c||n.code}a.prototype.toString=function(){return"VastError{code="+this.code+",message="+this.message+"}"};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){this.oa&&this.oa.S();this.si&&(this.D.removeEventListener("mousemove",this.si),this.si=null);this.fa&&this.fa.rf()}function m(){this.error=new D.default(x.default.Kh.code,"Can not get flv runner");u.call(this,this.error)}function l(){u.call(this,"flv ad not started in 3000ms")}
function f(a){if(z.default.kj){var b=document.createEvent("MouseEvent");b.initEvent(a.type,!a["\ufeffcancelBubble"],a["\ufeffcancelable"])}else b=new MouseEvent(a.type,a);this.kg.dispatchEvent(b)}function g(){u.call(this,"Internal wrapper error")}function h(){this.l&&this.l.sf()}function e(){var a=this.fa.getState();clearTimeout(this.yp);"playing"===a?(this.pa.show(),this.l.Je(),this.Xa(C.default.Th),this.Sg(),this.Td()):"paused"===a?(this.track(C.default.Ph),this.l.jm()):"buffering"===a||"loading"===
a?this.l.vr():"stopped"===a?(this.Xa(C.default.Ha),n.call(this),this.l.complete(!1,void 0)):"resumed"===a&&(this.track(C.default.ko),this.l.km())}function k(a){this.fa=a;this.pp.resolve(a);this.yp=setTimeout(l.bind(this),3E3);this.si=f.bind(this);this.D.addEventListener("mousemove",this.si,!0);this.oa=B.default.group(B.default.bind(this.fa,"WrapperError",g.bind(this)),B.default.bind(this.fa,"click",h.bind(this)),B.default.bind(this.fa,"stateChange",e.bind(this)),B.default.bind(this.fa,"heartbeat",
r.bind(this)),B.default.bind(this.fa,A.default.Tf,g.bind(this)));this.fa.play(this.ew);this.fa.Wr(this.jf||0)}function p(a){this.pa=a;a.nw().then(k.bind(this),m.bind(this))}function q(){var a=this;this.fa?this.fa.Vr(this.F.dj(),this.F.$i()):this.pp.fb().then(function(b){return b.Vr(a.F.dj(),a.F.$i())})}function u(a){E.debug("stopByError",a);clearTimeout(this.yp);this.error=new D.default(x.default.Kh.code,a);this.stop()}function r(){this.l.sj({currentTime:this.fa.getCurrentTime(),duration:this.fa.Qq()});
this.Dj(this.fa.yl())}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var t=b(c);c=a(2);var y=b(c);c=a(1);var w=b(c);c=a(60);c=b(c);var v=a(86),A=b(v);v=a(314);var D=b(v);v=a(19);var x=b(v);v=a(7);var z=b(v);v=a(6);v=b(v);var G=a(9),B=b(G);G=a(25);var C=b(G);G=a(22);var H=b(G);a=a(16);var F=b(a),E=v.default.B("FlvMediaElement");a=function(a){function b(c,d,e,f,g){(0,t.default)(this,b);c=(0,y.default)(this,a.call(this,c));E.debug("init",d);c.ew=d;c.tv=e;c.kg=f;c.D=g;c.pp=new H.default;return c}
(0,w.default)(b,a);b.prototype.load=function(){a.prototype.load.call(this);this.l.Kd()};b.prototype.De=function(){this.tv.then(p.bind(this),m.bind(this))};b.prototype.resize=function(){a.prototype.resize.call(this);q.call(this)};b.prototype.stop=function(){E.debug("stop");this.pa&&this.pa.yf();n.call(this);a.prototype.stop.call(this)};b.prototype.pause=function(){this.fa.pause()};b.prototype.resume=function(){this.fa.resume()};b.prototype.createElement=function(){return z.default.createElement("div")};
b.prototype.setVolume=function(a){this.jf=a;this.fa&&this.fa.Wr(a);this.l.Ug({muted:0===this.jf,volume:this.jf})};b.prototype.getDuration=function(){return this.fa.Qq()};b.prototype.Pc=function(){return this.getDuration()-this.fa.getCurrentTime()};b.prototype.bm=function(){var a=this.l.la();return a&&a.getType()===F.default.Qa};return b}(c.default);d.default=a},function(c,d,a){d=c.exports=a(87)(!1);d.push([c.qc,".ad-skip-button-container {\n    position: relative;\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n}\n\n.ad-skip-button {\n    position: absolute;\n    width: 110px;\n    right: -110px;\n    bottom: 65px;\n    padding: 6px 0;\n    background-color: rgba(34, 34, 34, .85);\n    color: #d0d0d0;\n    font: 12px Arial;\n    text-align: center;\n    border: 1px #747474 solid;\n    border-right: 0;\n    opacity: 1;\n    z-index: 3;\n    transition: right 1s ease-in;\n}\n\n.fullscreen-mode .ad-skip-button {\n    width: 165px;\n    bottom: 98px;\n    padding: 9px 0;\n    border-width: 1.5px;\n    font-size: 18px;\n}\n\n.ad-skip-button.skippable {\n    text-decoration: underline;\n    cursor: pointer;\n}\n\n.ad-skip-button.skippable:hover {\n    color: #fff;\n}\n\n.expand-skip-button {\n    opacity: 1;\n    right: 0;\n    margin-right: 0;\n}\n\n.collapse-skip-button {\n    opacity: 0;\n    right: -110px;\n}\n\n.fullscreen-mode .collapse-skip-button {\n    opacity: 0;\n    right: -165px;\n}\n",
""])},function(c,d,a){d=a(316);c.exports="string"===typeof d?d:d.toString()},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){var b=this;this[K]&&this[A].getAdSkippableState()&&(this[R]=h.call(this,a),null!==this[R]&&(e.call(this),setTimeout(function(){return w.default.sm(b[C],"collapse-skip-button","expand-skip-button")},800)))}function m(a){var b=Math.floor(a.data.currentTime);0<this[E]&&this[R]-this[E]<b&&(b=this[R]-b,0>=b?g.call(this,a):k.call(this,b))}function l(){this[G]&&
this[A].removeEventListener(u.default.ob,this[G]);w.default.sm(this[C],"expand-skip-button","collapse-skip-button");w.default.Hf(this[C],"skippable");this[v]=!0}function f(){this[v]&&(this[A].dispatchEvent(new u.default(u.default.$m)),w.default.Hf(this[C],"skippable"),this[v]=!1)}function g(a){var b=a?Math.floor(a.data.currentTime):0;a=a?a.data.duration:0;this[H].innerHTML=this[M].replace("%t",this[B]?"| "+Math.round(a-b):"");w.default.rg(this[C],"skippable");this[v]=!0;y.default.qa(this[C],"click",
f.bind(this))}function h(a){var b=a.data;a=b.duration;var c=b.skipOffsetTime;b=b.skipOffsetPercent;var d=this[Q];if(c||0===c)d=c;else if(b||0===b)d=~~(a*b/100);return d<Math.min(this[z],a)?d:null}function e(){y.default.qa(this[A],u.default.Oa,l.bind(this));0<this[R]&&(this[G]=m.bind(this),this[A].addEventListener(u.default.ob,this[G]));var a=this[D].getElementsByClassName("ad-skip-button")[0];this[C]||(a?(this[C]=a,this[H]=this[C].getElementsByClassName("ad-skip-button-text")[0]):(this[x].uf(r.default),
this[F]=w.default.createElement("div",{"class":"ad-skip-button-container"},this[D]),this[C]=w.default.createElement("div",{"class":"ad-skip-button"},this[F]),this[H]=w.default.createElement("div",{"class":"ad-skip-button-text"},this[C])));0<this[R]?k.call(this,this[R]):g.call(this)}function k(a){this[E]=a;this[H].innerHTML=this[N].replace("%d",this[E])}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var p=b(c);c=a(4);c=b(c);var q=a(10),u=b(q);q=a(317);var r=b(q);q=a(5);var t=b(q);q=a(9);var y=
b(q);a=a(7);var w=b(a),v=(0,c.default)(),A=(0,c.default)(),D=(0,c.default)(),x=(0,c.default)(),z=(0,c.default)(),G=(0,c.default)(),B=(0,c.default)(),C=(0,c.default)(),H=(0,c.default)(),F=(0,c.default)(),E=(0,c.default)(),Q=(0,c.default)(),R=(0,c.default)(),K=(0,c.default)(),M=(0,c.default)(),N=(0,c.default)();d.default=function J(a,b){var c=this;(0,p.default)(this,J);this[K]=b;this[A]=a;a=this[A].Ld().Vg||{};this[M]=a.skippableText||"Skip ad %t";this[N]=a.timerText||"Skip ad in %ds";this[B]=a.showTimer||
!1;this[Q]=a.skipInSeconds||5;this[z]=a.maxLinearShowTime||90;this[D]=this[A].zg().Jc;this[v]=!1;this[x]=this[A].ia().H(t.default.ta);y.default.qa(this[A],u.default.sa,n.bind(this));y.default.qa(this[A],u.default.dd,function(a){a.data.Wd&&(c[B]=!1,c[R]=0,e.call(c),w.default.sm(c[C],"collapse-skip-button","expand-skip-button"))})}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){return(a=(a=a?a.url:"")&&k.default.trim(a))&&!k.default.startsWith(a,"rtmp",!0)}function m(a){var b=
{tq:[],dm:[],video:[]};a.forEach(function(a){-1<r.indexOf(a.mimeType)?b.tq.push(a):-1<q.indexOf(a.mimeType)?b.dm.push(a):b.video.push(a)});return b}function l(a){return a.slice().sort(function(a,b){return(a.width*a.height-(+a.Hi||0)||0)<(b.width*b.height-(+b.Hi||0)||0)?1:-1})}function f(a,b,c){var d=null,e=null,f=null;if(a.length){f=a.slice();for(var g=a.length-1;0<=g;g--){var k=a[g];!k.Fe&&k.width<=b&&k.height<=c&&(d=k);if(k.width>=b&&k.height>=c){e=k;break}}e&&(f.splice(f.indexOf(e),1),f.unshift(e));
d&&(f.splice(f.indexOf(d),1),f.unshift(d))}return f}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var g=b(c);c=a(6);c=b(c);var h=a(66),e=b(h);h=a(28);var k=b(h);a=a(88);a=b(a);var p=c.default.B("LinearResolver"),q=[a.default.Mn,a.default.Nn],u=q.concat([a.default.pu]),r=[a.default.Wf,a.default.xn];a=function(){function a(){(0,g.default)(this,a)}a.iA=function(a,b,c,d){var g=c.filter(function(a){k.default.endsWith(a.url,"m3u8")?a=!1:(a=a.mimeType,a=e.default.isSupported(a)||-1<u.indexOf(a)||
-1<r.indexOf(a)&&d);return a});g=g.filter(n);g=l(g);g=m(g);var h=f(g.video,a,b);null==h&&(h=f(g.dm.length?g.dm:g.tq,a,b));null==h&&0<c.length&&p.warn("None of the provided mime-types is supported",c);return h};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){this.Ik.S();m.call(this)}function m(){r.default.If(this.element);this.l.dispatchEvent(new t.default(q.default.As))}function l(a){a.data.currentTime>this.icon.offset&&(this.l.zf.appendChild(this.element),
0===this.icon.duration&&this.l.removeEventListener(q.default.ob,this.Dm));0<this.icon.duration&&a.data.currentTime>this.icon.offset+this.icon.duration&&(m.call(this),this.l.removeEventListener(q.default.ob,this.Dm))}function f(a){r.default.createElement("img").src=a}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var g=b(c);c=a(2);var h=b(c);c=a(1);var e=b(c);c=a(160);c=b(c);var k=a(13),p=b(k);k=a(37);var q=b(k);k=a(6);k=b(k);var u=a(7),r=b(u);u=a(18);var t=b(u);a=a(19);var y=b(a),w=k.default.B("IconElement");
a=function(a){function b(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=arguments[1];(0,g.default)(this,b);d=(0,h.default)(this,a.call(this,c.bs,d));w.debug("create",c);d.icon=c;return d}(0,e.default)(b,a);b.prototype.HA=function(a){this.l=a;this.load();r.default.Kf(this.element,{height:this.icon.height+"px",width:this.icon.width+"px",zIndex:3});this.l.addEventListener(q.default.yc,n.bind(this));this.l.addEventListener(q.default.Oa,n.bind(this));this.l.addEventListener(q.default.eh,
n.bind(this))};b.prototype.sr=function(){this.l.tf(p.default.Ea,{error:y.default.Rn})};b.prototype.im=function(){var a=this;switch(this.icon.Fj){case "left":this.element.style.left="0px";break;case "right":this.element.style.right="0px";break;default:"number"===typeof this.icon.Fj&&(this.element.style.left=this.icon.Fj+"px")}switch(this.icon.Gj){case "bottom":this.element.style.bottom="0px";break;default:this.element.style.top=("number"===typeof this.icon.Gj?this.icon.Gj:0)+"px"}this.icon.jl&&(this.element.style.cursor=
"pointer",this.element.addEventListener("click",function(b){b.stopPropagation();a.l.sf(a.icon.jl,!0)}));this.icon.kl&&this.element.addEventListener("click",function(){return f(a.icon.kl)});this.icon.Im&&f(this.icon.Im);0===this.icon.offset&&this.l.zf.appendChild(this.element);if(0!==this.icon.offset||0!==this.icon.duration)this.Dm=l.bind(this),this.l.addEventListener(q.default.ob,this.Dm);this.l.dispatchEvent(new t.default(q.default.Es))};return b}(c.default);d.default=a},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(6);c=b(c);a=a(108);a=b(a);var f=c.default.B("StaticResourceMediaElement");a=function(a){function b(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=arguments[2];(0,n.default)(this,b);e=(0,m.default)(this,a.call(this,e));d=d.toLowerCase();0===d.indexOf("image/")||""===d?e.Vc='<img width="100%" height="100%" src="'+c+'" />':"application/x-javascript"===
d?e.Vc='<script src="'+c+'">\x3c/script>':"application/x-shockwave-flash"===d?e.Vc='<object width="100%" height="100%" data="'+c+'"></object>':(f.warn("Non-supported mime type",d),e.Vc=null);return e}(0,l.default)(b,a);return b}(a.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(108);a=function(a){function b(c,d){(0,n.default)(this,b);d=(0,m.default)(this,
a.call(this,d));d.Vc="<iframe "+('width="100%" height="100%" marginwidth="0" marginheight="0" frameborder="0" scrolling="no" src="'+c+'"')+"></iframe>";return d}(0,l.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);a=a(108);a=function(a){function b(c,d){(0,n.default)(this,b);d=(0,m.default)(this,a.call(this,d));d.Vc=c;return d}
(0,l.default)(b,a);return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(4);c=b(c);var m=a(34),l=b(m);m=a(163);var f=b(m);m=a(13);var g=b(m);a=a(5);var h=b(a),e=(0,c.default)();a=function(){function a(b,c,d){(0,n.default)(this,a);var k=d.ia();d=k.H(h.default.ua);k=k.H(h.default.Ta);this[e]=new f.default(d,k);this[e].Sr(function(){return b.dispatchEvent(new g.default(l.default.bg,
c))},function(){return b.dispatchEvent(new g.default(l.default.Ve,c))},function(){return b.dispatchEvent(new g.default(l.default.ag,c))})}a.prototype.S=function(){this[e].S()};return a}();d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(4);c=b(c);var f=a(6);f=b(f);var g=a(25),h=b(g);g=a(5);var e=b(g);g=a(7);var k=b(g);g=a(109);g=b(g);var p=a(323),q=b(p);p=a(322);
var u=b(p);p=a(321);var r=b(p),t=a(90);a=a(89);var y=b(a),w=f.default.B("CompanionView"),v=(0,c.default)(),A=(0,c.default)();a=function(a){function b(c,d,f,g,k,p){(0,n.default)(this,b);w.debug("init",c,d,f,g);var h=k.ia(),l=h.H(e.default.ta);c=(0,m.default)(this,a.call(this,null,l.createDocumentFragment(),c,d,f,k,p));c.Wb=g;c[v]=h.H(e.default.An);c[A]=l;c.noResize();return c}(0,l.default)(b,a);b.prototype.Jf=function(){w.debug("resolveMediaElement");var b=this.aa.sc[0],c=void 0,d=this[v].Tc();switch(b.type){case t.Fh:c=
new q.default(b.value,d);break;case t.Ih:c=new u.default(b.value,d);break;case t.Yf:c=new r.default(b.value,b.mimeType,d)}if(c)if(c.Vc){c.xA(this.Wb&&this.Wb.keepCompanion);c.Wq(this.Wb.parent,this.Wb.selectorType);if(c.ve)return c.ve=k.default.createElement("div",{style:"width: "+this.Wb.width+"px; height: "+this.Wb.height+"px"},c.ve),c;w.warn("Media element could not find a container")}else w.warn("Media element doesn't have any markup");else w.warn("Non-supported companion media type",b.type);
return a.prototype.Jf.call(this)};b.prototype.Kd=function(){this.N.De()};b.prototype.sl=function(){return this.aa.parameters};b.prototype.Ui=function(){return!0};b.prototype.Vi=function(){return!1};b.prototype.getAdHeight=function(){return this.aa.height};b.prototype.getAdWidth=function(){return this.aa.width};b.prototype.ze=function(){return this.aa.cb?this.aa.cb.url:null};b.prototype.Mi=function(a){a===h.default.Vj&&this.ad.dispatchEvent(new y.default(a,this.Na,this.aa))};b.prototype.resume=function(){w.debug("resume")};
b.prototype.pause=function(){w.debug("pause")};return b}(g.default);d.default=a},function(c,d,a){var b=a(3)(b||{},{b:{Wh:{}},i:{},A:{ea:{}}});b.i=a(8).vdb.i;b.A.ea=a(9).vdb.A.ea;b.b.Wh=b.i.Class.extend(function(){function a(){0===this.qg.length&&(this.reset(),this.Yo&&this.Yo())}return{L:function(b,c){this.qg=b.slice();this.Yo=c;this.pi=[];a.call(this)},reset:function(){for(var a=0;a<this.pi.length;a++)this.pi[a].S();this.pi=[]},release:function(b){b=this.qg.indexOf(b);-1!==b&&(this.qg.splice(b,1),
a.call(this))},ZA:function(a){for(var c=0;c<this.qg.length;c++){var d=this.qg[c];d=b.A.ea.bind(d,a,this.release.bind(this,d));this.pi.push(d)}return this}}}());d.vdb={b:{Wh:b.b.Wh}};d.default=b.b.Wh;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){var a=this.D.offsetWidth,b=this.D.offsetHeight;0===a&&(this.D.style.width="100%",a=this.D.offsetWidth);0===b&&(this.D.style.height="100%",b=this.D.offsetHeight);return{height:b,width:a}}function m(){this[ka].forEach(function(a){return a.resize()})}
function l(a){da.warn("VAST error occurred in ad",a)}function f(a){var b=this;a.addEventListener(X.default.Uj,this.dispatchEvent.bind(this));a.addEventListener(X.default.sa,this.dispatchEvent.bind(this));a.addEventListener(X.default.yc,l.bind(this,a));a.Tl(this.u.getVolume());a.Na&&a.Na.Pd&&a.Na.Pd.forEach(function(c){return(new xb.default(c,b.F)).HA(a)})}function g(a){var b=this;da.debug("prepareCreatives",a);k.call(this,a);this.ad=a;this[Ja]=[];this[Eb]=[];this[Lb]=[];this.ad.Va.forEach(function(a){da.debug("prepareCreatives",
"creative",a);a instanceof Ya.default?b[Ja].push(a):a instanceof nb.default?b[Eb].push(a):a instanceof Bb.default&&b[Lb].push(a)});this.ad.dispatchEvent(new I.default(I.default.Qf,null,null,{hw:this.eb()}))}function h(){var a=this;da.debug("prepareExtensions",this.ad);this.ad.xe.forEach(function(b){da.debug("prepare extension",b);b.ma(a)})}function e(a){this[Cb].Tg(a,this.C)}function k(a){var b=this;da.debug("instrumentAd",a);db.forEach(function(c){return a.addEventListener(c,e.bind(b))});a.addEventListener(I.default.Ya,
function(a){return b.Hp(a.ze())});a.addEventListener(oa.default.Ue,function(a){var c=Wa[a.uc];c&&b.xa(c,a.data)});a.addEventListener(Na.default.wh,G.bind(this,a))}function p(){var a=this[ka][0];da.debug("displayOverlay",a);this[Qa].il();if(a){a.addEventListener(X.default.Ha,F.bind(this));a.addEventListener(X.default.sa,this.Bi.bind(this));a.addEventListener(X.default.Ha,u.bind(this));f.call(this,a);var b=a.tj.lr;isNaN(b)&&(b=a.aa.mr);b!==Number.POSITIVE_INFINITY&&(b=1E3*(isNaN(b)?15:b),this[Qa].xj(C.bind(this),
b))}}function q(a){this.Yd(P.default.LOADED,a)}function u(){this.Rd(P.default.STARTED)?this.xa(P.default.FINISHED):this.xa(P.default.Vf)}function r(a){var b=this;this.Rd(P.default.STARTED)?this[eb].Zd("ad",null,"ad failed after start"):this[Ba].tf(I.default.Ea,{error:a});this.xi=null;this[Jb]++;var c=(this.ab?/^(n|.*n)o ads/i.test(this.ab.message):!1)&&0<this[pa].ads.length||-1===this.Ia.Kc,d=this[pa].Dq(-1===this.Ia.Kc);c=d||c&&this[pa];this[pa].qy(d).forEach(function(c){var d=new I.default(I.default.Ea,
null,null,{error:a});c.dispatchEvent(d);b[Cb].Tg(d)});if(c){d=0;if(-1===this.Ia.Kc)for(var e=0;e<c.ads.length;e++)if(c.ads[e]&&!c.ads[e].wb){d=e;break}if(e=c.ads[d])return this[pa]=c,e.oj?t.call(this,d):(this[pa].ads.splice(d,1),da.debug("showNextLinearCreative","show failover ad"),g.call(this,e),y.call(this)),!0}this.Rd(P.default.LOADED)&&!this.Rd(P.default.STARTED)&&this.xa(P.default.Vf);return!1}function t(a){this.jb.Nf();this.jb.Uz(this[pa],a)}function y(){var a=this;da.debug("showFirstLinearCreative",
this[Ja]);if(0===this[Ja].length)if(this.ad){this[Ba]=new fb.default(this.$a,this.D,this.ad,{},[],this.C,this.u,this.F,this);var b=Fa.default.Tt;r.call(this,b)||(this.He(new ha.default(b.description,null,null,b)),this.complete())}else this.complete();else if(this.ab=null,this[ua]=this[Ja].shift(),this.ad.dispatchEvent(new I.default(na.default.LOADED,this[ua])),this[Kb]?this[Kb]=!1:this.zi(),b=n.call(this),this[hb]=zb.default.iA(b.width,b.height,this[ua].Qg,this[Qb].Ig()),this[hb]){this[sa]=this[hb][0];
h.call(this);this.u.dispatchEvent(new L.default(X.default.Vm,{ad:this.C,url:this[sa].url}));var c=new fb.default(this.$a,this.D,this.ad,this[ua],this[hb],this.C,this.u,this.F,this);this[Ba]=c;this.Xe&&(this.Xe.S(),this.Xe=null);this.Xe=ca.default.group(ca.default.bind(c,Va.default.wo,z.bind(this)),ca.default.bind(c,X.default.Ha,function(b){return F.call(a,c,b)}),ca.default.bind(c,lb.default.bd,v.bind(this)),ca.default.bind(c,X.default.Eb,this.hj.bind(this)),ca.default.bind(c,X.default.Oe,this.$k.bind(this)),
ca.default.bind(c,X.default.sa,function(b){a.Bi(b,c);a.u.dispatchEvent(new L.default(X.default.zc,{ad:a.C}));b=+a[Ba].getDuration();var d=+a[ua].duration;0<b&&(b>1.8*d||d>1.8*b)&&a[eb].Zd("ad",null,"ad duration mismatch: expected "+d+" but real duration: "+b)}),ca.default.bind(c,X.default.Rb,this.Yk.bind(this)),ca.default.bind(c,X.default.Ne,this.Ip.bind(this)),ca.default.bind(c,X.default.$d,this.Ci.bind(this)),ca.default.bind(c,X.default.ob,function(b){a.Kp(b);var c=a[ua]||{};if(c.Wd&&!a[Rb]){var d=
0;b=b.data||{};c.Bj?d=c.Bj:c.Aj&&(d=b.duration*c.Aj/100);b.currentTime>=d&&(a[Rb]=!0,a.u.dispatchEvent(new L.default(lb.default.dd,{Wd:a.getAdSkippableState()})))}}),ca.default.bind(c,X.default.Pe,this.lw.bind(this)),ca.default.bind(c,X.default.Qb,this.Fm.bind(this)),ca.default.bind(c,La.default.xo,w.bind(this)));this[ka].push(c);f.call(this,c)}else y.call(this)}function w(a){this[eb].Zd("ad",null,'VPAID sends "'+a.data+'" event twice')}function v(a){da.debug("received linear change event",a);a.data.isLinear||
this.xa(P.default.Nt);this.u.dispatchEvent(ma.default.LINEAR_CHANGE,a)}function A(){var a=this[pa].ads[0];return a?(a.oj?(a=this[pa],this.jb.Nf(),this.jb.Gf(a)):(this[pa].ads.shift(),g.call(this,a),this.Wg(),y.call(this)),!0):(a=D.call(this))?(this.jb.Nf(),this.jb.Gf(a),!0):!1}function D(){for(var a=this[pa].parent;a&&(0===a.ads.length||!a.ads[0].wb);)this.jb.Uw(),a=a.parent;return a}function x(a,b){return b.filter(function(b){return b.Jp===a.parent||+b.width===a.width&&+b.height===a.height})[0]||
null}function z(a){a=a.Mr;this.$a&&(a=Math.min(this.$a.Lr(),a));a=new Va.default(a);this.dispatchEvent(a);this.u.dispatchEvent(a)}function G(a,b){var c=this;da.debug("showCompanions",b);if(!(1<this[ka].length))for(var d={};b;)this[jb].forEach(function(g){var k=g.parent;if(!d[k])for(var p=0;p<b.Ii.length;p++){var h=b.Ii[p],m=x(g,h.Ki);if(m){a.addEventListener(ya.default.xh,e.bind(c));g=new wb.default(a,h,m,g,c.u,c);c.dispatchEvent(new L.default(X.default.nn));a.dispatchEvent(new I.default(na.default.Qe,
h));c.cA();c[gb]=B.bind(c,g);g.addEventListener(X.default.yc,c[gb]);g.addEventListener(X.default.Oa,c[gb]);g.addEventListener(X.default.eh,c[gb]);f.call(c,g);c[ka].push(g);d[k]=!0;break}}}),b=b.Cq()}function B(a,b){da.debug("companionDied",b);a.removeEventListener(X.default.yc,this[gb]);a.removeEventListener(X.default.Oa,this[gb]);a.removeEventListener(X.default.eh,this[gb]);this.dispatchEvent(new L.default(X.default.Vs))}function C(a){da.debug("killAds");this.Lk=!0;this[Qa].stop();this[Ja].length=
0;0<this[ka].length?this[ka].forEach(function(a){return a.stop()}):F.call(this);a||(this[ka].length=0)}function H(a,b){var c=[];this[ka].forEach(function(b){b!==a&&c.push(b)});this[ka].length=0;if(0===c.length)return null;(new pb.default(c,F.bind(this,a,b))).ZA(X.default.Ha);c.forEach(function(a){return a.stop()});return c}function F(a,b){da.debug("completeAd",a,b);this[Qa].stop();this.ki=!1;if(b){if(null!=H.call(this,a,b))return;var c=a.ux();c&&(this.He(new ha.default(c?c.message||c.description:
"",null,null,c)),this.xi=Q.call(this,c));b.force&&(this.ki=!0);this.se(b.currentTime,b.data);if(a instanceof fb.default){da.debug("showNextLinearCreative");if(this.ab)this.xi||(this.xi=Q.call(this)),r.call(this,this.xi)||F.call(this);else{if(a=-1===this.Ia.Kc)a=this[pa].ads[0],a=!(!a||!a.wb);this.u.am()||a?A.call(this)||F.call(this):F.call(this)}return}if(a instanceof mb.default){F.call(this);return}}this.ki||this.complete()}function E(){var a=void 0,b=void 0,c=[];this.ad&&this.ad.Va&&this.ad.Va.length?
c=ja.default.Ux(this.ad.Va):this[ka]&&this[ka].length?this[ka].forEach(function(d){d.Aa&&(a=(d.Aa()||{}).url||"",b=kb.default.wf(a)||a,c.push(b))}):this[Ba]&&this[Ba].Aa&&(a=(this[Ba].Aa()||{}).url||"",b=kb.default.wf(a)||a,c.push(b));return c.join(",")}function Q(a){return{code:a&&a.code||this.ab.code||fa.code,description:a&&a.description||this.ab&&this.ab.message||fa.description}}Object.defineProperty(d,"__esModule",{value:!0});var R=a(0),K=b(R),M=a(2),N=b(M),V=a(1),O=b(V),W=a(4),J=b(W),T=a(57),
P=b(T),ia=a(5),S=b(ia),ba=a(18),L=b(ba),aa=a(9),ca=b(aa),Sa=a(6),ea=b(Sa),Y=a(326),pb=b(Y),Ha=a(62),$a=b(Ha),Ma=a(97),tb=b(Ma),Da=a(12),kb=b(Da),ab=a(25),Ua=b(ab),za=a(164),Va=b(za),ub=a(10),lb=b(ub),Ta=a(110),vb=b(Ta),la=a(325),wb=b(la),Oa=a(320),xb=b(Oa),yb=a(319),zb=b(yb),sb=a(159),fb=b(sb),qb=a(310),Ab=b(qb),Ea=a(309),mb=b(Ea),rb=a(85),Bb=b(rb),ib=a(34),na=b(ib),Xa=a(58),Ya=b(Xa),ra=a(152),nb=b(ra),U=a(61),oa=b(U),qa=a(37),X=b(qa),Pa=a(13),I=b(Pa),cb=a(59),Na=b(cb),xa=a(89),ya=b(xa),ob=a(154),
La=b(ob),wa=a(64),ma=b(wa),va=a(308),Ka=b(va),Aa=a(307),ja=b(Aa),bb=a(19),Fa=b(bb),Z=a(91),ha=b(Z),Ga=a(113),Ca=a(44),ta=b(Ca),da=ea.default.B("VastEngine"),fa=Fa.default.$f,db=[I.default.Qf,I.default.Eb,I.default.Ea,I.default.Ya,na.default.Ve,na.default.bg,na.default.ag,na.default.Qe,na.default.Sf,na.default.LOADED,na.default.rb,na.default.LINEAR_CHANGE,oa.default.Ue],Wa={};Wa[Ua.default.md]=P.default.md;Wa[Ua.default.ck]=P.default.Rh;Wa[Ua.default.wd]=P.default.wd;Wa[Ua.default.Ha]=P.default.FINISHED;
var jb=(0,J.default)(),Ba=(0,J.default)(),ua=(0,J.default)(),eb=(0,J.default)(),Cb=(0,J.default)(),Jb=(0,J.default)(),Qb=(0,J.default)(),Ia=(0,J.default)(),Kb=(0,J.default)(),Ja=(0,J.default)(),sa=(0,J.default)(),hb=(0,J.default)(),Fb=(0,J.default)(),Eb=(0,J.default)(),Qa=(0,J.default)(),Rb=(0,J.default)(),pa=(0,J.default)(),ka=(0,J.default)(),gb=(0,J.default)(),Lb=(0,J.default)(),Yb=function(a){function b(c,d,e,f,g,k,p){(0,K.default)(this,b);c=(0,N.default)(this,a.call(this,c,d,e,f));c.D=k.Jc;c[Fb]=
k.Qz;c[Cb]=g;c[jb]=p||[];c[Ja]=[];c[Eb]=[];c[Kb]=!0;c[Jb]=0;c[ka]=[];c[Qa]=new tb.default;c[Qb]=c.u.ia().H(S.default.Db);c[eb]=c.u.ia().H(S.default.Pa);c.u.addEventListener(ma.default.Se,m.bind(c));c.jb.addEventListener(Ga.Me,q.bind(c));return c}(0,O.default)(b,a);b.prototype.rj=function(b){da.debug("onLoaded",b);this.$v=b.ads.length;this.Xb||(this[pa]=b,b=this[pa].ads.shift(),this[Ia]=Ka.default.create(this.C),this[Ia].parse(b),g.call(this,b),this.me?y.call(this):a.prototype.rj.call(this,b,{urls:this.wv()}))};
b.prototype.wv=function(){var a=[];(function Xb(b){a.push(b.Cm);b.parent&&Xb(b.parent)})(this[pa]);return a.reverse()};b.prototype.Sk=function(b){this[Ja].length&&(b.crid=this[Ja][0].id||"");a.prototype.Sk.call(this,b)};b.prototype.xm=function(a){this.Wg(a);this.zi();y.call(this)};b.prototype.Mf=function(){var b=this;a.prototype.Mf.call(this);var c=this.C.Yc;da.debug("showOverlay",c);var d=this[Fb].offsetWidth,e=this[Fb].offsetHeight,f=isNaN(c.width)?d:Math.min(c.width,d),g=isNaN(c.height)?e:Math.min(c.height,
e),k=void 0;0<this[Eb].filter(function(a){b[sa]=Ab.default.resolve({height:g,width:f,x:0,y:0},a.pr);if(b[sa]&&b[sa].sc&&b[sa].sc[0]&&b[sa].sc[0].value)return b[ka].push(new mb.default(b[Qa],b[Fb],b[pa].ads[0]||b.ad,a,b[sa],c,b.u,b.F,b)),b[Qa].xj(p.bind(b),1E3*c.hq),!0;k=b[sa]&&b[sa].error;return!1}).length||(this.ad&&this.ad.dispatchEvent(new I.default(I.default.Ea,null,null,{error:k})),this.Yd(P.default.LOADED,Fa.default.Sn,"Unable to find suitable overlay creatives"))};b.prototype.stop=function(){this.Xb||
(this[Qa].stop(),this.ad&&this.ad.state.loaded?C.call(this):this.xa(P.default.lt),this.Xe&&(this.Xe.S(),this.Xe=null),this[ua]=null,a.prototype.stop.call(this))};b.prototype.Da=function(){this.vp=!0;this.We?(this.We.Mi(Ua.default.hu),this.We.Da()):C.call(this,!0)};b.prototype.pause=function(){da.debug("pause");this.ff&&(this[Qa].pause(),this[ka].forEach(function(a){return a.pause()}))};b.prototype.resume=function(){da.debug("resume");this.ff&&(this[Qa].resume(),this[ka].forEach(function(a){return a.resume()}))};
b.prototype.setVolume=function(a){da.debug("setVolume",a);this[ka].forEach(function(b){return b.setVolume(a)})};b.prototype.getDuration=function(){var a=0;this[ka].forEach(function(b){b.getDuration&&(a=Math.max(a,b.getDuration()))});return a};b.prototype.getCurrentTime=function(){var a=this[ka].find(function(a){return a.getCurrentTime});return a?a.getCurrentTime():0};b.prototype.eb=function(){return this[ua]?this[ua].duration:0<this[Ja].length?this[Ja][0].duration:0};b.prototype.getAdSkippableState=
function(){var a=this[ua]?this[ua].Wd:!1;if(this[Ba].getAdSkippableState){var b=this[Ba].getAdSkippableState();a="undefined"!==typeof b?b:a}return a};b.prototype.Sc=function(){return this.ad&&this.ad.Rr};b.prototype.Gi=function(b,c,d){!d&&this[Ia]&&(d=this[Ia].yi);return a.prototype.Gi.call(this,b,c,d)};b.prototype.xa=function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c.iw=this.eb()||"NULL";this[Ia]&&(this[Ia].Zk&&(c.Zk=this[Ia].Zk),this[Ia].Ei&&(c.Ei=this[Ia].Ei),this[sa]&&
(c.Dz=this[sa]));c.kx=this[Jb];a.prototype.xa.call(this,b,c)};b.prototype.qj=function(b){var c=b;c instanceof ha.default||(c=c instanceof $a.default?new ha.default(b.message,ha.default.Sh,b.Em):new ha.default(b.message));da.debug("onInterrupted",c,"configEntry",this.C);a.prototype.qj.call(this,c);F.call(this)};b.prototype.se=function(b,c){a.prototype.se.call(this,b,c);this.ad&&this.ad.dispatchEvent(new I.default(na.default.rb,this[ua]));D.call(this)||0!==this[pa].ads.length||this.stop();this.ad=null;
this.vp=!1};b.prototype.Aa=function(){this[ka].forEach(function(a){if(a.Aa)return a.Aa()});return null};b.prototype.track=function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c.vastModelAd=this.ad;if(b===ta.default.Me){for(var d="",e=this[pa];e&&e.Cm;)d=e.Cm+" "+d,e=e.parent;c.url=d}a.prototype.track.call(this,b,c)};b.prototype.Yd=function(b,c,d){a.prototype.Yd.call(this,b,c,d,E.call(this))};b.prototype.Si=function(b){this.ad&&this.ad.dispatchEvent(new I.default(I.default.Ea,
null,null,{Jd:b,error:Fa.default.$f}));a.prototype.Si.call(this,b);C.call(this)};b.prototype.getAdCompanions=function(){var a="";this[Lb].forEach(function(b){!a&&b.Xk&&(a=b.Xk)});return a};return b}(vb.default);d.default=Yb},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(4);c=b(c);a=a(63);a=b(a);var f=(0,c.default)();a=function(a){function b(c){(0,n.default)(this,b);var d=
c.ad;delete c.ad;c=(0,m.default)(this,a.call(this,c));c[f]=d;return c}(0,l.default)(b,a);b.prototype.load=function(){this.Sl();this.Nf();this.xr(this[f])};return b}(a.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(4);c=b(c);var f=a(63);f=b(f);a=a(165);var g=b(a),h=(0,c.default)();a=function(a){function b(c){(0,n.default)(this,b);var d=c.ad;delete c.ad;
c=(0,m.default)(this,a.call(this,c));c[h]=d;return c}(0,l.default)(b,a);b.prototype.load=function(){this.Sl();this.Nf();var a=new g.default;a.ads=this[h]||[];this.Gf(a)};return b}(f.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(49);var f=b(c);a=a(112);a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.apply(this,arguments))}
(0,l.default)(b,a);b.prototype.getType=function(){return f.default.nt};return b}(b(a).default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){var b=this[w].filter(function(b){return b.wm===a})[0];b=b&&b.rz;b||(b=q.default.empty(),this[w].push({rz:b,wm:a}));return b}function m(a){l.call(this,a);n.call(this,a).link(q.default.bind(a,t.default.sa,f.bind(this,a)),q.default.bind(a,t.default.$c,this.FA.bind(this,a)));a.tc()}function l(a){n.call(this,a).S();
this[w]=this[w].filter(function(b){return b.wm!==a})}function f(a){var b=this,c=this[v].indexOf(a),d=a.la();y.debug("Winner shim is "+(d?d.getName():"undefined")+". Killing others.");d=this[v].concat();d.splice(c,1);d.forEach(function(a){l.call(b,a);a.stop()});this[v]=[a]}function g(a){l.call(this,a);a=this[v].indexOf(a);-1!==a&&this[v].splice(a,1)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var h=b(c);c=a(2);var e=b(c);c=a(1);var k=b(c);c=a(4);c=b(c);var p=a(9),q=b(p);p=a(6);p=b(p);var u=
a(167),r=b(u);u=a(166);u=b(u);a=a(10);var t=b(a),y=p.default.B("MassiveAdEngineAdapter"),w=(0,c.default)(),v=(0,c.default)(),A=(0,c.default)(),D=(0,c.default)();a=function(a){function b(c,d,f){(0,h.default)(this,b);var g=(0,e.default)(this,a.call(this));g[v]=[];g[w]=[];g[A]=[];c.forEach(function(a){return g[v].push(new r.default(a,d,f))});return g}(0,k.default)(b,a);b.prototype.load=function(){var b=this;a.prototype.load.call(this);this[A]=[];this[v].concat().forEach(function(a){n.call(b,a).link(q.default.bind(a,
t.default.xc,b.ready.bind(b,a)),q.default.bind(a,t.default.$c,b.GA.bind(b,a)));a.load()})};b.prototype.tc=function(){var b=this;a.prototype.tc.call(this);this[A].forEach(function(a){return m.call(b,a)});this[A]=[]};b.prototype.ready=function(b,c){this[D]||(this[D]=!0,a.prototype.ready.call(this),this.dispatchEvent(c));this.Qd()?m.call(this,b):this[A].push(b)};b.prototype.GA=function(b,c){g.call(this,b);0===this[v].length&&(a.prototype.complete.call(this,!0),c.ml=b.la(),this.dispatchEvent(c))};b.prototype.FA=
function(b,c){g.call(this,b);0===this[v].length&&(a.prototype.complete.call(this,b.Hg()),c.ml=b.la(),this.dispatchEvent(c))};b.prototype.stop=function(){var b=this;this.dr()||this.Hg()||this.Lg()||(a.prototype.stop.call(this),this[v]=[],this[w].forEach(function(a){a=a.wm;a.stop();l.call(b,a)}))};b.prototype.Da=function(){a.prototype.Da.call(this);this[v].forEach(function(a){return a.Da()})};b.prototype.pause=function(){a.prototype.pause.call(this);this[v].forEach(function(a){return a.pause()})};b.prototype.resume=
function(){a.prototype.resume.call(this);this[v].forEach(function(a){return a.resume()})};b.prototype.setVolume=function(b){a.prototype.setVolume.call(this);this.Qd()&&this[v].forEach(function(a){return a.setVolume(b)})};b.prototype.getDuration=function(){return 0<this[v].length?this[v][0].getDuration():a.prototype.getDuration.call(this)};b.prototype.eb=function(){return 0<this[v].length?this[v][0].eb():a.prototype.eb.call(this)};b.prototype.getAdSkippableState=function(){return 0<this[v].length&&
"function"===typeof this[v][0].getAdSkippableState?this[v][0].getAdSkippableState():a.prototype.getAdSkippableState.call(this)};b.prototype.Zb=function(){return 0<this[v].length?this[v][0].Zb():a.prototype.Zb.call(this)};b.prototype.la=function(){return 0<this[v].length?this[v][0].la():a.prototype.la.call(this)};b.prototype.Aa=function(){return 0<this[v].length?this[v][0].Aa():a.prototype.Aa.call(this)};return b}(u.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}
function n(){var a=this,b=this[K];this[K]=[];b.forEach(function(b){C.debug("Execute deferred function:",b);b.call(a)})}function m(){return this[N].every(function(a){return a.Hg()})}function l(a,b){this[M]!==H.LOADED&&this[M]!==H.Te&&(this[M]=H.LOADED,n.call(this),a&&a(b.data))}function f(a,b){A.default.qa(a,B.default.xc,l.bind(this,b));a.Mp(A.default.bind(a,B.default.xc,g.bind(this,a)),A.default.bind(a,B.default.$c,p.bind(this)))}function g(a,b){C.debug("adapterReady",a);this[M]===H.Te&&(this[N][0].mj()&&
(C.debug("run the most priority adapter",a),k.call(this)),-1===this[O]&&k.call(this));this[F].dispatchEvent(B.default.xc,b)}function h(){C.debug("softTimeout ("+this[E].Ie+"s)");this[O]=-1;this[M]===H.Te&&(this[N][0].Qd()?C.info("the most priority adapter is already running"):k.call(this))}function e(){C.debug("hardTimeout ("+this[E].Uc/1E3+"s)");this[W]=-1;this[M]===H.Te&&(this[J]||u.call(this,"hard timeout"))}function k(){if(!this[J])for(var a=0;a<this[N].length;a++){var b=this[N][a];if(b.mj()){a=
b;C.debug("runReadyEngineAdapter",a);this[J]=a;this[F].dispatchEvent(B.default.dh,a);a.tc();break}}}function p(a){var b=a.ml;C.debug("adapterComplete","configEntry",b,"event",a);var c=a.mw,d=c===this[J];d&&(this[J]=null);if(c.Hg()){var e=a.data&&a.data.Ri,f=a.data&&a.data.error&&a.data.error.ac;C.debug("adapterFailed",b,c,d);this[Q].kr(b);m.call(this)?u.call(this,"all ads are failed",e,f):this[M]===H.Te&&d&&(C.info("Engine completed with error."),q.call(this)?(C.info("Trying next engine..."),k.call(this)):
this.dispatchEvent(new v.default(v.default.Ha,{error:"no alive adapters left"})))}else q.call(this)?this[M]=H.LOADED:(this[M]=H.rb,this.reset()),this.dispatchEvent(new v.default(v.default.Ha));this[F].dispatchEvent(B.default.$c,a)}function q(){return this[N].some(function(a){return a.iz()||a.mj()})}function u(a,b,c){C.debug("finish",a);this.stop();this.dispatchEvent(new v.default(v.default.Ha,{Ri:b,error:a,ac:c}))}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var r=b(c);c=a(2);var t=b(c);
c=a(1);var y=b(c);c=a(4);c=b(c);var w=a(18),v=b(w);w=a(9);var A=b(w);w=a(6);w=b(w);var D=a(17);D=b(D);var x=a(167),z=b(x);x=a(331);var G=b(x);a=a(10);var B=b(a),C=w.default.B("AdsRunner"),H={yh:"Created",LOADED:"Loaded",Te:"Running",rb:"Stopped"},F=(0,c.default)(),E=(0,c.default)(),Q=(0,c.default)(),R=(0,c.default)(),K=(0,c.default)(),M=(0,c.default)(),N=(0,c.default)(),V=(0,c.default)(),O=(0,c.default)(),W=(0,c.default)(),J=(0,c.default)();a=function(a){function b(c,d){(0,r.default)(this,b);C.debug("init");
var e=(0,t.default)(this,a.call(this));e[F]=c;e[E]=c.Ld();e[R]=c.zg();e[Q]=d;e.reset();return e}(0,y.default)(b,a);b.prototype.reset=function(){this[K]=[];this[M]=H.yh;this[N]=[];this[J]=null;this[V]=0;this[O]=-1;this[W]=-1};b.prototype.tc=function(){C.debug("run");if(this.Lg())u.call(this,"Runner already stopped");else if(this[M]!==H.LOADED){var a=this.tc;C.debug("Register deferred function:",a);this[K].push(a)}else this[M]=H.Te,this[N][0].mj()&&(C.debug("run the most priority adapter",this[N][0]),
k.call(this)),-1===this[O]&&k.call(this),this[M]!==H.yh&&(0===this[N].length?u.call(this,"No adapters - finish"):m.call(this)&&u.call(this,"All adapters failed - finish"))};b.prototype.load=function(a,b){var c=this;C.debug("load",a);if(0===a.length)u.call(this,"no ad entries");else{var d=[],g=this[E].Uc;a.forEach(function(a){g=Math.max(g,a.Bl());var e=a.getAdEngineType(),k=c[F].tx(e);k?(e=k.Li(a),a.Kk?d.push(e):(a=new z.default(e,c[E],c[Q]),c[N].push(a),f.call(c,a,b))):(C.error("Ignore ad config entry ",
a," Unknown ad engine type ",e),c[Q].kr(a))});0<d.length&&(a=new G.default(d,this[E],this[Q]),this[N].push(a),f.call(this,a,b));this[O]=setTimeout(h.bind(this),this[E].Ie);this[W]=setTimeout(e.bind(this),g);this[F].dispatchEvent(B.default.Qm,this[N]);this[N].forEach(function(a){void 0!==c[V]&&a.setVolume(c[V]);a.load()})}};b.prototype.stop=function(){C.debug("stop");this[M]=H.rb;this[N].forEach(function(a){return a.stop()})};b.prototype.Da=function(){this[J]?this[J].Da():this[N][0]&&this[N][0].Da()};
b.prototype.pause=function(){this[N].forEach(function(a){a.Qd()&&a.pause()})};b.prototype.Zb=function(){if(this[J])return this[J].Zb()};b.prototype.resume=function(){this[N].forEach(function(a){a.Qd()&&a.resume()})};b.prototype.setVolume=function(a){this[V]=a;this[N].forEach(function(b){return b.setVolume(a)})};b.prototype.getDuration=function(){if(this[J])return this[J].getDuration()};b.prototype.eb=function(){if(this[J])return this[J].eb()};b.prototype.getAdSkippableState=function(){if(this[J])return this[J].getAdSkippableState()};
b.prototype.Sc=function(){if(this[J])return this[J].Sc()};b.prototype.getCurrentTime=function(){if(this[J])return this[J].getCurrentTime()};b.prototype.Aa=function(){if(this[J])return this[J].Aa()};b.prototype.Lg=function(){return this[M]===H.rb};b.prototype.hz=function(){return this[M]===H.LOADED};b.prototype.getAdCompanions=function(){var a="";this[N].forEach(function(b){b=b.getAdCompanions();a||(a=b)});return a};return b}(D.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?
a:{default:a}}function n(){var a=this;this[H].addEventListener(w.default.LOADING,f.bind(this));this[H].addEventListener(w.default.LOADED,g.bind(this,"LOADED"));this[H].addEventListener(w.default.ae,g.bind(this,"FAILED"));this[H].addEventListener(x.default.dh,h.bind(this));this[H].addEventListener(x.default.sa,m.bind(this));this[H].addEventListener(x.default.vc,m.bind(this));this[H].addEventListener(x.default.Qm,function(b){a[G]||f.call(a);a[B]&&!a[B].end&&h.call(a);a[B]={ads:[],duration:null,end:null,
label:"aegGroup",start:+new Date};a[G].adGroups.push(a[B]);l.call(a,b)});this[H].addEventListener(y.Ao,function(b){b=b.data;var c=k.call(a,b.ad);c&&c.adChain.push({duration:null,end:null,start:+new Date,url:b.url})});this[H].addEventListener(y.Bo,function(b){b=b.data;t.default.qa(b.ad,A.default.Ea,p.bind(a,b))});this[H].addEventListener(y.zo,function(b){b=(b=k.call(a,b.data.ad))&&b.adChain||[];b.length&&(b=b[b.length-1],b.end=+new Date,b.duration=b.end-b.start)});this[H].addEventListener(v.default.Vm,
function(b){b=b.data;var c=k.call(a,b.ad);c&&c.adMediaFiles.push({duration:null,end:null,start:+new Date,url:b.url})})}function m(a){this[z].adStartTime||(this[z].startAdTime=+new Date,this[z].adStartTime=this[z].startAdTime-this[z].initTime,h.call(this),a&&a.data&&(a=k.call(this,a.data.ad))&&a.adMediaFiles.length&&(a=a.adMediaFiles[a.adMediaFiles.length-1],a.end=this[z].startAdTime?this[z].startAdTime:+new Date,a.duration=a.end-a.start))}function l(a){var b=this;a.forEach(function(a){var c=e.call(b,
a);a.addEventListener(x.default.xc,function(){c.end=+new Date;c.duration=c.end-c.start});a.addEventListener(x.default.$c,function(){c.complete=+new Date})})}function f(a){var b=a&&a.data||{};this[G]&&!this[G].adServerResponse&&g.call(this,"FAILED",a);this[G]={adGroups:[],adStrategy:b.mf,duration:null,end:null,label:"adServerRequest",requestUrl:null,start:+new Date,type:b.type};this[z].adServerRequests.push(this[G]);return this[G]}function g(a,b){this[G]||f.call(this);var c=this[G];c.end&&c.status||
(c.end=+new Date,c.duration=c.end-c.start,c.requestUrl=b&&b.data&&b.data.cG||null,c.status=a,"FAILED"===a&&(a="Failed ad server response",b&&b.data&&b.data.error&&b.data.error.ds&&(a="Ad server response timeout: "+b.data.error.request.timeout+"ms"),c.error=a))}function h(){this[B]&&(this[B].end=+new Date,this[B].duration=this[B].end-this[B].start)}function e(a){a=a.la();var b="",c="",d="",e="",f="",g="";a&&(b=a.getAcid(),c=a.getType(),d=a.getVendor(),e=a.getName(),g=a.getRuleId(),f=a.getAsid());c=
{adChain:[],adMediaFiles:[],duration:null,end:null,name:e,start:+new Date,type:c,vendor:d};g&&(c.rid=g);b&&(c.acid=b);f&&(c.asid=f);this[C].push({ad:c,ql:a});this[B].ads.push(c);return c}function k(a){var b=this[C].filter(function(b){return b.ql===a}).slice(-1);return(b=(0,u.default)(b,1)[0])&&b.ad||null}function p(a,b){var c=k.call(this,a.ql);if(c){var d=c.adChain;if(0<d.length){var e=void 0;e=b.data.error.code===D.default.$f.code&&b.data.Jd?b.data.Jd:b.data.error.code+" "+b.data.error.description;
var f=void 0;a.js?d.forEach(function(b){b.url===a.js&&(f=b)}):f=d[d.length-1];f.error=e;b=c.adMediaFiles;0<b.length&&(b[b.length-1].error=e)}}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var q=b(c);c=a(93);var u=b(c);c=a(4);c=b(c);var r=a(9),t=b(r),y=a(63);r=a(67);var w=b(r);r=a(37);var v=b(r);r=a(13);var A=b(r);r=a(19);var D=b(r);a=a(10);var x=b(a),z=(0,c.default)(),G=(0,c.default)(),B=(0,c.default)(),C=(0,c.default)(),H=(0,c.default)();a=function(){function a(b){(0,q.default)(this,a);
this[z]={adServerRequests:[],adStartTime:null,initTime:+new Date,startAdTime:null};this[G]=null;this[B]=null;this[C]=[];this[H]=b;n.call(this)}a.prototype.ky=function(){return this[z]};return a}();d.default=a},function(c,d,a){var b=a(3)(b||{},{b:{ud:{}},i:{}});b.i=a(8).vdb.i;b.b.ud=b.i.Class.extend(function(){return{L:function(a,b){this.Hv=a;this.Nv=b},apply:function(a){return a.replace(this.Hv,this.Nv)}}}());d.vdb={b:{ud:b.b.ud}};d.default=b.b.ud;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},
{b:{pd:{}},i:{},g:{}});b.i=a(8).vdb.i;b.g=a(7).vdb.g;b.b.pd=b.i.Class.extend(function(){return{L:function(a,b){Array.isArray(b)||(b=[b]);this.sp=a;this.op=b.slice(0)},apply:function(a){if(!a)return a;var c=this.sp;c=b.g.Yl(c)?c():c;c=null!=c?c.toString():"";for(var d=0;d<this.op.length;d++){var f=this.op[d],g=null!=f.match(/^\W/g),h=null!=f.match(/\W$/g);f=f.replace(/([{}\(\)\^$&.\*\?\/\+\|\[\\\\]|\]|\-)/g,"\\$1");a=a.replace(new RegExp((g?"":"(\\W|^)")+f+(h?"":"(\\W|$)"),"g"),(g?"":"$1")+c+(h?"":
"$2"))}return a}}}());d.vdb={b:{pd:b.b.pd}};d.default=b.b.pd;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{b:{Lh:{},hb:{},na:{},ic:{},X:{}},g:{},ha:{Ra:{}},i:{},f:{j:{},Dc:{}}});b.g=a(7).vdb.g;b.ha.Ra=a(48).vdb.ha.Ra;b.i=a(8).vdb.i;b.f.j=a(5).vdb.f.j;b.f.Dc=a(77).vdb.f.Dc;b.b.hb=a(66).vdb.b.hb;b.b.na=a(65).vdb.b.na;b.b.ic=a(114).vdb.b.ic;b.b.X=a(27).vdb.b.X;b.b.Lh=b.i.Class.extend(function(){function a(){if(3>arguments.length)return"";var a=arguments[2].replace(/^m\./,""),b=arguments[0];return this.o.Mb(a)||
b}function c(){if(3>arguments.length)return"";var a=arguments[2].replace(/^m\./,"");return encodeURIComponent(this.o.Mb(a)||"")}function d(){if(3>arguments.length)return"";var a=arguments[2];return this.Fa&&this.Fa.metadata[a]}var f=b.b.ic,g=b.f.Dc,h=b.ha.Ra,e=b.f.j;return{L:function(a,b){this.Ma=a;this.Ia=b;this.bb=[];this.V=this.Ma.H(e.ja);this.o=this.Ma.H(e.P);this.mc=this.Ma.H(e.Ta);this.Fd=this.Ma.H(e.Db);this.F=this.Ma.H(e.dc)},Rl:function(){this.bb=[];this.Fa=this.V.Nc();var a=this.V.Nq()||
{};if(this.Fa){var c=a.w;var d=a.h;var e=this.Fa.metadata||{};e=e.duration?Math.round(e.duration/1E3):""}else this.Fa={},d=this.V.Cg()||{},c=d.width,d=d.height,e="";c=parseInt(c,10)||0;d=parseInt(d,10)||0;var f=Math.max(c,d);f=0===f?-1:350>f?1:500>f?2:3;var l=encodeURIComponent(this.o.Mb(h.URL)||b.b.X.Rc(window)),m=b.g.Jy,n=this.o.Fq(),v=this.V.Vx(),A=b.b.X.Hy();this.bb.push(g.Is.concat(this.o.ye()?this.o.ye().utid||"":""),g.Js.concat(this.F.vx()),g.Ks.concat(this.Ia.autoplay?1:0),g.Pj.concat(m(this.o.Mb(h.Pj),
0)),g.Ps.concat(m(this.o.Mb(h.Os),1)),g.Qs.concat(this.o.ul()),g.kn.concat(Math.random().toString(10).substr(2)),g.Ws.concat(d),g.Xs.concat(c),g.Ys.concat(b.b.hb.rx(this.F.getCurrentTime(),!0,!0)),g.$s.concat(this.Fa.deRssId),g.bt.concat(encodeURIComponent(l)),g.jt.concat(this.Xx(location.hostname)),g.kt.concat(location.host),g.rt.concat(this.Fd.Ig()?1:0),g.tt.concat(b.b.na.rc()?1:0),g.Hb.concat(this.mc.ra()),g.Mt.concat(this.F.isMuted()?1:0),g.Ut.concat(""),g.Wt.concat(this.o.cj()),g.Xn.concat(f),
g.eu.concat(this.Fa.rssVideoId),g.mu.concat((new Date).getTime()),g.qu.concat(encodeURIComponent(A)),g.uu.concat(this.Fa.description),g.vu.concat(this.Fa.detailPage),g.wu.concat(e),g.xu.concat(this.Fa.videoUrls&&this.Fa.videoUrls[0]),g.yu.concat(d),g.zu.concat(this.Fa.id),g.Au.concat(this.Fa.keywords),g.Cu.concat(a.lE),g.Eu.concat(this.Fa.title),g.Fu.concat(l),g.Gu.concat(c),g.qs.concat(this.mc.ra()),g.Hu.concat(this.mc.Be()),g.Iu.concat(this.mc.Be()),g.Qu.concat(this.o.Kq().vvuid),g.Kt.concat(this.o.Yi()?
this.o.Yi().latitude:""),g.Lt.concat(this.o.Yi()?this.o.Yi().longitude:""),g.Zs.concat(b.b.X.dy()),g.oo.concat(parseInt(100*this.V.getVolume())),g.qt.concat(n&&n.euconsent),g.vt.concat(n&&n.gdpr),g.Zt.concat(0<=v?v+1:""),g.Ht.concat(n&&n.isOathFirstParty))},resolve:function(b){this.Rl();return f.create.apply(null,this.bb).join(f.qf(/(\[MACROS:)(.+?)(\])/g,a.bind(this)).join(f.qf(/(\|MACROS:)(.+?)(\|)/g,a.bind(this))).join(f.qf(/(\[ENC_MACROS:)(.+?)(\])/g,c.bind(this))).join(f.qf(/(\|ENC_MACROS:)(.+?)(\|)/g,
c.bind(this)))).join(f.qf(/(\[META:)(.+?)(\])/g,d.bind(this)).join(f.qf(/(\|meta:)(.+?)(\|)/g,d.bind(this)))).resolve(b)},Xx:function(a){a=a.split(/\./);switch(a.length){case 2:return a.slice(-2)[0];default:return a.slice(-3)[0]}}}}());d.vdb={b:{Lh:b.b.Lh}};d.default=b.b.Lh;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(4);c=b(c);var f=a(336);f=b(f);a=a(77);
var g=b(a),h=(0,c.default)();a=function(a){function b(c,d){(0,n.default)(this,b);d=(0,m.default)(this,a.call(this,c.ia(),d));d[h]=c;return d}(0,l.default)(b,a);b.prototype.Rl=function(){var b=this[h].la();b=b&&b.Id||"";a.prototype.Rl.call(this);this.bb.push(g.default.rs.concat(this[h].Sc()),g.default.mt.concat(b))};return b}(f.default);d.default=a},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);
c=a(1);var l=b(c);c=a(115);c=b(c);a=a(5);a=b(a);c=function(a){function b(c){(0,n.default)(this,b);return(0,m.default)(this,a.call(this,c))}(0,l.default)(b,a);b.prototype.load=function(b){return a.prototype.load.call(this,this.Ja.Ax(),this.Nk.Ol(b))};return b}(c.default);d.default=c;c.O=[a.default.Pa,a.default.od,a.default.ya]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){return a===p.default.gc||a===p.default.qb}function m(a){var b=this;if(this[w]===p.default.Qa){this[t]=
{};var c={};a.forEach(function(a){var d=q.default.Gw(a.type);n(d)&&(b[t][d]||(b[t][d]={}),b[t][d][a.time]||(b[t][d][a.time]=[]),b[t][d][a.time].push(a),c[d]||(c[d]=""),c[d]+=a.time+";")});return c}}function l(a){var b=this,c=a.filter(function(a){return q.default.mq(a.type,b[w],!0)});a=a.filter(function(a){return!q.default.mq(a.type,b[w],!0)&&a.calculated});c=[].concat.apply([],c.filter(function(a){return a.slots}).map(function(a){return a.slots}));a=[].concat.apply([],a.filter(function(a){return a.slots}).map(function(a){return a.slots}));
this[y]=c.length;return c.concat(a)}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var f=b(c);c=a(2);var g=b(c);c=a(1);var h=b(c);c=a(4);c=b(c);var e=a(115);e=b(e);var k=a(16),p=b(k);k=a(28);var q=b(k);k=a(5);k=b(k);a=a(26);var u=b(a),r=(0,c.default)(),t=(0,c.default)(),y=(0,c.default)(),w=(0,c.default)();a=function(a){function b(c){(0,f.default)(this,b);return(0,g.default)(this,a.call(this,c))}(0,h.default)(b,a);b.prototype.load=function(b,c){this[w]=b;b=this.Nk.Ol(this[w]);if(n(this[w])){c=
this[t][this[w]]&&this[t][this[w]][c]&&this[t][this[w]][c].shift();if(c.calculated)return u.default.resolve(this.om({schema:{pods:[c]}}));b.schemaId=this[r];b.podId=c.id}return a.prototype.load.call(this,this.Ja.zx(),b).then(this.om.bind(this))};b.prototype.om=function(a,b){b&&(this[w]=b);a=a.schema||{};a.id&&(this[r]=a.id);b=a.pods||[];a=l.call(this,b);b=m.call(this,b);var c=this[y];this[y]=null;return{podSize:c,slots:a,timings:b}};return b}(e.default);d.default=a;a.O=[k.default.Pa,k.default.od,
k.default.ya]},function(c,d,a){var b=a(3)(b||{},{b:{jd:{},wa:{},M:{}},i:{},log:{},ka:{},Promise:{},g:{},A:{}});b.i=a(8).vdb.i;b.log=a(6).vdb.log;b.ka=a(22).vdb.ka;b.Promise=a(26).vdb.Promise;b.g=a(7).vdb.g;b.A=a(178).vdb.A;b.b.wa=a(28).vdb.b.wa;b.b.M=a(12).vdb.b.M;b.b.jd=b.i.Class.extend(function(){function a(a){return-1!==b.b.M.Oc(a||"").indexOf("konduit.me")}function c(a){var c=new b.ka;a.fj.then(function(b){try{a.rl.push(c),b.contentWindow.postMessage("getCookies","*")}catch(q){a.rl.shift(),c.resolve("")}},
function(){c.resolve("")});return c.fb()}function d(a){a.fj||(a.fj=new b.Promise(function(c,d){var e=b.g.createElement("iframe",{src:a.url,style:"visibility:hidden;display:none;width:1px;height:1px;font-size:0;position:fixed;top:0;left:0;"},window.document.body);e.onload=c.bind(null,e);e.onerror=d}))}function f(a){for(var b=0;b<h.length;b++){var c=h[b];if(-1!==a.indexOf(c.domain))return d(c),c}return null}var g=b.log.B("CookieShare"),h=[{domain:"advertising.com",fj:null,rl:[],url:"//video.adaptv.advertising.com/iframe.html"}];
return{L:function(){b.A.addEventListener(window,"message",function(a){if(a&&"object"===typeof a&&a.origin){var b=f(a.origin);if(b){a=a.data;var c;"string"===typeof a&&0===a.indexOf("cookies: ")&&(c=a.substr(9));c&&((b=b.rl.shift())?b.resolve(c):g.error("Nobody is waiting for message"))}}})},Tx:function(d){return a.call(this,d)&&(d=f(d))?c(d):b.Promise.resolve("")},tA:function(a,b){(b=f(b))&&b.fj.then(function(b){b.contentWindow.postMessage("setCookies:"+a,"*")})},Vz:function(c,d){var e;try{a.call(this,
d)&&(e=c.getResponseHeader("x-kme-set-cookie"))}catch(u){g.debug("Unable to read kme cookie")}if(e=e||"")for(c=e.split(","),e=0;e<c.length;e++){var f=b.b.wa.trim(c[e]||"");f&&this.tA(f,d)}}}}());d.vdb={b:{jd:b.b.jd}};d.default=b.b.jd;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(115);c=b(c);a=a(5);a=b(a);c=function(a){function b(c){(0,n.default)(this,b);
return(0,m.default)(this,a.call(this,c))}(0,l.default)(b,a);b.prototype.load=function(b){return a.prototype.load.call(this,this.Ja.yx(),this.Nk.Ex(b))};return b}(c.default);d.default=c;c.O=[a.default.Pa,a.default.od,a.default.ya]},function(c,d,a){var b=a(21),n=a(130),m=a(39),l=a(92);c.exports=function(a){b(b.Ib,a,{from:function(a,b,c){var d;n(this);(d=void 0!==b)&&n(b);if(void 0==a)return new this;var e=[];if(d){var f=0;var g=m(b,c,2);l(a,!1,function(a){e.push(g(a,f++))})}else l(a,!1,e.push,e);return new this(e)}})}},
function(c,d,a){a(342)("Map")},function(c,d,a){var b=a(21);c.exports=function(a){b(b.Ib,a,{of:function(){for(var a=arguments.length,b=Array(a);a--;)b[a]=arguments[a];return new this(b)}})}},function(c,d,a){a(344)("Map")},function(c,d,a){var b=a(92);c.exports=function(a,c){var d=[];b(a,!1,d.push,d,c);return d}},function(c,d,a){var b=a(99),n=a(346);c.exports=function(a){return function(){if(b(this)!=a)throw TypeError(a+"#toJSON isn't generic");return n(this)}}},function(c,d,a){c=a(21);c(c.ik+c.io,"Map",
{toJSON:a(347)("Map")})},function(c,d,a){var b=a(29),n=a(184),m=a(15)("species");c.exports=function(a){if(n(a)){var c=a.constructor;"function"!=typeof c||c!==Array&&!n(c.prototype)||(c=void 0);b(c)&&(c=c[m],null===c&&(c=void 0))}return void 0===c?Array:c}},function(c,d,a){var b=a(349);c.exports=function(a,c){return new (b(a))(c)}},function(c,d,a){var b=a(39),n=a(126),m=a(52),l=a(55),f=a(350);c.exports=function(a,c){var d=1==a,g=2==a,h=3==a,q=4==a,u=6==a,r=5==a||u,t=c||f;return function(c,e,f){var k=
m(c),p=n(k);e=b(e,f,3);f=l(p.length);var v=0;c=d?t(c,f):g?t(c,0):void 0;for(var w,y;f>v;v++)if(r||v in p)if(w=p[v],y=e(w,v,k),a)if(d)c[v]=y;else if(y)switch(a){case 3:return!0;case 5:return w;case 6:return v;case 2:c.push(w)}else if(q)return!1;return u?-1:h||q?q:c}}},function(c,d,a){var b=a(23),n=a(21),m=a(118),l=a(43),f=a(32),g=a(172),h=a(92),e=a(171),k=a(29),p=a(53),q=a(20).U,u=a(351)(0),r=a(24);c.exports=function(a,c,d,v,A,D){var t=b[a],w=t,y=A?"set":"add",B=w&&w.prototype,C={};r&&"function"==
typeof w&&(D||B.forEach&&!l(function(){(new w).entries().next()}))?(w=c(function(b,c){e(b,w,a,"_c");b.Wo=new t;void 0!=c&&h(c,A,b[y],b)}),u("add clear delete forEach get has set keys values entries toJSON".split(" "),function(a){var b="add"==a||"set"==a;a in B&&(!D||"clear"!=a)&&f(w.prototype,a,function(c,d){e(this,w,a);if(!b&&D&&!k(c))return"get"==a?void 0:!1;c=this.Wo[a](0===c?0:c,d);return b?this:c})}),D||q(w.prototype,"size",{get:function(){return this.Wo.size}})):(w=v.Qx(c,a,A,y),g(w.prototype,
d),m.Qn=!0);p(w,a);C[a]=w;n(n.Yj+n.xk+n.Sb,C);D||v.DA(w,a,A);return w}},function(c,d,a){var b=a(23),n=a(14),m=a(20),l=a(24),f=a(15)("species");c.exports=function(a){a="function"==typeof n[a]?n[a]:b[a];l&&a&&!a[f]&&m.U(a,f,{configurable:!0,get:function(){return this}})}},function(c,d,a){function b(a,b){var c=u(b);if("F"!==c)return a.lc[c];for(a=a.Gc;a;a=a.n)if(a.k==b)return a}var n=a(20).U,m=a(68),l=a(172),f=a(39),g=a(171),h=a(92),e=a(102),k=a(186),p=a(353),q=a(24),u=a(118).lx,r=a(170),t=q?"_s":"size";
c.exports={Qx:function(a,c,d,e){var k=a(function(a,b){g(a,k,c,"_i");a.nc=c;a.lc=m(null);a.Gc=void 0;a.Gd=void 0;a[t]=0;void 0!=b&&h(b,d,a[e],a)});l(k.prototype,{clear:function(){for(var a=r(this,c),b=a.lc,d=a.Gc;d;d=d.n)d.r=!0,d.p&&(d.p=d.p.n=void 0),delete b[d.qc];a.Gc=a.Gd=void 0;a[t]=0},"delete":function(a){var d=r(this,c);if(a=b(d,a)){var e=a.n,f=a.p;delete d.lc[a.qc];a.r=!0;f&&(f.n=e);e&&(e.p=f);d.Gc==a&&(d.Gc=e);d.Gd==a&&(d.Gd=f);d[t]--}return!!a},forEach:function(a){r(this,c);for(var b=f(a,
1<arguments.length?arguments[1]:void 0,3),d;d=d?d.n:this.Gc;)for(b(d.Zg,d.k,this);d&&d.r;)d=d.p},has:function(a){return!!b(r(this,c),a)}});q&&n(k.prototype,"size",{get:function(){return r(this,c)[t]}});return k},Vw:function(a,c,d){var e=b(a,c),f;e?e.Zg=d:(a.Gd=e={qc:f=u(c,!0),k:c,Zg:d,p:c=a.Gd,n:void 0,r:!1},a.Gc||(a.Gc=e),c&&(c.n=e),a[t]++,"F"!==f&&(a.lc[f]=e));return a},Zx:b,DA:function(a,b,c){e(a,b,function(a,c){this.nc=r(a,b);this.hg=c;this.Gd=void 0},function(){for(var a=this.hg,b=this.Gd;b&&
b.r;)b=b.p;return this.nc&&(this.Gd=b=b?b.n:this.nc.Gc)?"keys"==a?k(0,b.k):"values"==a?k(0,b.Zg):k(0,[b.k,b.Zg]):(this.nc=void 0,k(1))},c?"entries":"values",!c,!0);p(b)}}},function(c,d,a){var b=a(354),n=a(170);c.exports=a(352)("Map",function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},{get:function(a){return(a=b.Zx(n(this,"Map"),a))&&a.Zg},set:function(a,c){return b.Vw(n(this,"Map"),0===a?0:a,c)}},b,!0)},function(c,d,a){a(181);a(50);a(94);a(355);a(348);a(345);a(343);
c.exports=a(14).Map},function(c,d,a){c.exports={"default":a(356),__esModule:!0}},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(4);c=b(c);var m=a(357);m=b(m);var l=a(5);l=b(l);var f=a(96);f=b(f);var g=a(341),h=b(g);g=a(339);g=b(g);a=a(338);var e=new m.default([[f.default.pn,b(a).default],[f.default.qn,g.default]]),k=(0,c.default)();a=function(){function a(b){(0,n.default)(this,a);this[k]=b}a.prototype.cq=function(a){return new (e.get(a)||
h.default)(this[k])};return a}();d.default=a;a.O=[l.default.Pa,l.default.od,l.default.ya]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(7);var f=b(c);c=a(6);c=b(c);var g=a(174);g=b(g);a=a(173);var h=b(a),e=c.default.B("OverlayAdConfigEntry");a=function(a){function b(){(0,n.default)(this,b);var c=(0,m.default)(this,a.call(this));c.Yc=null;return c}(0,l.default)(b,a);b.prototype.clone=
function(){var a=new b;f.default.Ua(this,a);return a};b.prototype.parse=function(b,c){a.prototype.parse.call(this,b,c);b=b.slot||b||{};e.debug("parse, slot:",b);this.Yc=new h.default;this.Yc.hq=b.delay||1;this.Yc.width=b.width;this.Yc.height=b.height;this.Yc.lr=b.maxShowTime||this.Ia.maxLinearShowTime||Number.POSITIVE_INFINITY;this.Yc.position=b.position||h.default.Zn;e.debug("slotInfo",this.Yc);b=this.Yc.position;c=-1!==[h.default.Yn,h.default.Zn,h.default.$n,h.default.ao,h.default.bo].indexOf(b);
e.debug("position support:",b,c);if(!c)throw Error("Bad overlay slot position: "+b);return this};return b}(g.default);d.default=a},function(c,d,a){var b=a(3)(b||{},{Df:{nh:{}},i:{},log:{},Sa:{},g:{}});b.i=a(8).vdb.i;b.log=a(6).vdb.log;b.Sa=a(35).vdb.Sa;b.g=a(7).vdb.g;b.Df.nh=b.i.Class.extend(function(){var a=b.log.B("AEG Overrider");return{L:function(b){a.debug("init");this.sp={$r:{}};this.Ec=[];this.ig=b},Df:function(a){if(b.g.Wc(this.ig))return a;this.Ec=a;if(Array.isArray(this.Ec)){this.ig.vendor||
(this.ig.vendor=b.Sa["aeg.default_vendor"]);0<this.Ec.length&&0<this.Ec[0].length?(a=this.Ec[0][0],delete a.url,delete a.vastXml,this.Ec[0][0]=b.g.extend(a,this.ig)):(this.Ec[0]=[],this.Ec[0].push(this.ig));var c=this.Ec}return c}}}());d.vdb={Df:{nh:b.Df.nh}};d.default=b.Df.nh;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(4);c=b(c);var m=a(360),l=b(m);m=a(176);var f=b(m);m=a(5);var g=b(m);
m=a(7);var h=b(m);m=a(6);m=b(m);a=a(175);var e=b(a),k=(0,c.default)(),p=(0,c.default)(),q=(0,c.default)(),u=m.default.B("EntriesServerResponseParser");a=function(){function a(b){(0,n.default)(this,a);this[p]=b[g.default.P];this[q]=b[g.default.Pa];this[k]=b[g.default.nb]}a.prototype.parse=function(a,b){var c=this,d=this[p].aj().aegOverride,g=new l.default(this[p].py(f.default.bh));if(!h.default.Kg(a))throw Error("Received bad source "+a);var m=[];(a.slots||(a.aeg?[a]:[])).forEach(function(f){var h=
f.aeg||[];d&&d.type.toLowerCase()===b&&(h=g.Df(h));c[p].mA({audiences:[],utid:a.apid});var l=[];h.forEach(function(d){var g=[];d.forEach(function(d){try{if(!d.type){var h=f.type&&f.type.toLowerCase();d.type=h?h.charAt(0).toUpperCase()+h.slice(1):b}d.transactionId=a.txid;d.adxResult=a.adxResult;d.usid=a.usid;d.auid=a.auid;c[p].$q()&&(d.usesShim=!0);var l=e.default.parse(d,c[k]);g.push(l)}catch(Q){u.error("Error in entry parsing logic: "+Q.message)}});l.push(g)});m.push(l)});return{lf:m,source:a}};
return a}();d.default=a;a.O=[g.default.P,g.default.nb]},function(c,d,a){var b=a(3)(b||{},{fe:{},Bb:{},log:{}});b.Bb=a(17).vdb.Bb;b.log=a(6).vdb.log;b.fe=b.Bb.extend(function(){function a(a,b){this.cf.warn("Unable to release",a,"(Reason: "+b+")")}return{L:function(a,c){this._super();this.cf=b.log.B(c||"Pool");if(a)for(this.jc=a.concat(),this.cf.debug("Register",this.jc),a=(new Date).getTime(),c=0;c<this.jc.length;c++)this.jc[c]&&(this.jc[c].pe=a+"_"+c)},getEntries:function(){return this.jc||[]},size:function(){return this.jc.length},
Wc:function(){return 0===this.size()},addEventListener:function(a,c){this._super(a,c);a===b.fe.Event.jo&&this.Wc()&&this.lp(a,[this],c)},release:function(c){if(c)if(c.pe){for(var d=0;d<this.jc.length;d++)if(this.jc[d].pe===c.pe){c=this.jc.splice(d,1);this.cf.debug("Released",c,"pool",this.jc);this.Wc()&&this.dispatchEvent(b.fe.Event.jo,this);return}a.call(this,c,"not found")}else a.call(this,c,"entry w/o pool key");else a.call(this,c,"invalid entry value")}}}());b.fe.Event={jo:"Pool.Released.All"};
d.vdb={fe:b.fe};d.default=b.fe;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];D.debug("init ad pools with ad groups",b);this[x]=[];b.forEach(function(b){var c=[];b.forEach(function(a){var b=new r.default(a);b.fd="aem_"+Q++;a.forEach(function(a){return a.fd=b.fd});c.push(b)});a[x].push(c)});D.debug("Created Ad Pools",this[x])}function m(){this[x]=this[x].filter(function(a){return 0<
a.length});for(var a=0;a<this[x].length;a++)this[x][a]=this[x][a].filter(function(a){return 0<a.size()})}function l(){var a=this;this[x]=this[x].filter(function(a){return 0<a.length});for(var b=0;b<this[x].length;b++)this[x][b]=this[x][b].filter(function(b){return 0<b.getEntries().filter(function(b){return!a[C][b&&b.fd&&b.pe?b.fd+"."+b.pe:null]}).length})}function f(a){n.call(this);this[B].dispatchEvent(new y.default(y.default.ae,{error:a,ac:v.default.xs}))}function g(a,b){var c=this;this[x]=[];this[B].dispatchEvent(new y.default(y.default.LOADING,
{lf:this[z].we,mf:this[z].mf,type:a}));this[H].load(a,b).then(function(b){return h.call(c,b,a)},f.bind(this))}function h(a,b){try{var c=this[E].parse(a,b),d=new y.default(y.default.LOADED,c,b,a&&a.timings,a&&a.podSize);n.call(this,d.data.lf);this[B].dispatchEvent(d)}catch(V){f.call(this)}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var e=b(c);c=a(4);c=b(c);var k=a(96),p=b(k);k=a(5);var q=b(k);k=a(6);k=b(k);var u=a(362),r=b(u);u=a(44);var t=b(u);u=a(67);var y=b(u);u=a(361);var w=b(u);u=
a(19);var v=b(u);a=a(358);var A=b(a),D=k.default.B("AdEntriesManager"),x=(0,c.default)(),z=(0,c.default)(),G=(0,c.default)(),B=(0,c.default)(),C=(0,c.default)(),H=(0,c.default)(),F=(0,c.default)(),E=(0,c.default)(),Q=1;a=function(){function a(b){(0,e.default)(this,a);this[B]=b[q.default.ua];this[z]=b[q.default.nb];this[G]=b[q.default.P];this[F]=b[A.default];this[E]=b[w.default];this[H]=this[F].cq(this[z].mf);this[x]=[];this[C]={}}a.prototype.release=function(a){if(!(this[z].we&&0<this[z].we.length)){for(var b=
0;b<this[x].length;b++){for(var c=this[x][b],d=0;d<c.length;d++){var e=c[d];if(e.fd===a.fd){e.release(a);0===e.size()&&(D.debug("Remove empty pool",e),c.splice(d,1));return}}0===c.length&&(D.debug("Remove empty ad pools",c),this[x].splice(b,1))}D.warn("Unable to release entry because pool doesn't exist",a,this[x])}};a.prototype.Kr=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this[B].dispatchEvent(new t.default(t.default.Xm,{type:a}));var d=this[G].aj().aegOverride;
this[z].we&&0<this[z].we.length?(c=new y.default(y.default.LOADED,{lf:[this[z].we]},a),n.call(this,c.data.lf),this[B].dispatchEvent(c)):c?c.schema?(this[z].mf=p.default.qn,this[H]=this[F].cq(this[z].mf),h.call(this,this[H].om(c,a),a)):h.call(this,c,a):d&&d.replace?h.call(this,{aeg:[]},a):(D.debug("receive ad entries"),g.call(this,a,b))};a.prototype.kr=function(a){(a=a&&a.fd&&a.pe?a.fd+"."+a.pe:null)&&(this[C][a]=a)};a.prototype.Ag=function(a){m.call(this);l.call(this);var b=(this[x][0]||[]).filter(function(b){return b.getEntries().filter(function(b){return b.Zp(a)})});
return b[0]&&b[0].getEntries()||[]};a.prototype.nA=function(a){n.call(this,[a])};return a}();d.default=a;a.O=[q.default.ua,q.default.nb,q.default.ya,q.default.P,A.default,w.default]},function(c,d,a){var b=a(3)(b||{},{W:{Ac:{},Fb:{}}});b.W.Fb=a(177).vdb.W.Fb;b.W.Ac=b.W.Fb.extend(function(){return{Jk:function(){for(var a={},b,c=0;c<this.gi.length;++c)a[this.gi[c]]=arguments[c];try{b=new this.qp(a),b.Bg?b.Bg().then(function(){this.bf().resolve(b)}.bind(this)):this.bf().resolve(b)}catch(f){this.bf().reject(f)}}}}());
d.vdb={W:{Ac:b.W.Ac}};d.default=b.W.Ac;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{f:{ph:{}}});b.f.ph={Pt:"NO_ADS",zs:"AD_GROUP_FAILED"};d.vdb={f:{ph:b.f.ph}};d.default=b.f.ph;d.__esModule=!0},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}function n(a){a=new a(this,this[oa],this[na]);this[Xa][a.getType()]=a}function m(a){var b=this;fa.debug("prepareAdConfig",a);return a.filter(function(a){return a.Zp(b[Z])}).map(function(a){return a.ma(b.Qc(),b[Z])})}function l(a,b,c){fa.debug("resumePlayer");
clearTimeout(this[Ya]);this[X]=0;this[I].reset();this[ya].S();this[qa]=this[oa].Kc;if(this[Z]===C.default.Qa||this[Z]===C.default.gc)a={adPodsPlayed:this[Pa],engineErrors:b,reason:a,vastError:c},this[cb]?(this.dispatchEvent(new ea.default(ea.default.vc,this[Z],a)),this[cb]=!1):this.dispatchEvent(new ea.default(ea.default.Ds,this[Z],a))}function f(){var a=this[ra].Ag(this[Z]);a=m.call(this,a);this[ma]=a;fa.debug("onAdEntriesReceived",a);0<a.length?this[I].hz()?this.zm():(this[I].reset(),this[I].load(a,
this.zm.bind(this))):l.call(this)}function g(a,b,c){fa.debug("runNextOrResume");if(this[Z]!==C.default.qb&&0<this[qa]&&this.am()&&this[La])a=this[ra].Ag(this[Z]),fa.debug("runWaterfall",a),a.length?f.call(this,{entries:a}):(this[La]=!1,K.default.group(K.default.qa(this[xa],Va.default.ae,f.bind(this)),K.default.qa(this[xa],Va.default.LOADED,f.bind(this))),this[ra].Kr(this[Z]));else{if(this[ja])this[ja](a?{Ri:b,error:a,ac:c}:void 0);l.call(this,a,b,c)}}function h(a){fa.debug("runnerCompleteHandler",
a);if(a&&a.data&&a.data.error){var b=a.data.error,c=a.data.Ri;a=a.data.ac;var d=this[ra].Ag(this[Z]);this[ma]=m.call(this,d);this[I].reset();fa.warn("on ad group failed:",b,this[ma]);this[ma].length&&this.am()&&this[Na].Ae()!==P.default.Oh?(b=this[ja]||this[I].tc.bind(this[I]),this[I].load(this[ma],b)):g.call(this,G.default.zs,c,a)}else this[La]=!0,--this[qa],g.call(this)}function e(){this.dispatchEvent(new ea.default(ea.default.vc,this[Z]))}function k(){this.stop();l.call(this)}function p(a){a.data.isLinear||
(1>=this.hy()?this.dispatchEvent(ea.default.bd,a):this.Jz())}function q(a){this[ha]=a.data.muted?0:a.data.volume}function u(a){this[ib]=a.la()}function r(){clearTimeout(this[Ya]);this[Pa]+=1}function t(){this[X]+=1}function y(a,b){var c=this[ra].Ag(this[Z]);fa.debug("onAdsLoaded",c);this[Ga]=b.Dy();var d=b.vy();d&&(this[oa].Kc=d,this[qa]=this[oa].Kc);this[nb]=0;this[Pa]=0;this[ma]=m.call(this,c||[]);this[va]&&this[va].pause();a&&a({lf:b.data.lf,entries:this[ma],rG:this[Ga],ac:b.data.ac})}function w(a){a.pid&&
this[Na].AA(a.pid);a.bcid&&this[Na].rA(a.bcid);a.vid&&this[da].vA(a.vid)}Object.defineProperty(d,"__esModule",{value:!0});var v=a(0),A=b(v),D=a(4),x=b(D),z=a(365),G=b(z),B=a(16),C=b(B),H=a(5),F=b(H),E=a(18),Q=b(E),R=a(9),K=b(R),M=a(116),N=b(M),V=a(45),O=b(V),W=a(6),J=b(W),T=a(38),P=b(T),ia=a(97),S=b(ia),ba=a(44),L=b(ba),aa=a(363),ca=b(aa),Sa=a(10),ea=b(Sa),Y=a(337),pb=b(Y),Ha=a(64),$a=b(Ha),Ma=a(333),tb=b(Ma),Da=a(332),kb=b(Da),ab=a(330),Ua=b(ab),za=a(67),Va=b(za),ub=a(259),lb=b(ub),Ta=a(254),vb=
b(Ta),la=a(252),wb=b(la),Oa=a(248),xb=b(Oa),yb=a(244),zb=b(yb),sb=a(242),fb=b(sb),qb=a(240),Ab=b(qb),Ea=a(112),mb=b(Ea),rb=a(239),Bb=b(rb),ib=(0,x.default)(),na=(0,x.default)(),Xa=(0,x.default)(),Ya=(0,x.default)(),ra=(0,x.default)(),nb=(0,x.default)(),U=(0,x.default)(),oa=(0,x.default)(),qa=(0,x.default)(),X=(0,x.default)(),Pa=(0,x.default)(),I=(0,x.default)(),cb=(0,x.default)(),Na=(0,x.default)(),xa=(0,x.default)(),ya=(0,x.default)(),ob=(0,x.default)(),La=(0,x.default)(),wa=(0,x.default)(),ma=(0,
x.default)(),va=(0,x.default)(),Ka=(0,x.default)(),Aa=(0,x.default)(),ja=(0,x.default)(),bb=(0,x.default)(),Fa=(0,x.default)(),Z=(0,x.default)(),ha=(0,x.default)(),Ga=(0,x.default)(),Ca=(0,x.default)(),ta=(0,x.default)(),da=(0,x.default)(),fa=J.default.B("AdSystem"),db=function(){function a(b){(0,A.default)(this,a);this[na]={Jc:b[F.default.va],Qz:b[F.default.va]};this[Ca]=b[F.default.Nj];this[Na]=b[F.default.P];this[wa]=b[O.default.pb];this[oa]=b[F.default.nb];this[xa]=b[F.default.ua];this[ra]=b[ca.default];
this[Fa]=b[F.default.mk];this[da]=b[F.default.ja];this[qa]=0;this[X]=0;this[nb]=0;this[bb]=0;this[ha]=0;this[Pa]=0;this[Xa]={};this[La]=!1;this[ob]=!1;this[ya]=new N.default;this[ma]=[];this[wa].Ob(F.default.cc,this[na].Jc);this[wa].ca(F.default.Xj,lb.default);this[wa].ca(F.default.no,fb.default);this[wa].ca(F.default.Hn,xb.default);this[wa].ca(F.default.wn,vb.default);this[Na].Uy()||(0,Ab.default)();fa.debug("setup");this.addEventListener(ea.default.zc,t.bind(this));this.addEventListener(ea.default.sa,
r.bind(this));this.addEventListener(ea.default.$m,this.Da.bind(this));this.addEventListener(ea.default.dh,u.bind(this));this.addEventListener(ea.default.$d,q.bind(this));this.addEventListener($a.default.LINEAR_CHANGE,p.bind(this));this[Ca].qA(this[oa]);this[Ca].ww();this[U]=new tb.default(this);this[I]=new kb.default(this,this[ra]);this[I].setVolume(this[ha]);this[I].addEventListener(Q.default.Ha,h.bind(this));this[qa]=this[oa].Kc;n.call(this,mb.default);n.call(this,Ua.default);n.call(this,wb.default);
n.call(this,zb.default);n.call(this,Bb.default)}a.prototype.load=function(a,b){this.sz(a,this.vz.bind(this,null,b))};a.prototype.vz=function(a,b){var c=this;this[va]&&this[va].resume();this[ta]=b;a&&(this[ra].nA(a),this[ma]=m.call(this,this[ra].Ag(this[Z])));this[ja]||(this[ja]=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(c[ta])c[ta](a);c[ja]=null;c[ta]=null});if(0<this[ma].length)this[I].load(this[ma],this[ja]);else if(this[ja])this[ja]()};a.prototype.sz=function(a,
b){var c=this;a=a||{};fa.debug("Load ads",a);this[ja]=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c[va]&&c[va].il();a.timings=c[Ga];if(c[ta])c[ta](a);c[ja]=null;c[ta]=null};a.type||(a.type=C.default.Qa);this[Z]=a.type;this[ma]=[];this[Z]===C.default.Qa&&0!==this[bb]++%this[oa].rw?b():(a.preloadedConfig&&w.call(this,a.preloadedConfig),K.default.group(K.default.qa(this[xa],Va.default.ae,y.bind(this,b)),K.default.qa(this[xa],Va.default.LOADED,y.bind(this,b))),this[ra].Kr(this[Z],
a.originalTime,a.preloadedConfig),clearTimeout(this[Ya]),clearTimeout(this[va]),b=this[oa].Az,0<b&&(this[Ya]=setTimeout(k.bind(this),b)),a.loadTimeLimit&&this[Z]===C.default.Qa&&(this[va]=new S.default(e.bind(this),a.loadTimeLimit,!0)),a=this[oa].Hw,this[Na].Hm(a),a&&this[wa].resolve(F.default.Xj))};a.prototype.zm=function(){fa.info("Start ads",this[ma],"of type",this[Z]);this[cb]=!0;if(0<this[ma].length){fa.debug("blockPlayer");if(this[Z]===C.default.Qa||this[Z]===C.default.gc)this.dispatchEvent(new ea.default(ea.default.Lm,
this[Z])),this[ya].Kb(K.default.qa(this,ea.default.sa,this.dispatchEvent.bind(this,new ea.default(ea.default.Mm,this[Z]))));this[I].tc()}else fa.info("No ads to start - resume content"),l.call(this,G.default.Pt)};a.prototype.zr=function(){fa.debug("Pause Ads");this[I].pause()};a.prototype.isPlaying=function(){return!this[I].Zb()};a.prototype.lA=function(){fa.debug("Resume Ads");this[I].resume()};a.prototype.setVolume=function(a){fa.debug("Set Volume",a);this[ha]=a;this[I].setVolume(this[ha])};a.prototype.mute=
function(a){fa.debug("Mute");a?(this[Aa]=this[ha],this.setVolume(0)):0<this[Aa]?this.setVolume(this[Aa]):0===this[ha]&&this.setVolume(1)};a.prototype.isMuted=function(){return!this[ha]};a.prototype.getDuration=function(){return this[I].getDuration()};a.prototype.eb=function(){return this[I].eb()};a.prototype.getAdSkippableState=function(){return this[I].getAdSkippableState()};a.prototype.getVolume=function(){return this[ha]};a.prototype.Ox=function(){return this.Ld().cb};a.prototype.Sc=function(){return this[I].Sc()};
a.prototype.Aa=function(){return this[I].Aa()};a.prototype.stop=function(){fa.debug("stop");this[ja]=null;this[ta]=null;this[I]&&this[I].stop()};a.prototype.Da=function(){fa.debug("skip");this.dispatchEvent(new L.default(L.default.Ya,{Wp:"skipAhead"}));this[I].Da();this.dispatchEvent(new ea.default(ea.default.Pf,this[Z]))};a.prototype.Qc=function(){this[Ka]||(this[Ka]=new pb.default(this,this[oa]));return this[Ka]};a.prototype.Jz=function(){this[I].stop();h.call(this)};a.prototype.hy=function(){return this[qa]};
a.prototype.Dx=function(){return this[X]};a.prototype.Ld=function(){return this[oa]};a.prototype.tx=function(a){return this[Xa][a]};a.prototype.am=function(){return this[Pa]<this[oa].Kc};a.prototype.zg=function(){return this[na]};a.prototype.resize=function(){this.dispatchEvent($a.default.Se)};a.prototype.ia=function(){return this[wa]};a.prototype.la=function(){return this[ib]};a.prototype.getTimeLog=function(){return this[U].ky()};a.prototype.addEventListener=function(a,b,c){this[xa].addEventListener(a,
b,c)};a.prototype.removeEventListener=function(a,b){this[xa].removeEventListener(a,b)};a.prototype.dispatchEvent=function(){this[xa].dispatchEvent.apply(this[xa],arguments)};a.prototype.invokeAdMethod=function(a,b){this.dispatchEvent($a.default.Kn,{data:b,name:a})};a.prototype.getAdCompanions=function(){return this[I].getAdCompanions()};a.prototype.getCurrentTime=function(){return this[I].getCurrentTime()};return a}();d.default=db;db.O=[O.default.pb,F.default.Nj,F.default.P,F.default.ua,F.default.nb,
F.default.va,F.default.Uf,F.default.Pa,F.default.ya,F.default.dc,F.default.od,F.default.Db,F.default.Ta,F.default.Hb,F.default.mk,F.default.ja,ca.default]},function(c,d,a){var b=a(3)(b||{},{b:{Sd:{}}});b.b.Sd=function(){return{hash:function(a){function b(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535}function c(a,c,d,f,g,h){a=b(b(c,a),b(f,h));return b(a<<g|a>>>32-g,d)}function d(a,b,d,f,g,h,l){return c(b&d|~b&f,a,b,g,h,l)}function g(a,b,d,f,g,h,l){return c(b&f|d&~f,a,b,g,
h,l)}function h(a,b,d,f,g,h,l){return c(d^(b|~f),a,b,g,h,l)}return function(a){for(var b="",c,d=0;d<a.length;d++)c=a.charCodeAt(d),b+="0123456789abcdef".charAt(c>>>4&15)+"0123456789abcdef".charAt(c&15);return b}(function(a){var e=Array(a.length>>2),f;for(f=0;f<e.length;f++)e[f]=0;for(f=0;f<8*a.length;f+=8)e[f>>5]|=(a.charCodeAt(f/8)&255)<<f%32;a=8*a.length;e[a>>5]|=128<<a%32;e[(a+64>>>9<<4)+14]=a;a=1732584193;f=-271733879;for(var l=-1732584194,m=271733878,n=0;n<e.length;n+=16){var t=a,y=f,w=l,v=m;
a=d(a,f,l,m,e[n+0],7,-680876936);m=d(m,a,f,l,e[n+1],12,-389564586);l=d(l,m,a,f,e[n+2],17,606105819);f=d(f,l,m,a,e[n+3],22,-1044525330);a=d(a,f,l,m,e[n+4],7,-176418897);m=d(m,a,f,l,e[n+5],12,1200080426);l=d(l,m,a,f,e[n+6],17,-1473231341);f=d(f,l,m,a,e[n+7],22,-45705983);a=d(a,f,l,m,e[n+8],7,1770035416);m=d(m,a,f,l,e[n+9],12,-1958414417);l=d(l,m,a,f,e[n+10],17,-42063);f=d(f,l,m,a,e[n+11],22,-1990404162);a=d(a,f,l,m,e[n+12],7,1804603682);m=d(m,a,f,l,e[n+13],12,-40341101);l=d(l,m,a,f,e[n+14],17,-1502002290);
f=d(f,l,m,a,e[n+15],22,1236535329);a=g(a,f,l,m,e[n+1],5,-165796510);m=g(m,a,f,l,e[n+6],9,-1069501632);l=g(l,m,a,f,e[n+11],14,643717713);f=g(f,l,m,a,e[n+0],20,-373897302);a=g(a,f,l,m,e[n+5],5,-701558691);m=g(m,a,f,l,e[n+10],9,38016083);l=g(l,m,a,f,e[n+15],14,-660478335);f=g(f,l,m,a,e[n+4],20,-405537848);a=g(a,f,l,m,e[n+9],5,568446438);m=g(m,a,f,l,e[n+14],9,-1019803690);l=g(l,m,a,f,e[n+3],14,-187363961);f=g(f,l,m,a,e[n+8],20,1163531501);a=g(a,f,l,m,e[n+13],5,-1444681467);m=g(m,a,f,l,e[n+2],9,-51403784);
l=g(l,m,a,f,e[n+7],14,1735328473);f=g(f,l,m,a,e[n+12],20,-1926607734);a=c(f^l^m,a,f,e[n+5],4,-378558);m=c(a^f^l,m,a,e[n+8],11,-2022574463);l=c(m^a^f,l,m,e[n+11],16,1839030562);f=c(l^m^a,f,l,e[n+14],23,-35309556);a=c(f^l^m,a,f,e[n+1],4,-1530992060);m=c(a^f^l,m,a,e[n+4],11,1272893353);l=c(m^a^f,l,m,e[n+7],16,-155497632);f=c(l^m^a,f,l,e[n+10],23,-1094730640);a=c(f^l^m,a,f,e[n+13],4,681279174);m=c(a^f^l,m,a,e[n+0],11,-358537222);l=c(m^a^f,l,m,e[n+3],16,-722521979);f=c(l^m^a,f,l,e[n+6],23,76029189);a=
c(f^l^m,a,f,e[n+9],4,-640364487);m=c(a^f^l,m,a,e[n+12],11,-421815835);l=c(m^a^f,l,m,e[n+15],16,530742520);f=c(l^m^a,f,l,e[n+2],23,-995338651);a=h(a,f,l,m,e[n+0],6,-198630844);m=h(m,a,f,l,e[n+7],10,1126891415);l=h(l,m,a,f,e[n+14],15,-1416354905);f=h(f,l,m,a,e[n+5],21,-57434055);a=h(a,f,l,m,e[n+12],6,1700485571);m=h(m,a,f,l,e[n+3],10,-1894986606);l=h(l,m,a,f,e[n+10],15,-1051523);f=h(f,l,m,a,e[n+1],21,-2054922799);a=h(a,f,l,m,e[n+8],6,1873313359);m=h(m,a,f,l,e[n+15],10,-30611744);l=h(l,m,a,f,e[n+6],
15,-1560198380);f=h(f,l,m,a,e[n+13],21,1309151649);a=h(a,f,l,m,e[n+4],6,-145523070);m=h(m,a,f,l,e[n+11],10,-1120210379);l=h(l,m,a,f,e[n+2],15,718787259);f=h(f,l,m,a,e[n+9],21,-343485551);a=b(a,t);f=b(f,y);l=b(l,w);m=b(m,v)}e=[a,f,l,m];a="";for(f=0;f<32*e.length;f+=8)a+=String.fromCharCode(e[f>>5]>>>f%32&255);return a}(function(a){for(var b="",c=-1,d,f;++c<a.length;)d=a.charCodeAt(c),f=c+1<a.length?a.charCodeAt(c+1):0,55296<=d&&56319>=d&&56320<=f&&57343>=f&&(d=65536+((d&1023)<<10)+(f&1023),c++),127>=
d?b+=String.fromCharCode(d):2047>=d?b+=String.fromCharCode(192|d>>>6&31,128|d&63):65535>=d?b+=String.fromCharCode(224|d>>>12&15,128|d>>>6&63,128|d&63):2097151>=d&&(b+=String.fromCharCode(240|d>>>18&7,128|d>>>12&63,128|d>>>6&63,128|d&63));return b}(a)))}}}();d.vdb={b:{Sd:b.b.Sd}};d.default=b.b.Sd;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{f:{qd:{}}});b.f.qd={Gt:"ios",wB:"android",AC:"mac"};d.vdb={f:{qd:b.f.qd}};d.default=b.f.qd;d.__esModule=!0},function(c,d,a){c=a(3);var b=c(b||{},{nd:{}});
b=c(a(30).vdb,b||{});b.nd={sn:"DEBUG",Gn:"INFO",Oo:"WARN",Ea:"ERROR"};d.vdb={nd:b.nd};d.default=b.nd;d.__esModule=!0},function(c,d,a){var b=a(31),n=a(98);c.exports=a(14).ME=function(a){var c=n(a);if("function"!=typeof c)throw TypeError(a+" is not iterable!");return b(c.call(a))}},function(c,d,a){a(94);a(50);c.exports=a(370)},function(c,d,a){c.exports={"default":a(371),__esModule:!0}},function(c,d,a){var b=a(99),n=a(15)("iterator"),m=a(42);c.exports=a(14).yF=function(a){a=Object(a);return void 0!==
a[n]||"@@iterator"in a||m.hasOwnProperty(b(a))}},function(c,d,a){a(94);a(50);c.exports=a(373)},function(c,d,a){c.exports={"default":a(374),__esModule:!0}},function(c,d,a){c=a(21);c(c.Ib,"Object",{create:a(68)})},function(c,d,a){a(376);var b=a(14).Object;c.exports=function(a,c){return b.create(a,c)}},function(c,d,a){c.exports={"default":a(377),__esModule:!0}},function(c,d,a){function b(a,b){m(a);if(!n(b)&&null!==b)throw TypeError(b+": can't set as prototype!");}var n=a(29),m=a(31);c.exports={set:Object.setPrototypeOf||
("__proto__"in{}?function(c,d,g){try{g=a(39)(Function.call,a(182).U(Object.prototype,"__proto__").set,2),g(c,[]),d=!(c instanceof Array)}catch(h){d=!0}return function(a,c){b(a,c);d?a.__proto__=c:g(a,c);return a}}({},!1):void 0),check:b}},function(c,d,a){c=a(21);c(c.Ib,"Object",{setPrototypeOf:a(379).set})},function(c,d,a){a(380);c.exports=a(14).Object.setPrototypeOf},function(c,d,a){c.exports={"default":a(381),__esModule:!0}},function(c,d,a){a(117)("observable")},function(c,d,a){a(117)("asyncIterator")},
function(c,d,a){var b=a(40),n=a(183).U,m={}.toString,l="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.U=function(a){if(l&&"[object Window]"==m.call(a))try{var c=n(a)}catch(h){c=l.slice()}else c=n(b(a));return c}},function(c,d,a){var b=a(51),n=a(185),m=a(100);c.exports=function(a){var c=b(a),d=n.U;if(d){d=d(a);for(var h=m.U,e=0,k;d.length>e;)h.call(a,k=d[e++])&&c.push(k)}return c}},function(c,d,a){function b(a){var b=a===aa;a=V(b?L:B(a));
for(var c=[],d=0,f;a.length>d;)e(ba,f=a[d++])&&(b?e(aa,f):1)&&c.push(ba[f]);return c}function n(a){a=V(B(a));for(var b=[],c=0,d;a.length>c;)e(ba,d=a[c++])||d==T||d==q||b.push(d);return b}function m(a,b){a=B(a);b=C(b,!0);if(a!==aa||!e(ba,b)||e(L,b)){var c=M(a,b);!c||!e(ba,b)||e(a,T)&&a[T][b]||(c.enumerable=!0);return c}}function l(a){var b=ia.call(this,a=C(a,!0));return this===aa&&e(ba,a)&&!e(L,a)?!1:b||!e(this,a)||!e(ba,a)||e(this,T)&&this[T][a]?b:!0}function f(a,b){z(a);for(var c=D(b=B(b)),d=0,f=
c.length,e;f>d;)g(a,e=c[d++],b[e]);return a}function g(a,b,c){a===aa&&g(L,b,c);z(a);b=C(b,!0);z(c);return e(ba,b)?(c.enumerable?(e(a,T)&&a[T][b]&&(a[T][b]=!1),c=F(c,{enumerable:H(0,!1)})):(e(a,T)||N(a,T,H(1,{})),a[T][b]=!0),ea(a,b,c)):N(a,b,c)}function h(a){var b=ba[a]=F(O.prototype);b.hg=a;return b}c=a(23);var e=a(36),k=a(24);d=a(21);var p=a(128),q=a(118).It,u=a(43),r=a(74),t=a(53),y=a(54),w=a(15),v=a(119),A=a(117),D=a(386),x=a(184),z=a(31),G=a(29),B=a(40),C=a(101),H=a(46),F=a(68),E=a(385),Q=a(182),
R=a(20),K=a(51),M=Q.U,N=R.U,V=E.U,O=c.Symbol,W=c.JSON,J=W&&W.stringify,T=w("_hidden"),P=w("toPrimitive"),ia={}.propertyIsEnumerable,S=r("symbol-registry"),ba=r("symbols"),L=r("op-symbols"),aa=Object.prototype;r="function"==typeof O;var ca=c.ZC,Sa=!ca||!ca.prototype||!ca.prototype.wE,ea=k&&u(function(){return 7!=F(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=M(aa,b);d&&delete aa[b];N(a,b,c);d&&a!==aa&&N(aa,b,d)}:N,Y=r&&"symbol"==typeof O.iterator?function(a){return"symbol"==
typeof a}:function(a){return a instanceof O};r||(O=function(){function a(c){this===aa&&a.call(L,c);e(this,T)&&e(this[T],b)&&(this[T][b]=!1);ea(this,b,H(1,c))}if(this instanceof O)throw TypeError("Symbol is not a constructor!");var b=y(0<arguments.length?arguments[0]:void 0);k&&Sa&&ea(aa,b,{configurable:!0,set:a});return h(b)},p(O.prototype,"toString",function(){return this.hg}),Q.U=m,R.U=g,a(183).U=E.U=n,a(100).U=l,a(185).U=b,k&&!a(56)&&p(aa,"propertyIsEnumerable",l,!0),v.U=function(a){return h(w(a))});
d(d.Yj+d.xk+d.Sb*!r,{Symbol:O});p="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" ");for(v=0;p.length>v;)w(p[v++]);K=K(w.store);for(p=0;K.length>p;)A(K[p++]);d(d.Ib+d.Sb*!r,"Symbol",{"for":function(a){return e(S,a+="")?S[a]:S[a]=O(a)},keyFor:function(a){if(!Y(a))throw TypeError(a+" is not a symbol!");for(var b in S)if(S[b]===a)return b},BG:function(){Sa=!0},CG:function(){Sa=!1}});d(d.Ib+d.Sb*!r,"Object",{create:function(a,b){return void 0===
b?F(a):f(F(a),b)},defineProperty:g,defineProperties:f,getOwnPropertyDescriptor:m,getOwnPropertyNames:n,getOwnPropertySymbols:b});W&&d(d.Ib+d.Sb*(!r||u(function(){var a=O();return"[null]"!=J([a])||"{}"!=J({a:a})||"{}"!=J(Object(a))})),"JSON",{stringify:function(a){for(var b=[a],c=1,d;arguments.length>c;)b.push(arguments[c++]);d=c=b[1];if((G(c)||void 0!==a)&&!Y(a))return x(c)||(c=function(a,b){"function"==typeof d&&(b=d.call(this,a,b));if(!Y(b))return b}),b[1]=c,J.apply(W,b)}});O.prototype[P]||a(32)(O.prototype,
P,O.prototype.valueOf);t(O,"Symbol");t(Math,"Math",!0);t(c.JSON,"JSON",!0)},function(c,d,a){a(387);a(181);a(384);a(383);c.exports=a(14).Symbol},function(c){c.exports=function(){}},function(c,d,a){d=a(389);var b=a(186),n=a(42),m=a(40);c.exports=a(102)(Array,"Array",function(a,b){this.nc=m(a);this.lc=0;this.hg=b},function(){var a=this.nc,c=this.hg,d=this.lc++;return!a||d>=a.length?(this.nc=void 0,b(1)):"keys"==c?b(0,d):"values"==c?b(0,a[d]):b(0,[d,a[d]])},"values");n.Arguments=n.Array;d("keys");d("values");
d("entries")},function(c,d,a){a(50);a(94);c.exports=a(119).U("iterator")},function(c,d,a){c.exports={"default":a(391),__esModule:!0}},function(c,d,a){var b=a(3)(b||{},{b:{Bd:{}},i:{}});b.i=a(8).vdb.i;b.b.Bd=b.i.Class.extend(function(){return{L:function(a){this.Dk=a},Xr:function(a){this.Dk=a},zy:function(a){return Math.floor(a/(this.Dk/4))},Wx:function(a){return Math.floor(a/(this.Dk/10))}}}());d.vdb={b:{Bd:b.b.Bd}};d.default=b.b.Bd;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{ha:{vd:{}}});b.ha.vd=
{ou:"trackQuartile",nu:"trackDecile"};d.vdb={ha:{vd:b.ha.vd}};d.default=b.ha.vd;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{da:{ci:{}},ha:{vd:{}},f:{j:{}},b:{xd:{},Bd:{}},i:{}});b.ha.vd=a(394).vdb.ha.vd;b.f.j=a(5).vdb.f.j;b.b.xd=a(97).vdb.b.xd;b.b.Bd=a(393).vdb.b.Bd;b.i=a(8).vdb.i;b.da.ci=b.i.Class.extend(function(){function a(b){var c=this.Uk.zy(b);this.Ze=this.Ze||0;this.Ze<c&&4>c&&(this.Ze++,f.call(this),a.call(this,b))}function c(a){var b=this.Uk.Wx(a);this.Ye=this.Ye||0;this.Ye<b&&10>
b&&(this.Ye++,d.call(this),c.call(this,a))}function d(){this.hf.UA({pm:this.Ye},this.Fa);this.fa&&this.fa.dispatchEvent(e.nu)}function f(){var a={pm:this.Ze};this.hf.Dj(a,this.Fa);this.fa&&this.fa.dispatchEvent(e.ou,a)}function g(){this.og.il();this.hf.RA(this.Fa)}var h=b.f.j,e=b.ha.vd;return{L:function(a){this.hf=a[h.wk];this.qv=a[h.ja];this.Uk=new b.b.Bd;this.og=new b.b.xd},lG:function(a){this.fa=a},Xr:function(a){this.Uk.Xr(a)},sj:function(b){0<b&&(c.call(this,b),a.call(this,b))},PF:function(){this.Ye=
this.Ze=0;this.Fa=this.qv.Nc();this.hf.VA(this.Fa);this.og.xj(g.bind(this),3E3)},MF:function(){this.Ze=4;this.Ye=10;d.call(this);f.call(this);this.og.pause()},KF:function(){this.hf.TA()},ur:function(){this.hf.ur()},OF:function(){this.og.resume()},NF:function(){this.og.pause()}}}(),[b.f.j.wk,b.f.j.ja]);d.vdb={da:{ci:b.da.ci}};d.default=b.da.ci;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{f:{zd:{}}});b.f.zd={Ls:"AutoPause",FB:"CarouselClick",GB:"CCActivated",HB:"CCDeactivated",IB:"SelectLanguage",
aC:"EndcardClick",bC:"EnterFullscreen",un:"ExitFullscreen",eC:"FloaterDock",nC:"PlayerHover",zC:"LogoClick",dk:"Mute",Ph:"Pause",LC:"Play",RC:"PosterClick",aD:"Replay",eD:"SeekEnd",fD:"SeekStart",rk:"Unmute",tD:"UnmuteButtonClick",wD:"Video",LD:"Volume"};d.vdb={f:{zd:b.f.zd}};d.default=b.f.zd;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{R:{rd:{},Cb:{}},f:{j:{}},b:{Bc:{},M:{}},W:{Gb:{}}});b.R.Cb=a(95).vdb.R.Cb;b.f.j=a(5).vdb.f.j;b.b.Bc=a(122).vdb.b.Bc;b.b.M=a(12).vdb.b.M;b.W.Gb=a(45).vdb.W.Gb;
b.R.rd=b.R.Cb.extend(function(){var a=b.f.j,c=b.W.Gb;return{L:function(a){this._super(a);this.Ma=a[c.pb]},EG:function(a){var b=this.V.Nq()||{};b=Math.min(3*b.videoLength,b.currentPlayTime||b.currentTime||0);return this.Ka({t:0<b?Math.floor(b):0},{},a)},Ew:function(b,c){if(!this.Ma.cm(a.jn))return null;var d=this.Ma.H(a.jn),f=this.Ma.H(a.Rs);d=d.CE(c);c=f.AE(c);return this.Ka({},{bft:d,bit:c},b)},dB:function(a,c){c=c||this.V.Nc()||{};var d={vid:c.id||"",vpt:c.GG,seq:c.wb,cvt:Math.floor("undefined"!==
typeof c.currentTime?c.currentTime:this.V.Tq()),fs:b.b.Bc.enabled()?+b.b.Bc.Jg():0};c.raw&&(c.raw.mpid&&(d.mpid=c.raw.mpid),c.raw.vcid&&(d.vcid=c.raw.vcid));return this.Ka(d,{vcdn:b.b.M.Oc(c&&c.videoUrls&&c.videoUrls.length&&c.videoUrls[0])},a)},Yr:function(a){var b=this.V.Cg()||{};return this.Ka({w:b.width,h:b.height},{},a)},Zr:function(a){return this.Ka({},{csid:null},a)}}}(),[b.W.Gb.pb]);d.vdb={R:{rd:b.R.rd}};d.default=b.R.rd;d.__esModule=!0},function(c,d,a){var b=a(3)(b||{},{da:{bi:{}},R:{rd:{}},
f:{j:{},zd:{}}});b.R.rd=a(397).vdb.R.rd;b.f.j=a(5).vdb.f.j;b.f.zd=a(396).vdb.f.zd;b.da.bi=b.R.rd.extend(function(){function a(a,b){this.Ew(a);this.dB(a,b);this.ah(a)}var c=b.f.zd,d=b.f.j;return{L:function(a){this._super(a);this.V=a[d.ja];this.bv=a[d.Ij];this.ng=[]},ur:function(){this.ng=[]},VA:function(b){var c={},d=["play-",b?b.id:""].join("");this.Yr(c);this.Zr(c);a.call(this,c,b);-1===this.ng.indexOf(d)&&(this.ga("video-play.gif",c),this.ng.push(d))},Dj:function(b,c){b={q:b.pm};a.call(this,b,c);
this.ga("video-quartile.gif",b)},UA:function(b,c){b={d:b.pm};a.call(this,b,c);this.ga("video-decile.gif",b)},RA:function(b){var c={},d=["3sec-",b?b.id:""].join("");a.call(this,c,b);-1===this.ng.indexOf(d)&&(this.ga("video-3sec.gif",c),this.ng.push(d))},TA:function(b){var d={},f=this.V.nF()?this.V.Tq():null,e=this.V.Rx();this.Yr(d);this.Zr(d);a.call(this,d,b);this.bv.action(c.Ls,f,e)}}}(),[b.f.j.Ij,b.f.j.ja]);d.vdb={da:{bi:b.da.bi}};d.default=b.da.bi;d.__esModule=!0},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(4);c=b(c);var m=a(5),l=b(m);m=a(9);var f=b(m);a=a(10);var g=b(a),h=(0,c.default)(),e=(0,c.default)();a=function(){function a(b,c){var d=this;(0,n.default)(this,a);b=b[l.default.ua];this[h]=!0;this[e]=c;f.default.group(f.default.qa(b,g.default.$c,function(){return d[h]=!1}),f.default.qa(b,g.default.xc,function(){return d[h]=!1}))}a.prototype.Xc=function(a){this[e].Xc(a)};a.prototype.rc=function(){return this[h]?
1:this[e].rc()};a.prototype.ra=function(a){return this[h]?100:this[e].ra(a)};a.prototype.Be=function(){return this[h]?1:this[e].Be()};return a}();d.default=a;a.O=[l.default.ua]},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});var b=(c=a(0))&&c.__esModule?c:{default:c};d.default=function(a){var c=function h(c){(0,b.default)(this,h);return new n.default(c,new a(c))};c.O=a.O.concat(n.default.O);return c};var n=(d=a(399))&&d.__esModule?d:{default:d}},function(c,d,a){function b(a){return a&&
a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(93);var n=b(c);c=a(0);var m=b(c);c=a(4);c=b(c);var l=a(366),f=b(l);l=a(224);var g=b(l);l=a(223);var h=b(l);l=a(221);var e=b(l);l=a(220);var k=b(l);l=a(219);var p=b(l);l=a(218);var q=b(l);l=a(400);var u=b(l);l=a(217);var r=b(l);l=a(216);var t=b(l);l=a(215);var y=b(l);l=a(214);var w=b(l);l=a(95);var v=b(l);l=a(398);var A=b(l);l=a(395);var D=b(l);l=a(105);var x=b(l);l=a(96);var z=b(l);l=a(133);var G=b(l);l=a(5);var B=b(l);
l=a(78);var C=b(l);l=a(17);var H=b(l);l=a(213);var F=b(l);l=a(211);var E=b(l);l=a(45);var Q=b(l);l=a(135);var R=b(l);l=a(210);var K=b(l);l=a(209);var M=b(l);l=a(38);var N=b(l);l=a(35);l=b(l);var V=a(208),O=b(V);V=a(12);V=b(V);var W=a(7),J=b(W);W=a(205);var T=b(W);a=a(76);var P=b(a);l.default.L(V.default.ub("oathPlayerBuildEnvironment")||"prod");var ia=(0,c.default)(),S=(0,c.default)(),ba=(0,c.default)(),L=(0,c.default)(),aa=(0,c.default)(),ca=(0,c.default)();a=function(){function a(){(0,m.default)(this,
a);this[ia]=new Q.default}a.prototype.EA=function(a){this[aa]=a.slot;var b=this[aa].ownerDocument||window.document;a.dontPredefineVideoTag||(this[S]=a.video||this[aa].appendChild(J.default.eq(b)),this[S]=Array.isArray(this[S])?this[S]:[this[S]]);this[ba]=new C.default(b);this[L]=(0,r.default)();b=a.companionSlots;var c=a.timeouts||{};this[L].playerType=a.playerType||N.default.Vt;this[L].trackingEnabled=!0;this[L].bcid=a.buyerCompanyId;this[L].geo=a.geo;this[L].id=a.playerId;this[L].sid=a.sid||this[L].sid;
this[L].jsVersion=a.jsVersion||this[L].jsVersion;this[L].bid.id=a.playlistId||this[L].bid.id;this[L].vvuid=a.vvuid;this[L].autoplay=a.autoplay;this[L].macros=a.macros;this[L].overrideUrls=a.overrideUrls;this[L].aggressiveMode=a.aggressiveMode;this[L].adSettings=this[L].adSettings||{};this[L].adSettings.adStrategy=a.adStrategy||z.default.pn;this[L].adSettings.companions=b||this[L].adSettings.companions;this[L].adSettings.hardTimeout=c.hard||this[L].adSettings.hardTimeout;this[L].adSettings.softTimeout=
c.soft||this[L].adSettings.softTimeout;this[L].adSettings.maxLinearShowTime=a.maxLinearShowTime||this[L].adSettings.maxLinearShowTime;this[L].adSettings.maxAdSearchTime=a.maxAdSearchTime||this[L].adSettings.maxAdSearchTime;this[L].adSettings.skipSettings=a.skipSettings||{};this[L].adSettings.asids=a.asids;this[L].adSettings.aeg=a.aeg;this[L].adSettings.podSize=a.podSize;this[L].adSettings.prerollInterleave=a.prerollInterleave;this[L].adSettings.domainOptimisation=a.domainOptimisation;this[L].adSettings.chromeHackPreinitialisation=
a.chromeHackPreinitialisation;this[L].adSettings.publisherPayout=a.publisherPayout;this[L].adSettings.isBrandedContent=a.isBrandedContent;this[L].adSettings.clickThroughUrl=a.clickThroughUrl;this[ca]=a.fakeViewability;this[L].GDPRData=a.GDPRData;this[L].isEU=!1!==a.isEU};a.prototype.vm=function(){var a=this,b=new e.default(this[L]),c=G.default.Dl(),d=new k.default(b,this[L].overrideUrls),m=void 0,l=new T.default;this[S]?(m=this[S][0].parentElement||this[S][0],l.CA(this[S][0]),l.zA(this[S][1])):m=
this[aa];var r=P.default.bj()||window;this[ia].Ob(B.default.P,b).Ob(B.default.Re,c).Ob(B.default.ya,d).Ob(B.default.va,this[aa]).Ob(B.default.vk,l).Ob(B.default.ta,this[ba]).Ob(B.default.he,m).Ob(B.default.An,new E.default(r)).ca(B.default.nb,h.default).ca(B.default.eo,x.default).ca(B.default.dc,p.default).ca(B.default.ja,q.default).ca(B.default.Nj,g.default).ca(B.default.Db,F.default).ca(B.default.od,M.default).ca(B.default.ua,H.default).ca(B.default.mk,t.default).ca(B.default.zb,f.default).ca(B.default.Uf,
v.default).ca(B.default.Pa,w.default).ca(B.default.Ij,y.default).ca(B.default.wk,A.default).ca(B.default.Lo,D.default);this[ca]?this[ia].ca(B.default.Hb,(0,u.default)(K.default)).ca(B.default.Jh,(0,u.default)(R.default)).ca(B.default.Ta,(0,u.default)(O.default)):this[ia].ca(B.default.Hb,K.default).ca(B.default.Jh,R.default).ca(B.default.Ta,O.default);return this[ia].hA([B.default.ja,B.default.zb,B.default.Uf,B.default.Lo,B.default.eo]).then(function(b){b=(0,n.default)(b,2);b[0].oA(b[1]);return a[ia]})};
a.prototype.ia=function(){return this[ia]};return a}();d.default=a},function(c,d){function a(a){var c=a.target||a.srcElement;c.Ro&&n(c.Ro);c.Ro=b(function(){var b=c.Dd;b.Cd.forEach(function(c){c.call(b,a)})})}var b=function(){var a=this,b=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||function(b){return a.setTimeout(b,20)};return function(a){return b(a)}}(),n=function(){var a=this.cancelAnimationFrame||this.mozCancelAnimationFrame||this.webkitCancelAnimationFrame||
this.clearTimeout;return function(b){return a(b)}}();d=function(b,c){function d(){this.contentDocument.defaultView.Dd=this.$u;this.contentDocument.defaultView.addEventListener("resize",a)}var g=this.document,h,e=g.attachEvent;"undefined"!==typeof navigator&&(h=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/));b.Cd||(b.Cd=[],e?(b.Dd=b,b.attachEvent("onresize",a)):("static"===getComputedStyle(b).position&&(b.style.position="relative"),g=b.Dd=g.createElement("object"),g.setAttribute("style",
"display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; opacity: 0;"),g.setAttribute("class","resize-sensor"),g.$u=b,g.onload=d,g.type="text/html",h&&b.appendChild(g),g.data="about:blank",h||b.appendChild(g)));b.Cd.push(c)};c.exports="undefined"===typeof window?d:d.bind(window);c.exports.S=function(b,c){var d=document.attachEvent;c?b.Cd.splice(b.Cd.indexOf(c),1):b.Cd=[];b.Cd.length||(d?b.detachEvent("onresize",a):(b.Dd.contentDocument.defaultView.removeEventListener("resize",
a),delete b.Dd.contentDocument.defaultView.Dd,b.Dd=!b.removeChild(b.Dd)),delete b.Cd)}},function(c,d,a){var b=a(51),n=a(40),m=a(100).U;c.exports=function(a){return function(c){c=n(c);for(var d=b(c),f=d.length,e=0,k=[],l;f>e;)m.call(c,l=d[e++])&&k.push(a?[l,c[l]]:c[l]);return k}}},function(c,d,a){c=a(21);var b=a(403)(!1);c(c.Ib,"Object",{values:function(a){return b(a)}})},function(c,d,a){a(404);c.exports=a(14).Object.values},function(c,d,a){c.exports={"default":a(405),__esModule:!0}},function(c,d,
a){function b(a){return a&&a.__esModule?a:{default:a}}function n(){var a=this,b=[r.default,u.default,t.default];[[p.default.ob,r.default.TIME_UPDATE,m.bind(this)],[p.default.Rb,r.default.PAUSED],[p.default.Ne,r.default.RESUMED],[p.default.Pe,r.default.WAITING],[p.default.Mj,r.default.QUARTILE],[p.default.$d,r.default.VOLUME_CHANGED],[p.default.sa,r.default.STARTED],[p.default.Oa,r.default.FINISHED],[p.default.bd,r.default.LINEAR_CHANGE],[p.default.Ym,r.default.SHOW_COMPANIONS],[p.default.dn,r.default.SUBTITLES_FOUND],
[p.default.zc,r.default.META],[p.default.Mm,u.default.STARTED],[p.default.vc,u.default.FINISHED],[p.default.Om,t.default.PAUSE_REQUESTED]].forEach(function(c){c=(0,e.default)(c,3);var d=c[1],f=c[2];a[x].addEventListener(c[0],function(c){f&&f(c);c=c.data||{};var e=A.default.find(b,function(a){return-1<(0,h.default)(a).indexOf(d)});a.dispatchEvent(new e(d,c))},-1)})}function m(a){this[G]=a.data.currentTime}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var l=b(c);c=a(2);var f=b(c);c=a(1);var g=
b(c);c=a(406);var h=b(c);c=a(93);var e=b(c);c=a(4);c=b(c);var k=a(10),p=b(k);k=a(180);k=b(k);var q=a(203),u=b(q);q=a(202);var r=b(q);q=a(201);var t=b(q);q=a(12);var y=b(q);q=a(125);var w=b(q);q=a(5);var v=b(q);q=a(7);var A=b(q);a=a(402);var D=b(a),x=(0,c.default)(),z=(0,c.default)(),G=(0,c.default)(),B=(0,c.default)(),C=(0,c.default)();a=function(a){function b(c){(0,l.default)(this,b);var d=(0,f.default)(this,a.call(this)),e=c[v.default.va];d[B]=c[v.default.ja];d[x]=c[v.default.zb];d[z]=c[v.default.P];
d[C]=c[v.default.nb];n.call(d);(0,D.default)(e,function(){d[x].resize()});c=document.getElementsByClassName("resize-sensor");for(e=0;e<c.length;e++)c[e].tabIndex=-1;return d}(0,g.default)(b,a);b.prototype.load=function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=b&&b.vvuid;c&&this[z].XA(c);b.currentVideo&&this[B].uA(b.currentVideo);0<=b.currentVideoIndex&&this[B].wA(b.currentVideoIndex);this[x].load(b,function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
{},c="",d="",e="",f=0,g="ad",h=0;b.adModel?(b.adModel.Va instanceof Array&&b.adModel.Va.forEach(function(a){a.Qg instanceof Array&&a.Qg.forEach(function(a){a.Yb&&a.Yb.toLowerCase()===w.default.Yh&&(g="vpaid")})}),b.adModel.adSystem&&(c=b.adModel.adSystem.name||""),h=b.adModel.Rr):g="no-ad";if(b.params&&b.params.urls){var k=b.params.urls;d=y.default.Oc(k[0]||"");1<k.length&&(e=y.default.Oc(k[1]||""),f=k.length-1)}b.error?a.dispatchEvent(new r.default(r.default.FINISHED,{adSystem:c,atpData:a[z].ye(),
error:!0,responseCode:b.error.Y,sequenceNumber:h})):a.dispatchEvent(new r.default(r.default.LOADED,{ad:b.ad,adCallDomain:d,adSystem:c,adid:b.adModel?b.adModel.id:"",atpData:a[z].ye(),crid:b.crid,latency:b.latency,pos:b.ad&&b.ad.getType(),responseType:g,sequenceNumber:h,timeout:b.ad&&b.ad.Bl(),timings:b.timings,vcrid:b.crid,wrapperChildDomain:e,wrapperDepth:f}))})};b.prototype.play=function(){this[x].zm()};b.prototype.pause=function(){this[x].zr()};b.prototype.resume=function(){this[x].lA()};b.prototype.setVolume=
function(a){this[x].setVolume(a)};b.prototype.mute=function(){this[x].mute(!0)};b.prototype.unmute=function(){this[x].mute(!1)};b.prototype.isMuted=function(){return this[x].isMuted()};b.prototype.getVolume=function(){return this[x].getVolume()};b.prototype.getDuration=function(){return this[x].getDuration()||0};b.prototype.getCurrentTime=function(){return this[G]||0};b.prototype.dispose=function(){this[x].stop()};b.prototype.isPlaying=function(){return this[x].isPlaying()};b.prototype.getTimeLog=
function(){return this[x].getTimeLog()};b.prototype.invokeAdMethod=function(a,b){return this[x].invokeAdMethod(a,b)};b.prototype.updateSkipSettings=function(a){this[C].Vg=a};return b}(k.default);d.default=a;a.O=[v.default.P,v.default.ja,v.default.va,v.default.zb,v.default.nb]},function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(407);var f=b(c);c=a(401);c=b(c);a=a(5);var g=b(a);
a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.apply(this,arguments))}(0,l.default)(b,a);b.prototype.vm=function(){return a.prototype.vm.call(this).then(function(a){return a.ca(g.default.Kj,f.default)})};b.prototype.createAdsManager=function(){return this.vm().then(function(a){return a.resolve(g.default.Kj)})};return b}(c.default);d.default=a},,,function(c,d,a){function b(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);var n=
b(c);c=a(2);var m=b(c);c=a(1);var l=b(c);c=a(133);var f=b(c);c=a(5);var g=b(c);a=a(408);a=function(a){function b(){(0,n.default)(this,b);return(0,m.default)(this,a.apply(this,arguments))}(0,l.default)(b,a);b.prototype.getPixelsLog=function(){return f.default.Dl().Cr};b.prototype.invokeAdMethod=function(a,b){this.ia().H(g.default.Kj).invokeAdMethod(a,b)};b.prototype.createAdsManager=function(b){this.EA(b);return a.prototype.createAdsManager.call(this)};return b}(b(a).default);d.default=a},function(c,
d,a){function b(a){return a&&a.__esModule?a:{default:a}}c=a(411);c=b(c);d=a(202);d=b(d);var n=a(203);n=b(n);a=a(201);window.oath={ads:{sdk:{AdBreakEvent:n.default,AdEvent:d.default,AdManagerStarter:c.default,ContentEvent:b(a).default}}}}]);

vdb.f={};vdb.f.k={};vdb.f.k.M3={A2:"SECOND",m1:"PERCENT"};vdb.f.k.QX={yj:"video",wJ:"compass"};vdb.f.k.X4={BACK:100,ZL:300,J2:1E3,a_:4E3};vdb.f.k.zj={vX:"CrossDomainModule360",aY:"DashModule",GY:"EnvrmntModule360",JY:"ErrorModule360",e_:"HLSModule",C0:"Module360",W0:"OathHLSModule",p5:"YoukuModule",q5:"YoutubeModule"};vdb.f.k.nw={aJ:"animated",OL:"image"};vdb.f.k.qja={kja:0,oja:1,l2:2};vdb.f.k.pM={W3:"UNMUTE_BUTTON_WITH_CONTROLS",V3:"UNMUTE_BUTTON",lY:"DISABLED"};vdb.f.k.xM={R2:"STARTING_FIRST",Uja:"STARTING_SECOND",NEVER:"NEVER"};vdb.f.k.IK={EY:13,LY:27,P2:32,CY:35,f_:36,N_:37,a4:38,m2:39,uY:40,eX:67,gZ:70,J_:75,x0:77,f1:80};vdb.f.k.EW={yj:"video",VZ:"gif"};vdb.f.k.$r={Xe:"auto",od:"click",eJ:"auto_play_in_view",Fk:"mouseover"};vdb.f.c={};vdb.f.c.L3=vdb.I.Class.extend({n:function(c,d,b,a,f){this.time=c;this.type=d;this.Ml=b||0;this.TP=Boolean(a);this.sH=f},toString:function(){return"TimeQueueEntry{time="+this.time+", type="+this.type+", percent="+this.Ml+", coalesce="+this.TP+"}"}});vdb.f.c.LB={Mfa:function(c,d){var b=window.vdb.Nb;vdb.b.O(c,{position:"relative",overflow:"hidden",margin:b.Dl||b.mf?"0":d.marginTop+"% 0 0 "+d.marginLeft+"%",height:"100%",width:"100%"})},bU:function(c,d){vdb.b.O(c,{height:"calc(100% - "+d+"px)"})}};vdb.f.c.S1=vdb.c.HW.extend(function(){var c=vdb.g.D,d=vdb.k.Y,b=vdb.k.Ie,a=[b.qJ,b.aK,b.je,b.Kr,b.dg,b.No,b.Mk];return{n:function(a,b,k){var g={};g[d.sM]=new vdb.S4(a);g[d.nc]=k;this._super(g);b.addEventListener(c.bd,this.onUserInteraction.bind(this))},onUserInteraction:function(b,c){(c||-1<a.indexOf(b.data.interactionType))&&this._super(b)}}}());vdb.f.fa={};
vdb.f.fa.Kv=vdb.I.Class.extend(function(){function c(a){a="string"===typeof a.message?a.message:a;b.warn("Unhandled exception in subtitles parser : "+a);this.bp.push(a)}function d(b){var c;b=b.trim();if(a.test(b)){for(var d=b.lastIndexOf(":"),m=~~(1E3*b.substring(d+1)/24)+"";3>m.length;)m="0"+m;b=b.substring(0,d)+this.separator+m}f.test(b)&&(c=b.split(this.separator),2===c.length?(d=c[0].split(":"),c=[0,+d[0],60*+d[0]+ +d[1],3600*+d[0]+60*+d[1]+ +d[2]][d.length]+ +("0."+c[1])):c=void 0);h.test(b)&&
(c=parseFloat(b),b=b.match(k)[0],c*={ms:.001,s:1,m:60,h:3600}[b]);isNaN(c)&&(c=void 0);return c}var b,a=/^(?:(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)?([0-5]?\d:)?)([01]?\d|2[0-4])$/,f=/^(?:(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)?([0-5]?\d))?[\.\,]\d?\d?\d$/,h=/^(((\d+)?\.\d?\d?\d?)|\d+)([hms]|ms)$/,k=/([mhs]|ms)$/;return{n:function(a){b=vdb.log.R("Subtitles "+a);b.debug("init")},error:c,parse:function(){return{cues:this.Xw,ml:this.bp}},$S:function(){var a=this.Vm,b=d.call(this,a.jy);if(isNaN(b))c.call(this,
"Invalid begin time found: "+a.jy);else{var f;a.end?f=d.call(this,a.end):a.xQ&&(f=b+d.call(this,a.xQ));isNaN(f)||f<b?c.call(this,"Invalid timing found, begin: "+a.jy+" end: "+a.end):this.Xw.push({startTime:b,endTime:f,text:a.text})}}}}());vdb.f.fa.Xl={o4:"subtitles-user-settings",Kk:{no:"active",dw:"language-code",wr:"font-family",ur:"font-color",yr:"font-size",Yq:"bg-color",Zq:"bg-opacity",js:"window-color",ks:"window-opacity",cr:"char-edge-style",xr:"font-opacity",br:"capitalization",Dr:"location-on-screen"},mK:{cJ:"Arial, sans-serif",zZ:"Georgia, serif",$_:'"Lucida Sans", sans-serif',u3:"Tahoma, serif",z3:'"Times New Roman", serif',G3:"Trebuchet, sans-serif",q4:"Verdana, sans-serif"},LJ:{zM:"255, 255, 255",n5:"255, 255, 0",XZ:"0, 128, 0",
xX:"0, 255, 255",RW:"0, 0, 255",z0:"255, 0, 255",h2:"255, 0, 0",gB:"0, 0, 0"},HJ:{NONE:"",vY:"rgb(34, 34, 34) 2px 2px 3px, rgb(34, 34, 34) 2px 2px 4px, rgb(34, 34, 34) 2px 2px 5px",g2:"rgb(34, 34, 34) 1px 1px, rgb(34, 34, 34) 2px 2px, rgb(34, 34, 34) 3px 3px",dY:"rgb(204, 204, 204) 1px 1px, rgb(204, 204, 204) 0px 1px, rgb(34, 34, 34) -1px -1px, rgb(34, 34, 34) 0px -1px",jL:"rgb(34, 34, 34) 0px 0px 4px, rgb(34, 34, 34) 0px 0px 4px, rgb(34, 34, 34) 0px 0px 4px, rgb(34, 34, 34) 0px 0px 4px"},GJ:{NONE:"none",
Z3:"uppercase"},QL:{E3:"top",iB:"bottom"},y2:["ar","iw"],TX:{aia:"en",sgp:"en",atg:"en",irl:"en",slb:"en",aus:"en",jam:"en",zaf:"en",bhs:"en",ken:"en",swz:"en",brb:"en",lso:"en",blz:"en",lbr:"en",ton:"en",bmu:"en",mwi:"en",tto:"en",bwa:"en",mlt:"en",tca:"en",mus:"en",uga:"en",cmr:"en",msr:"en",gbr:"en",can:"en",nam:"en",vut:"en",cym:"en",nzl:"en",dma:"en",nga:"en",zmb:"en",png:"en",zwe:"en",fji:"en",gmb:"en",gha:"en",gib:"en",grd:"en",guy:"en",sle:"en",usa:"en",bel:"fr",ben:"fr",bdi:"fr",caf:"fr",
tcd:"fr",com:"fr",cod:"fr",cog:"fr",dji:"fr",fra:"fr",gab:"fr",gin:"fr",hti:"fr",lux:"fr",mdg:"fr",mli:"fr",mco:"fr",ner:"fr",rwa:"fr",sen:"fr",syc:"fr",tgo:"fr",rus:"ru",isr:"iw",arg:"es",chl:"es",col:"es",cri:"es",cub:"es",dom:"es",ecu:"es",slv:"es",gnq:"es",gtm:"es",hnd:"es",mex:"es",nic:"es",pan:"es",pry:"es",per:"es",esp:"es",ury:"es",jpn:"ja",deu:"de",aut:"de",che:"de",lie:"de",bhr:"ar",irq:"ar",jor:"ar",kwt:"ar",lbn:"ar",omn:"ar",pse:"ar",qat:"ar",sau:"ar",syr:"ar",are:"ar",yem:"ar",chn:"zh",
hkg:"zh",mac:"zh",twn:"zh"},VL:{ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",de:"deutsch",en:"english",es:"espa\u00f1ol",fr:"fran\u00e7ais",it:"Italiano",iw:"\u05e2\u05d1\u05e8\u05d9\u05ea",ja:"\u65e5\u672c\u8a9e",ru:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",zh:"\u7b80\u4f53\u4e2d\u6587 (\u4e2d\u56fd)","zh-sg":"\u7b80\u4f53\u4e2d\u6587 (\u65b0\u52a0\u5761)","zh-hk":"\u7e41\u9ad4\u4e2d\u6587 (\u9999\u6e2f)","zh-tw":"\u7e41\u9ad4\u4e2d\u6587 (\u53f0\u7063)"}};vdb.f.fa.vC=function(){var c=vdb.f.fa.Xl,d=c.Kk,b=c.mK,a=c.LJ,f=c.HJ,h=c.GJ,c=c.QL,k={};k[d.no]=!1;k[d.dw]="en";k[d.wr]=b.cJ;k[d.ur]=a.zM;k[d.yr]="1";k[d.Yq]=a.gB;k[d.Zq]=".5";k[d.js]=a.gB;k[d.ks]="0";k[d.cr]=f.jL;k[d.xr]="1";k[d.br]=h.NONE;k[d.Dr]=c.iB;return k};vdb.f.fa.He={iM:"tt",jM:"ttml",Rv:"dfxp",Sr:"srt",Dw:"vtt",lr:"embedded",hw:"m3u8"};vdb.f.fa.t3=vdb.I.Class.extend(function(){var c=vdb.log.R("Subtitles"),d=vdb.c.V,b=vdb.b,a=vdb.f.fa.Xl.Kk,f={display:"none",position:"absolute",width:"90%",padding:".5% 5%",textAlign:"center",zIndex:"2"},h={lineHeight:"0"},k={display:"inline-block",padding:".5% 1%"};return{n:function(a,c,d){this.F=a;this.display=c;this.i=d;this.Oq=b.createElement("div",{style:f},this.F);this.Hga=b.createElement("div",{style:h},this.Oq);this.dv=b.createElement("div",{"class":"subtitles-text",style:k},this.Hga)},Ru:function(c){this.B=
c;b.O(this.Oq,{top:"",bottom:"",backgroundColor:"rgba("+c[a.js]+", "+c[a.ks]+")"});this.Oq.style[c[a.Dr]]="9px";this.Oq.className="subtitles-"+c[a.Dr]+"-container";b.O(this.dv,{fontFamily:c[a.wr],color:"rgba("+c[a.ur]+", "+c[a.xr]+")",textShadow:c[a.cr],textTransform:c[a.br],backgroundColor:"rgba("+c[a.Yq]+", "+c[a.Zq]+")"});this.Yu()},B7:function(){this.Tj=this.Tj||vdb.o.U.bind(this.i,vdb.g.D.yd,this.Yu.bind(this))},afa:function(){this.Tj&&this.Tj.Ga();this.Tj=null},yha:function(a){this.dv.innerHTML=
a.join(" <br /> ");this.show()},s8:function(){this.aa();this.dv.innerHTML=""},show:function(){d.show(this.Oq)},aa:function(){d.aa(this.Oq)},Yu:function(){var c=this.display.wn();b.O(this.dv,{fontSize:(12+(400<c?Math.ceil((c-400)/100):0))*+this.B[a.yr]+"px",lineHeight:"150%"})},aga:function(a){a=a?"rtl":"ltr";c.debug("set language direction -",a);b.O(this.dv,{direction:a})},Tj:null}}());vdb.f.fa.y0=vdb.f.fa.Kv.extend(function(){function c(c){-1!==c.indexOf(vdb.f.fa.He.Dw)?this.format=vdb.f.fa.He.Dw:-1!==c.indexOf(vdb.f.fa.He.Sr)?this.format=vdb.f.fa.He.Sr:-1!==c.indexOf(vdb.f.fa.He.Rv)&&(this.format=vdb.f.fa.He.Rv)}return{n:function(){this._super("M3U8")},parse:function(d){return new vdb.Promise(function(b,a){var f=[];d.replace(/(\r\n|\n|\r)/gm,"").replace("#EXT-X-ENDLIST","").split("#EXTINF:").forEach(function(a){a=a.split(",")[1];-1!==a.indexOf("http")&&(f.push(vdb.re.xn(a)),c(a))});
vdb.Promise.all(f).then(function(a){var c="";a.forEach(function(a){c+=a.text});b({format:this.format,text:c})}).catch(function(b){a(b)})})}}}());vdb.f.fa.xY=vdb.f.fa.Kv.extend({n:function(){this._super("DFXP");this.separator="."},parse:function(c){this.Xw=[];this.bp=[];c=c.replace(/\s+$/,"").replace(/>\s+</g,"><");var d;try{d=(new window.DOMParser).parseFromString(c,"text/xml").documentElement}catch(b){this.error.call(this,b);return}try{var a=d.getElementsByTagName("body")[0];if(0===a.length)throw Error("Invalid DFXP document: <body> tag is required.");var f=d.getElementsByTagName("div")[0],h=0<a.childNodes.length?a.childNodes:[],k=0<f.childNodes.length?
f.childNodes:h;for(d=0;d<k.length;d++){var g=k[d],l=g.getAttribute("begin")||"0",n=g.getAttribute("end"),m=g.getAttribute("dur"),p;if(!(p=g.innerHTML)){for(var a="",r=g.childNodes,f=0;f<r.length;f++){var q=r[f];switch(q.nodeType){case 3:a+=q.textContent;break;case 1:switch(q.tagName.toLowerCase()){case "br":a+="<br />";break;default:a+="<"+q.tagName+">"+q.textContent+"</"+q.tagName+">"}}}p=a}this.Vm={jy:l,end:n,xQ:m,text:p};this.$S.call(this)}}catch(s){this.error.call(this,s);return}return this._super()}});vdb.f.fa.Kk={XB:{YJ:"ENABLE_IF_MUTED",BY:"ENABLE",Mia:"DISABLE"},XJ:{cB:"AUTO_DETECT"}};vdb.f.fa.p3=vdb.I.Class.extend({n:function(c){this.id="";this.endTime=this.startTime=0;this.direction="horizontal";this.vga=!0;this.Oca="auto";this.Oga=50;this.size=100;this.K7="middle";this.text="";for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d])}});vdb.f.fa.k5=vdb.f.fa.Kv.extend(function(){function c(){var a="minutes",c,f,h;if("undefined"===typeof this.zd[this.$a])b.call(this,"No timestamp found.");else if(/\d/.test(this.zd[this.$a])){c=d.call(this,/\d/);if(2<c.length||59<parseInt(c,10))a="hours";if(":"!==this.zd[this.$a])b.call(this,"No time unit separator found.",this.$a);else if(this.$a++,f=d.call(this,/\d/),2!==f.length)b.call(this,"Must be exactly two digits.",this.$a);else{if("hours"===a||":"===this.zd[this.$a]){if(":"!==this.zd[this.$a]){b.call(this,
"No seconds found or minutes is greater than 59.",this.$a);return}this.$a++;a=d.call(this,/\d/);if(2!==a.length){b.call(this,"Must be exactly two digits.",this.$a);return}}else a=f,f=c,c="0";if("."!==this.zd[this.$a]&&(b.call(this,'No decimal separator (".") found.',this.$a),","!==this.zd[this.$a]))return;this.$a++;h=d.call(this,/\d/);if(3!==h.length)b.call(this,"Milliseconds must be given in three digits.",this.$a);else if(59<parseInt(f,10))b.call(this,"You cannot have more than 59 minutes.",this.$a);
else if(59<parseInt(a,10))b.call(this,"You cannot have more than 59 seconds.",this.$a);else return 3600*parseInt(c,10)+60*parseInt(f,10)+parseInt(a,10)+parseInt(h,10)/1E3}}else b.call(this,"Timestamp must start with a character in the range 0-9.",this.$a)}function d(a){for(var b="";"undefined"!==typeof this.zd[this.$a]&&a.test(this.zd[this.$a]);)b+=this.zd[this.$a],this.$a++;return b}function b(a,b){f.warn(a);this.bp.push({message:a,Pma:this.Cb+1,Fka:b})}function a(a){for(;"undefined"!==typeof this.zd[this.$a]&&
a.test(this.zd[this.$a]);)this.$a++}var f=vdb.log.R("Subtitles WebVttParser"),h=/[\u0020\t\f]/,k=/[^\u0020\t\f]/;return{n:function(){f.debug("init")},parse:function(d){this.bp=[];this.Cb=0;var f=[];this.Xw=f;d=d.split(/\r\n|\r|\n/);var n=!1;(6>d[this.Cb].length||0!==d[this.Cb].indexOf("WEBVTT")||6<d[this.Cb].length&&" "!==d[this.Cb][6]&&"\t"!==d[this.Cb][6])&&b.call(this,'No valid signature. (File needs to start with "WEBVTT".)');for(this.Cb++;""!==d[this.Cb]&&"undefined"!==typeof d[this.Cb];){b.call(this,
"No blank line after the signature.");if(-1!==d[this.Cb].indexOf("--\x3e")){n=!0;break}this.Cb++}for(;"undefined"!==typeof d[this.Cb];){for(var m;!n&&""===d[this.Cb];)this.Cb++;if(!n&&"undefined"===typeof d[this.Cb])break;m=new vdb.f.fa.p3;if(-1===d[this.Cb].indexOf("--\x3e")&&(m.id=d[this.Cb],this.Cb++,""===d[this.Cb]||"undefined"===typeof d[this.Cb])){b.call(this,"Cue identifier cannot be standalone.");continue}var p=0;this.zd=d[this.Cb];this.$a=0;n=!1;0<f.length&&(p=f[f.length-1].startTime);var r;
a:{r=m;a.call(this,h);r.startTime=c.call(this);if("undefined"!==typeof r.startTime)if(r.startTime<p&&b.call(this,"Start timestamp is not greater than or equal to start timestamp of previous cue."),k.test(this.zd[this.$a])&&b.call(this,"Timestamp not separated from '--\x3e' by whitespace.",this.$a),a.call(this,h),"-"!==this.zd[this.$a])b.call(this,"No valid timestamp separator found.",this.$a);else if(this.$a++,"-"!==this.zd[this.$a])b.call(this,"No valid timestamp separator found.",this.$a);else if(this.$a++,
">"!==this.zd[this.$a])b.call(this,"No valid timestamp separator found.",this.$a);else if(this.$a++,k.test(this.zd[this.$a])&&b.call(this,"'--\x3e' not separated from timestamp by whitespace.",this.$a),a.call(this,h),r.endTime=c.call(this),"undefined"!==typeof r.endTime){r.endTime<=r.startTime&&b.call(this,"End timestamp is not greater than start timestamp.",this.$a);k.test(this.zd[this.$a]);a.call(this,h);for(var p=this.zd.substring(this.$a).split(h),q=[],s=0;s<p.length;s++)if(""!==p[s]){var u=p[s].indexOf(":"),
t=p[s].slice(0,u),u=p[s].slice(u+1);-1!==q.indexOf(t)&&b.call(this,"Duplicate setting.");q.push(t);if(""===u){b.call(this,"No value for setting defined.");break}if("vertical"===t)"rl"!==u&&"lr"!==u?b.call(this,"Writing direction can only be set to 'rl' or 'rl'."):r.direction=u;else if("line"===t)if(/\d/.test(u))if(-1!==u.indexOf("-",1))b.call(this,"Line position can only have '-' at the start.");else if(-1!==u.indexOf("%")&&u.indexOf("%")!==u.length-1)b.call(this,"Line position can only have '%' at the end.");
else if("-"===u[0]&&"%"===u[u.length-1])b.call(this,"Line position cannot be a negative percentage.");else{if("%"===u[u.length-1]){if(100<parseInt(u,10)){b.call(this,"Line position cannot be >100%.");continue}r.vga=!1}r.Oca=parseInt(u,10)}else b.call(this,"Line position takes a number or percentage.");else"position"===t?"%"!==u[u.length-1]?b.call(this,"Text position must be a percentage."):100<parseInt(u,10)?b.call(this,"Size cannot be >100%."):r.Oga=parseInt(u,10):"size"===t?"%"!==u[u.length-1]?
b.call(this,"Size must be a percentage."):100<parseInt(u,10)?b.call(this,"Size cannot be >100%."):r.size=parseInt(u,10):"align"===t?"start"!==u&&"middle"!==u&&"end"!==u?b.call(this,"Alignment can only be set to 'start', 'middle', or 'end'."):r.K7=u:b.call(this,"Invalid setting.")}r=!0;break a}r=void 0}if(r){for(this.Cb++;""!==d[this.Cb]&&"undefined"!==typeof d[this.Cb];){if(0!==d[this.Cb].toLowerCase().indexOf("note")){if(-1<d[this.Cb].indexOf("WEBVTT")||-1<d[this.Cb].indexOf("X-TIMESTAMP")){b.call(this,
"No metadata");n=!0;break}if(-1!==d[this.Cb].indexOf("--\x3e")){b.call(this,"Blank line missing before cue.");n=!0;break}""!==m.text&&(m.text+="<br/>");m.text+=d[this.Cb]}this.Cb++}f.push(m)}else for(this.Cb++;""!==d[this.Cb]&&"undefined"!==typeof d[this.Cb];){if(-1!==d[this.Cb].indexOf("--\x3e")){n=!0;break}this.Cb++}}return this._super()}}}());vdb.f.fa.ww={vj:"LanguageSelected",PK:"LoadError"};vdb.f.fa.l3=vdb.f.fa.Kv.extend(function(){function c(b){function a(a){return!isNaN(a)&&n<a}function c(a){return a&&""!==a}function d(){for(;""!==b[k]&&k<b.length;)k++}if(1>=b.length)throw Error("Invalid SRT document: no data found");var k,g,l,n=0;for(k=0;k<b.length;k++)this.Vm={},g=b[k],""!==g&&(a(l=+g)?(g=b[++k],-1===g.indexOf(" --\x3e ")?(this.error.call(this,"Timing cue not found for caption number - "+l),d()):(g=g.split(" --\x3e "),this.Vm.jy=g[0].trim(),this.Vm.end=g[1].trim(),g=b[++k],c(g)&&
(this.Vm.text=g,c(b[k+1])&&(this.Vm.text+="<br />"+b[k+1],k++),this.$S.call(this),d(),n=l))):(this.error.call(this,"Bad caption number found - "+g),d()))}var d=/\r\n|\r|\n/;return{n:function(){this._super("SRT");this.separator=","},parse:function(b){this.Xw=[];this.bp=[];b=b.split(d);try{c.call(this,b)}catch(a){this.error.call(this,a);return}return this._super()}}}());vdb.f.fa.r3=vdb.I.Class.extend(function(){function c(){for(var a=this.cues[0],b=1;b<this.cues.length;b++){var c=this.cues[b],d=c.endTime-c.startTime;c.startTime=a.endTime;c.endTime=c.startTime+d;a=c}return this}function d(){this.cues.sort(function(a,b){return a.startTime<b.startTime?-1:a.startTime>b.startTime?1:a.endTime>b.endTime?-1:a.endTime<b.endTime?1:0});return this}var b=vdb.log.R("SubtitlesParser");return{n:function(a){b.debug("init");this.nca=a===vdb.f.fa.He.hw;this.of=this.hQ(a)},parse:function(a){return new vdb.Promise(function(b){if(this.of)if(this.nca)this.of.parse(a).then(function(a){a=
this.hQ(a.format).parse(a.text);c.call(a);d.call(a);b(a)}.bind(this));else{var h=this.of.parse(a);d.call(h);b(h)}}.bind(this))},Bla:function(){var a;this.of&&(a=this.of.bp);return a},hQ:function(a){var c;switch(a){case vdb.f.fa.He.iM:case vdb.f.fa.He.jM:case vdb.f.fa.He.Rv:c=new vdb.f.fa.xY;break;case vdb.f.fa.He.Sr:c=new vdb.f.fa.l3;break;case vdb.f.fa.He.Dw:c=new vdb.f.fa.k5;break;case vdb.f.fa.He.hw:c=new vdb.f.fa.y0;break;default:b.error("unsupported type of subtitles: "+a)}return c}}}());vdb.f.a={};vdb.f.a.video={};vdb.f.a.video.ok={};
vdb.f.a.video.ok.Nk=vdb.Ab.extend(function(){function c(){m.debug("stop recovering");this.la.Ga();this.Hj&&(this.Ub.lha({Uf:(this.M.ze()||{}).id,$s:this.rs,time:+new Date-this.xs}),clearTimeout(this.Hj),this.Hj=null);this.xs=this.Pm=null;this.eg&&(clearTimeout(this.eg),this.eg=null)}function d(){this.dispatchEvent(vdb.f.a.video.ok.Nk.hK,this.Pm);c.call(this)}function b(a){this.Ub.mha({Uf:(this.M.ze()||{}).id,$s:this.rs,time:+new Date-this.xs});if(this.Hj){var b=this.M.ze()||{};a&&a.videos&&0<a.videos.length&&
a.videos[0].videoUrls?a.videos[0].videoId===b.id&&(b.videoUrls=a.videos[0].videoUrls,this.dispatchEvent(vdb.f.a.video.ok.Nk.lC,b)):d.call(this)}}function a(){setTimeout(function(){if(this.Hj){this.Ub.kha({Uf:(this.M.ze()||{}).id,errorCode:this.Pm,$s:this.rs,time:+new Date-this.xs});var a=this.M.ze()||{};this.LM=this.LM||new vdb.nf.wo(this.j);this.LM.ol(a.id).then(b.bind(this)).catch(k.bind(this))}}.bind(this),this.dD)}function f(){var a=c.bind(this);m.debug("bind stop recovering events");this.la.Ga();
n.bind(this.M,vdb.o.Aa.hb,a).link(this.la);n.bind(this.M,vdb.o.Aa.ub,a).link(this.la);n.bind(this.M,vdb.o.Aa.vb,a).link(this.la)}function h(b){m.debug("video error: ",b);this.Hj||this.M.Xh()||(b=b||{},this.Pm||b.SQ||(this.Pm=b.code,b=window.MediaError||{},b=[b.MEDIA_ERR_SRC_NOT_SUPPORTED,b.MEDIA_ERR_DECODE,87,88,89,11,12,13,14],!((this.M.ze()||{}).id&&2>this.rs)||-1===b.indexOf(this.Pm)&&this.Pm?87===this.Pm?this.dispatchEvent(vdb.f.a.video.ok.Nk.lC,this.M.ze()||{}):d.call(this):(clearTimeout(this.eg),
this.rs++,this.eg=null,this.xs=+new Date,f.call(this),this.Hj=setTimeout(g.bind(this),this.LN),a.call(this))))}function k(){this.Hj&&h.call(this,{code:87})}function g(){this.xs=this.Hj=null;h.call(this,{code:89})}function l(){m.debug("buffering");this.eg||(f.call(this),this.eg=setTimeout(function(){this.eg=null;h.call(this,{code:88})}.bind(this),this.KN))}var n=vdb.o.U,m=vdb.log.R("VideoRecovery");return{n:function(a,b,c){this._super();this.dD=Math.random()*(c||1E4);this.KN=1E4*Math.random()+1E4;
this.LN=this.dD+1E4*Math.random();m.debug("init() dsBalancingTimeout: "+this.dD+", maxBufferingTime: "+this.KN+", maxRecoveryTime: "+this.LN);this.rs=0;this.M=a;this.j=b;this.Ub=b.va.Ca(vdb.k.Y.mC);this.Hj=null;this.la=n.empty();this.M.addEventListener(vdb.o.Aa.Qo,h.bind(this));this.M.addEventListener(vdb.o.Aa.$e,l.bind(this))}}}());vdb.f.a.video.ok.Nk.hK="VideoRecovery.FatalError";vdb.f.a.video.ok.Nk.lC="VideoRecovery.Recovery";vdb.f.a.video.Q4={MEDIA_ERR_ABORTED:"You aborted the video playback.",MEDIA_ERR_NETWORK:"A network error caused the video download to fail part-way.",MEDIA_ERR_DECODE:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",MEDIA_ERR_SRC_NOT_SUPPORTED:"The video could not be loaded, either because the server or network failed or because the format is not supported.",ke:"An unknown error occurred."};vdb.f.a.video.ka={};
vdb.f.a.video.ka.Je=vdb.Ab.extend({op:null,n:function(c,d){this._super();this.M=d;this.j=c},Lu:function(){},load:function(){this.op||(this.op=this.sx?window.vdb.S.Jd(this.j.we("player/js/17.21.1449/lib/"+this.sx)).then(this.Lu.bind(this)):vdb.Promise.resolve());return this.op},detach:function(){this.j.wf&&(this.j.wf.destroy(),delete this.j.wf)},Sla:function(){return this.bf},IA:function(c){this.dispatchEvent(vdb.f.a.video.ka.Je.Qo,{code:c})},Fha:function(){this.dispatchEvent(vdb.f.a.video.ka.Je.Cm)},L9:function(){this.dispatchEvent(vdb.f.a.video.ka.Je.jK)}});
vdb.f.a.video.ka.Je.Qo="VideoAreaModule.VIDEO_ERROR";vdb.f.a.video.ka.Je.Cm="VideoAreaModule.VIDEO_CLICK";vdb.f.a.video.ka.Je.jK="VideoAreaModule.FINISH_VIDEO";vdb.f.a.video.ka.tm=vdb.f.a.video.ka.Je.extend(function(){function c(b){var c=b.detail,d=c&&c.stream;a.debug(b.type,c);d&&this.j.dispatchEvent(f.fm,{BP:d.bitrate})}function d(b){a.debug(b.type,b.detail)}function b(a){a=a&&a.detail&&a.detail.value;"undefined"!==typeof a&&(a?this.M.dispatchEvent(vdb.o.Aa.rM):this.M.dispatchEvent(vdb.o.Aa.qM))}var a=vdb.log.R("OathHLSModule"),f=vdb.g.D,h=vdb.f.k.zj;return{n:function(b,c){this._super(b,c);a.debug("init()");window.JsHls||(this.sx="oath.hls.min.js");this.bf=
h.W0},Lu:function(){this._super()},Ic:function(f){a.debug("setVideo()",f);this.Xb&&(this.detach(),a.error("Go to next video w/o detach call"));this.Xb=new window.JsHls(this.M.Na());this.M.pE("streamSwitched",d.bind(this));this.M.pE("streamUpdated",c.bind(this));this.M.pE("hlsWaiting",b.bind(this));this.Xb.setSrc({url:f.Tf});this.Xb.play();return vdb.Promise.resolve()},detach:function(){this._super();this.Xb&&(this.Xb.unload(),this.Xb.destroy(),this.Xb=null)}}}());vdb.f.a.video.ka.tm.mG=function(){return vdb.c.V.DG()};
vdb.f.a.video.ka.tm.isSupported=function(c){return vdb.c.Ra.fc("oathHlsJs",vdb.c.oc.Zd())||c.ia(vdb.g.Wa.V0)};vdb.f.a.video.ka.tm.dh=function(c,d){return c&&c.Tf&&-1!==c.Tf.indexOf(".m3u8")&&vdb.b.lG()&&vdb.f.a.video.ka.tm.isSupported(d)};vdb.f.a.video.ka.tm.bk=!0;vdb.f.a.video.ka.Dh=vdb.f.a.video.ka.Je.extend(function(){function c(a,b){f.debug(a,b);var c,d;b&&(c=b.frag&&b.frag.level);-1!==this.KD&&this.Xb.currentLevel===this.KD&&(-1<this.ax.indexOf("HD")?this.j.dispatchEvent(h.GL):this.j.dispatchEvent(h.oM),this.KD=-1);if(this.ax){if(this.BO){c=parseInt(this.ax);for(var k=0;k<this.Xb.levels.length;k++)c===this.Xb.levels[k].height&&(d=k);this.Xb.nextLevel!==d&&(this.KD=this.Xb.nextLevel=d);this.BO=!1}}else this.AD&&this.AD!==c&&(d=(d=this.Xb.levels[c])&&d.url[0],
this.AD=c,this.j.dispatchEvent(h.Bo,{level:c,url:d}))}function d(a,b){f.debug(a,b);this.j.dispatchEvent(h.RB,b);this.Sm&&0<this.Sm.length&&b&&b.level&&this.j.dispatchEvent(h.fm,{BP:this.Sm[b.level].bitrate})}function b(a,b){f.debug(a,b);this.j.dispatchEvent(h.Co,b);this.ax=!1;this.Sm=b&&b.levels}function a(a,b){var c=b.details,d=b.fatal;f.debug("Stream error ",b.type,c,d);if(this.sp)this.IA(MediaError.MEDIA_ERR_DECODE);else if(this.sp=!1,d)switch(b.type){case window.Hls.ErrorTypes.NETWORK_ERROR:f.debug("fatal network error encountered, try to recover");
this.Xb.startLoad();"STOPPED"===this.Xb.streamController.state?this.IA(MediaError.MEDIA_ERR_DECODE):this.sp=!0;break;case window.Hls.ErrorTypes.MEDIA_ERROR:f.debug("fatal media error encountered, try to recover");this.sp=!0;this.Xb.recoverMediaError();break;default:this.IA(MediaError.MEDIA_ERR_DECODE)}else c===window.Hls.ErrorDetails.BUFFER_STALLED_ERROR&&"ENDED"===this.Xb.streamController.state&&this.IA(MediaError.MEDIA_ERR_NETWORK)}var f=vdb.log.R("HLSModule"),h=vdb.g.D,k=vdb.f.k.zj;return{n:function(a,
b){this._super(a,b);f.debug("init()");this.sp=!1;this.bf=k.e_;window.Hls||(this.sx="hls.min.js")},Lu:function(){this._super()},Ic:function(g){f.debug("setVideo()",g);this.sp=!1;this.Xb&&(this.detach(),f.error("Go to next video w/o detach call"));this.Xb=new window.Hls;this.Xb.on(window.Hls.Events.ERROR,a.bind(this));this.Xb.on(window.Hls.Events.MANIFEST_LOADED,b.bind(this));this.Xb.on(window.Hls.Events.LEVEL_LOADED,d.bind(this));this.Xb.on(window.Hls.Events.FRAG_CHANGED,c.bind(this));this.j.Ka.dispatchEvent(new vdb.o.Event(h.zw,
{hls:this.Xb}));vdb.f.a.video.ka.Dh.Gba=this.Xb;return new vdb.Promise(function(a){this.Xb.loadSource(g.Tf);this.Xb.attachMedia(this.M.Na());this.AD=this.Xb.currentLevel;this.Xb.on(window.Hls.Events.MANIFEST_PARSED,a)}.bind(this))},Ul:function(a){this.ax=a;this.BO=!0},detach:function(){this._super();this.sp=!1;this.Xb&&(this.Xb.destroy(),this.Xb=null)}}}());vdb.f.a.video.ka.Dh.mG=function(){return vdb.c.V.DG()};
vdb.f.a.video.ka.Dh.isSupported=function(){return"undefined"!==typeof window.Hls&&window.Hls.isSupported()||vdb.f.a.video.ka.Dh.mG()};vdb.f.a.video.ka.Dh.dh=function(c,d){return c&&c.Tf&&-1!==c.Tf.indexOf(".m3u8")&&!vdb.f.a.video.ka.Dh.mG()&&vdb.b.lG()&&!vdb.f.a.video.ka.tm.isSupported(d)};vdb.f.a.video.ka.Dh.bk=!0;vdb.f.a.video.ka.CM=vdb.f.a.video.ka.Je.extend(function(){function c(a){window.YKU&&(this.a=new window.YKU.Player(this.NV,{styleid:"0",client_id:this.uy,vid:a,autoplay:"autoplay"===this.j.Ka.C.playerTemplate.initialization,show_related:!1,events:{onPlayerReady:d.bind(this)}}))}function d(){null==this.wv&&(this.wv=this.a.player()._player,this.a.vd=b.bind(this),this.dispatchEvent({type:a.$c,data:{}}),this.j.Ka.dispatchEvent(new vdb.o.Event(a.zw)));this.M.dispatchEvent(vdb.o.Aa.vi)}function b(){return{width:this.TA.offsetWidth,
height:this.TA.offsetHeight}}var a=vdb.g.D,f=vdb.log.R("YoukuModule"),h=vdb.f.k.zj,k=vdb.b,g={};return{n:function(a,b){this._super(a,b);f.debug("init");var d=vdb.b.$d,g=this.j.H.xa.videos[0].externalId;this.bf=h.p5;this.GG=!1;this.Ss=document.getElementById("videos-container");this.Td=this.j.H.kd;this.xa=new vdb.B.vo(this.j.H.xa);this.uy=d(this.j.H.xa.videos[0].externalContentId,d(this.j.ia("ykucid"),"24e38390de550346"));this.NV="vdb-youku-player-"+g;this.TA=k.createElement("div",{id:this.NV,style:{width:"100%",
height:"100%",position:"absolute",zIndex:"9"}});this.Ss.insertBefore(this.TA,this.Ss.firstChild);d=c.bind(this,g);window.vdb.S.Jd("//player.youku.com/jsapi").then(d)},addEventListener:function(a,b){null!=this.wv&&this.wv.addEventListener(g[a]||a,b);this._super(a,b)},dispatchEvent:function(a,b){this._super(a,b);this.j.dispatchEvent(a,b)},removeEventListener:function(a,b){null!=this.wv&&this.wv.removeEventListener(g[a]||a,b);this._super(a,b)},zq:function(){},$j:function(){},Bu:function(){},play:function(){this.a&&
(this.a.ana(),this.GG=!0)},pause:function(){this.a&&(this.a.bT(),this.GG=!1)},mute:function(){},volume:function(){},caption:function(){},Ee:function(a){this.a&&this.a.Ee(a)},MT:function(){},NQ:function(){this.a&&this.a.Kga()},exitFullscreen:function(){this.a&&this.a.Kga()},xb:function(){var a={};a.sellerId=this.Td.ownerId;return a},ca:function(){return this.xa.ze(0)},dc:function(){return 0},getVolume:function(){},JF:function(){return null},Vi:function(){return"youku"},Pc:function(){return!1},mH:function(){},
dispose:function(){var a=this.TA;a&&a.parentNode&&a.parentNode.removeChild(a)},isPlaying:function(){return this.GG}}}());vdb.f.a.video.ka.CM.dh=function(c,d){c=c||vdb.b.wg(d.Ka.xa,["videos",0]);return!!c&&(c.videoSourceType||c.JA||"").toLowerCase()===vdb.k.KC.o5};vdb.f.a.video.ka.zB=vdb.f.a.video.ka.Je.extend(function(){var c=vdb.log.R("ErrorModule360"),d=vdb.f.k.zj;return{n:function(b,a){c.debug("init");this._super(b,a);this.bf=d.JY},play:function(){},pause:function(){},Ic:function(){var b=this.j.getPlayer(),b=b&&b.a&&b.a.Gd();c.debug("setVideo");this.j.wf=new vdb.vr.Player({container:this.M.N.parentNode,panel:{customColor:b}});return vdb.Promise.resolve()},detach:function(){c.debug("detach");this._super()}}}());
vdb.f.a.video.ka.zB.dh=function(c,d){return!!(c&&c.Hf&&d.sv)};vdb.f.a.video.ka.zB.bk=!1;vdb.f.a.video.ka.mJ=vdb.f.a.video.ka.Je.extend(function(){function c(a){this.QN=!0;this.Ub.action("360_scroll",null,this.M.Ja(),null,null,{Ii:a})}function d(a){this.QN||(this.RN&&this.RN.Ga(),a===h.yj&&this.Fha())}function b(b){this.QN=!1;this.RN=a.Ea(this.j,f.WB,c.bind(this,b))}var a=vdb.o.U,f=vdb.o.Ch,h=vdb.f.k.QX;return{n:function(b,c){this._super(b,c);this.Ub=this.j.Ed();this.la=a.empty()},Pi:function(){a.bind(this.j,f.Aw,b.bind(this,h.yj)).link(this.la);a.bind(this.j,f.Bw,d.bind(this,h.yj)).link(this.la);
a.bind(this.j,f.xJ,b.bind(this,h.wJ)).link(this.la);a.bind(this.j,f.yJ,d.bind(this,h.wJ)).link(this.la)},detach:function(){this._super();this.la.Ga()}}}());vdb.f.a.video.ka.Gw=vdb.f.a.video.ka.Je.extend(function(){function c(a){g.error("Player error:"+a.data);this.Jh&&this.Jh.reject()}function d(a,b){var c=this.xa.ze(0);c&&(b=b||{},b.id=c.id,b.name=b.name||c.title,b.url=this.ud.getVideoUrl(),this.j.H.Jf().then(function(c){c.dispatchEvent({type:a,data:b})}))}function b(){this.Fj=!0;this.xa=new vdb.B.vo(this.j.H.xa);this.Ma?this.Ic(this.Ma):(this.Ma=this.xa.ca(),this.ud.cueVideoById(this.Ma.nl));this.ud.setSize("100%","100%");this.mute(this.JD);this.setVolume(this.hE);
document.getElementById(this.pD).removeAttribute("allowfullscreen");this.tf=this.j.Ed();this.tf.display({width:this.Vd.offsetWidth,height:this.Vd.offsetHeight});this.Jh.resolve();this.j.Ka.dispatchEvent(new vdb.o.Event(vdb.g.D.zw))}function a(){this.e7=setInterval(function(){var a=this.Ja();a!==this.t6&&(this.t6=a,this.M.dispatchEvent(vdb.o.Aa.vb,{currentTime:a,duration:this.getDuration(),buffered:this.M.Rt(),Qh:this.getDuration()}))}.bind(this),500)}function f(){var b=this.a.l.eq();b?b.Ju():(this.M.dispatchEvent(vdb.o.Aa.yw),
this.M.dispatchEvent(vdb.o.Aa.Zr,{Qh:this.getDuration(),duration:this.getDuration(),playbackRate:this.saa(),width:this.Vd.offsetWidth,height:this.Vd.offsetHeight}),this.M.dispatchEvent(vdb.o.Aa.So,{duration:this.getDuration()}),a.call(this),this.Ma.metadata.duration=1E3*this.ud.getDuration(),d.call(this,"youtubevideoselected",{videoId:this.Ma.id,name:this.Ma.title,overlayURL:this.Ma.metadata.overlayUrl||"",duration:this.getDuration()}))}function h(a){switch(a.data){case window.YT.PlayerState.PLAYING:this.Kc||
(this.Kc=!0,this.cN=!1,f.call(this));this.Fc?(this.Fc=!1,this.M.dispatchEvent(vdb.o.Aa.vi,{duration:this.getDuration()})):this.M.dispatchEvent(vdb.o.Aa.Sa,{duration:this.getDuration()});this.tf.action("play",void 0,this.ud.getDuration());break;case window.YT.PlayerState.ENDED:this.cN=!0;this.M.dispatchEvent(vdb.o.Aa.hb,{currentTime:this.Ja(),complete:!0});this.Vd.style.zIndex="9";break;case window.YT.PlayerState.PAUSED:this.Fc=!0;this.M.dispatchEvent(vdb.o.Aa.ub);break;case window.YT.PlayerState.BUFFERING:break;
case window.YT.PlayerState.CUED:break;default:g.info("YouTube event.data:",a.data)}}function k(){this.M.dispatchEvent(vdb.o.Aa.Dc,{muted:this.JD,volume:this.hE})}var g=vdb.log.R("YoutubeModule"),l=vdb.f.k.zj,n=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\u200c\u200b\&\?]*).*/;return{n:function(a,d,f){this._super(a,d);this.bf=l.q5;this.pD="vdb-youtube-player-"+this.j.id;this.Ss=document.getElementById("videos-container");this.Jh=new vdb.$b;this.Vd=document.createElement("div");this.Vd.setAttribute("id",
"youtubeContainer");this.Vd.style.width="100%";this.Vd.style.height="100%";this.Vd.style.position="absolute";this.Vd.style.zIndex="9";this.Ss.insertBefore(this.Vd,this.Ss.firstChild);this.M.aa();a=document.createElement("div");a.setAttribute("id",this.pD);this.Vd.appendChild(a);a=document.createElement("script");a.src=f?f.$na:"https://www.youtube.com/iframe_api";this.Vd.insertBefore(a,this.Vd.firstChild);f=function(){this.ud=new window.YT.Player(this.pD,{height:this.M.N.clientHeight,width:this.M.N.clientWidth,
playerVars:{controls:0},events:{onReady:b.bind(this),onStateChange:h.bind(this),onError:c.bind(this)}});this.a=this.j.Ka.a}.bind(this);window.YT&&window.YT.Player?f():window.onYouTubeIframeAPIReady=f},Ic:function(a){this.Ma=a;this.Fj&&(this.Vd.style.zIndex="4",this.Vd.style.display="",this.M.aa(),a=(a=this.ud.getVideoUrl())&&a.match(n),(a&&a[2])!==this.Ma.nl||this.cN?this.ud.cueVideoById(this.Ma.nl):f.call(this));return this.Jh.bb()},detach:function(){this._super();this.Vd.style.zIndex="9";this.Vd.style.display=
"none";this.M.show();clearInterval(this.e7);this.Kc=!1},play:function(){this.Fj&&this.ud.playVideo()},pause:function(){this.Fj&&this.ud.pauseVideo()},getDuration:function(){return this.Fj&&this.ud.getDuration()},saa:function(){return this.Fj&&this.ud.getPlaybackRate()},Ja:function(){return this.Fj&&this.ud.getCurrentTime()},isPlaying:function(){return this.Fj&&this.ud.getPlayerState()===window.YT.PlayerState.PLAYING},seek:function(a){this.Fj&&this.ud.seekTo(a)},Mf:function(){return this.Kc},setVolume:function(a){this.hE=
a;this.ud&&this.ud.setVolume(Math.round(100*a));k.call(this)},mute:function(a){var b=a?"mute":"unMute";if(this.ud&&this.ud[b])this.ud[b]();this.JD=a;k.call(this)},muted:function(){return this.JD},getVolume:function(){return this.hE||this.Fj&&this.ud.getVolume()/100}}}());vdb.f.a.video.ka.Gw.dh=function(c,d){c=c||vdb.b.wg(d.Ka.xa,["videos",0]);return!!c&&(c.videoSourceType||c.JA||"").toLowerCase()===vdb.k.KC.BM};vdb.f.a.video.ka.Gw.bk=!0;vdb.f.a.video.ka.Gw.Mca=!0;vdb.f.a.video.ka.vB=vdb.f.a.video.ka.Je.extend(function(){var c=vdb.log.R("DashModule"),d=vdb.f.k.zj;return{n:function(b,a){c.debug("init");this._super(b,a);this.bf=d.aY;this.sx="dash.all.js"},Lu:function(){this._super();var b=new window.Dash.di.DashContext;this.L=new window.MediaPlayer(b);b.debug.setLogToBrowserConsole(!1);this.L.startup()},Ic:function(b){this.L.attachView(this.M.Na());this.L.attachSource(b.Tf);return new vdb.Promise(function(a){a()})},detach:function(){this._super();this.L.reset()}}}());
vdb.f.a.video.ka.vB.dh=function(c){if(!c||!c.Tf)return!1;var d=vdb.b.Ba;return!(d.Oe()||d.safari||vdb.b.Hd)&&-1!==c.Tf.indexOf(".mpd")};vdb.f.a.video.ka.vB.bk=!0;vdb.f.a.video.V2=function(){function c(a,b){b=b||1;return function(c,d){return-1!=c.indexOf(a)?-1!=d.indexOf(a)?0:-b:-1!=d.indexOf(a)?b:0}}function d(b,d){vdb.c.V.isSupported(b)?a.sort(c(d)):a.sort(c(d,-1))}var b,a,f;return function(h,k){f=k;b=h;a=b.videoUrls;if(!a)return[];d.call(this,"video/ogg",".ogg");d.call(this,"video/mp4",".mp4");var g="maybe"===vdb.c.V.cR("application/vnd.apple.mpegurl"),l=vdb.b.Ys();l&&(4.4>l||5.1>=l&&g)||!vdb.f.a.video.ka.Dh.isSupported()?a.sort(c(".m3u8",-1)):a.sort(c(".m3u8"));
b.Hf&&d.call(this,"video/webm",".webm");if("function"!==typeof f)b.eI(a[0]);else{for(g=0;g<a.length;g++)if(b.eI(a[g]),f(b))return a;b.eI(null)}return a}}();vdb.f.a.video.Aha={};vdb.f.a.video.Aha.Bia=vdb.I.Class.extend(function(){var c=vdb.log.R("AbstractUrlProcessor");return{n:function(d){c.debug("init");this.Ma=d},tF:function(){}}}());vdb.f.a.video.IC={iQ:function(c){return"string"===typeof c?new vdb.B.Fm({videoUrls:[c],title:"Video"}):c},W8:function(c){var d=vdb.k.a.si,b=vdb.b.Vz(c&&c.ia(vdb.g.Wa.r_)),d=c&&(c.kj===d.Xe||c.kj===d.Ev),a=vdb.b.Ba,f={preload:"none",style:"display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; padding: 0; margin: 0; z-index: 1;"};a.Oe()&&("safari"===a.name&&10<=a.version||"chrome"===a.name&&54<=a.version||"fban"===a.name)&&(f.playsinline=!0);c&&c.Nf()?d&&(f.autoplay=!0):b&&
(f["webkit-playsinline"]=!0);return f}};vdb.f.a.video.P4=vdb.Ab.extend(function(){function c(){return!vdb.f.a.iq&&vdb.f.a.yU}function d(a){v.debug("onLoad",this.N.readyState,a);this.dispatchEvent(x.yw)}function b(){this.dispatchEvent(x.Zr,{Qh:this.xe(),duration:this.getDuration(),playbackRate:this.N.playbackRate,width:this.N.videoWidth,height:this.N.videoHeight})}function a(){var a;v.debug("onLoadedMetadata",this.N.readyState);this.getDuration()?b.call(this):(a=function(){this.getDuration()&&(this.dd.removeEventListener("durationchange",
a),b.call(this))}.bind(this),this.dd.addEventListener("durationchange",a))}function f(){v.debug("onWaiting",this.N.readyState);this.dispatchEvent(x.$e)}function h(){(this.Fc=this.Fc||this.N.paused&&!this.N.ended)||this.fg!==this.ip?(this.eg=null,this.ip=this.fg):this.eg&&1E3<Date.now()-this.eg?f.call(this):null==this.eg&&(this.eg=Date.now());this.dispatchEvent(x.Dm,{EV:3>this.N.readyState,buffered:this.N.buffered,duration:this.getDuration()})}function k(a){v.debug("onCanPlay",this.N.readyState,a);
this.Kc&&!this.N.paused||!this.SC||this.Fc||this.Dx||this.N.play()}function g(){this.Dx=!0}function l(a){v.debug("Play",a);this.Kc||(this.fg=0,this.Kc=!0,this.Fc=!1,this.aE=!0,this.dispatchEvent(x.So,{duration:this.getDuration()}));this.Fc?(this.Fc=!1,v.debug("onPlaying",this.N.readyState,"resume"),this.dispatchEvent(x.vi,{duration:this.getDuration()})):(v.debug("onPlaying",this.N.readyState,"play"),this.dispatchEvent(x.Sa,{duration:this.getDuration()}));this.N.controls=c.call(this)&&this.mp&&"1"!==
vdb.Nb.ia(vdb.g.Wa.qK);this.N.poster&&this.N.removeAttribute("poster")}function n(){if(this.Kc){var a=this.getDuration();this.fg=this.N.currentTime;this.fg>a&&(this.fg=a);this.dispatchEvent(x.vb,{currentTime:this.fg,buffered:this.N.buffered,duration:a,Qh:this.xe()})}}function m(){v.debug("onPause",this.N.readyState);(this.Fc=this.N.paused&&!this.N.ended)&&this.dispatchEvent(x.ub)}function p(){v.debug("onSeeking",this.N.readyState);this.dispatchEvent(x.wi,{currentTime:this.fg})}function r(){v.debug("onSeeked",
this.N.readyState);this.dispatchEvent(x.yf)}function q(){v.debug("onVolumeChange");this.dispatchEvent(x.Dc,{muted:this.N.muted,volume:this.N.volume})}function s(){v.debug("onClick");this.dispatchEvent(x.Cm)}function u(){this.dispatchEvent(x.VB)}function t(){this.dispatchEvent(x.EC)}function w(){this.zD=!0;this.dispatchEvent(x.uM)}function A(){this.zD=!1;this.dispatchEvent(x.vM)}var v=vdb.log.R("VideoArea"),x=vdb.o.Aa;return{Ma:null,Dx:!1,Kc:!1,Fc:!1,aE:!1,ip:0,fg:0,SC:!1,eg:null,zD:!1,n:function(b){this._super();
this.N=vdb.b.createElement("video",b);this.mp=vdb.b.Me()?c.call(this):!0;this.dd=vdb.o.IV(this.N);this.dd.Wc("loadstart",d.bind(this));this.dd.Wc("loadedmetadata",a.bind(this));this.dd.Wc("progress",h.bind(this));this.dd.Wc("play",g.bind(this));this.dd.Wc("canplay canplaythrough",k.bind(this));this.dd.Wc("timeupdate",n.bind(this));this.dd.Wc("pause",m.bind(this));this.dd.Wc("seeking",p.bind(this));this.dd.Wc("seeked",r.bind(this));this.dd.Wc("waiting",f.bind(this));this.dd.Wc("ended abort",this.hH.bind(this));
this.dd.Wc("error stalled",this.gj.bind(this));this.dd.Wc("volumechange",q.bind(this));this.dd.Wc("click",s.bind(this));this.dd.Wc("touchstart",t.bind(this));this.dd.Wc("webkitbeginfullscreen",w.bind(this));this.dd.Wc("webkitendfullscreen",A.bind(this));this.dd.Wc("mouseenter",u.bind(this));this.dd.Wc("playing",l.bind(this))},hi:function(a){this.mp=!!a},hH:function(a){v.debug("onEnded",this.N.readyState,a);this.complete(a);this.Dx=this.Kc=!1},complete:function(a){v.debug("onComplete",this.N.readyState,
a);this.Kc&&this.dispatchEvent(x.hb,{currentTime:this.fg,complete:"ended"===a.type})},tt:function(a){if(this.Ma||a){v.debug("cleanVideo");window.vdb.S.empty(this.N);this.N.setAttribute("src","");this.N.removeAttribute("src");if(vdb.b.Hd||vdb.b.fca)this.cE=!0;a||(this.SC=this.aE=this.Dx=this.Kc=!1)}},gj:function(a){v.debug("onError",a);this.cE?this.cE=!1:(a=a&&a.data&&a.data.code?a.data.code:this.N.error?this.N.error.code:null,this.gA(a))},gA:function(a,b,c){if(!b){b="";b=vdb.f.a.video.Q4;switch(a){case MediaError.MEDIA_ERR_ABORTED:b=
b.MEDIA_ERR_ABORTED;break;case MediaError.MEDIA_ERR_NETWORK:b=b.MEDIA_ERR_NETWORK;break;case MediaError.MEDIA_ERR_DECODE:b=b.MEDIA_ERR_DECODE;break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:b=b.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:b=b.ke}b=a+":"+b}b="Can't play video "+this.N.currentSrc+": "+b;v.debug(b);this.dispatchEvent(x.Qo,{code:a,message:b,SQ:c})},kh:function(){this.mp=!1;this.N&&(this.N.controls=this.mp)},Ta:function(){this.mp=c.call(this);this.N&&(this.N.controls=this.mp)},ku:function(a){var b;
return this.N.getAttribute("src")||this.N.getElementsByTagName("source").length?(b=this.N.currentSrc)&&this.Ma===a&&0<=a.videoUrls.indexOf(b):!1},reset:function(){v.debug("reset");this.tt()},ifa:function(){this.ip=this.fg},gI:function(a){this.Ma=a},Ic:function(a,b){v.debug("setVideo",a,b);var c=a,d,f,g,h,k,m;if(c){if(c=vdb.f.a.video.IC.iQ(c),!this.ku(c)){this.gI(c);this.tt();this.cU(b);d=c.videoUrls.length;if(1===d)this.N.setAttribute("src",c.videoUrls[0]);else{f=[];g=[];for(m=0;m<d;m++)if(h=c.videoUrls[m])(k=
vdb.b.KS(h))?vdb.c.V.isSupported(k)?f.push({type:k,url:h}):v.warn("Unsupported media type",h):g.push({type:k,url:h});c=f=f.concat(g);d=window.vdb.S.createDocumentFragment();var l;for(f=0;f<c.length;++f)l=c[f].type,g=window.vdb.S.createElement("source"),l&&(g.type=l),l=g,d.appendChild(l),l.setAttribute("src",c[f].url);vdb.o.IV(l).Wc("error",this.gj.bind(this));this.N.appendChild(d)}try{this.N.load()}catch(p){}}}else this.reset()},cU:function(a){a?this.N.setAttribute("crossorigin","anonymous"):this.N.removeAttribute("crossorigin")},
xd:function(){if(!this.aE){v.debug("touch");try{this.N.load()}catch(a){v.error(a)}}},aa:function(a){this.dO=this.N.style.zIndex;this.N.style.visibility="hidden";this.N.style.display="none";a&&(this.N.style.zIndex="-1000")},show:function(a){this.N.style.visibility="";this.N.style.display="block";a&&this.dO&&(this.N.style.zIndex=this.dO)},vE:function(){this.SC=!0},play:function(){v.debug("play");this.vE();this.N.play()},pause:function(){this.N.pause()},isPlaying:function(){return this.Kc&&!this.Fc},
Xh:function(){return this.Fc},Mf:function(){return this.Kc},Wt:function(){return this.N?this.N.videoHeight:0},Xt:function(){return this.N?this.N.videoWidth:0},stop:function(){v.debug("stop");this.N.pause();this.tt();this.N.load()},ze:function(){return this.Ma},seek:function(a){if(0<=a){a=isNaN(this.getDuration())?0:Math.min(a,this.getDuration()-.5);try{this.N.currentTime=a}catch(b){}}},getDuration:function(){var a=this.N.duration;return a&&Infinity!==a?a:0},xe:function(){return this.getDuration()-
this.Yy()},Iq:function(a){this.z5=a},Yy:function(){return this.z5||0},Ja:function(){return this.N.currentTime||0},Yp:function(){var a=this.Ja()/this.getDuration();return isNaN(a)?0:a},Rt:function(){return this.N.buffered},wn:function(){return this.N.offsetWidth||this.N.parentNode&&this.N.parentNode.offsetWidth||0},bq:function(){return this.N.offsetHeight||this.N.parentNode&&this.N.parentNode.offsetHeight||0},setVolume:function(a){try{this.N.volume=a,this.N.muted=!a}catch(b){}},getVolume:function(){return this.N.volume},
mute:function(a){try{this.N.muted=a}catch(b){}},muted:function(){return this.N.muted},wna:function(a){a?this.N.poster=a:this.N.removeAttribute("poster")},Yla:function(){return this.N.parentNode},Na:function(){return this.N},webkitEnterFullscreen:function(){try{this.N.webkitEnterFullscreen()}catch(a){}},bz:function(){return this.N.currentSrc},tla:function(){return this.N.clientHeight},ula:function(){return this.N.clientWidth},pE:function(a,b){this.N.addEventListener(a,b)},webkitExitFullscreen:function(){try{this.N.webkitExitFullscreen()}catch(a){}},
dk:function(){return this.zD},rS:function(){return!0},jH:d,kH:a,fH:k,Tma:m,xda:s,oF:function(a){this.N.style.cursor=a?"pointer":""}}}());vdb.f.a.Cw=vdb.I.Class.extend({n:function(){this.DV=new vdb.$b;this.BS=!1},load:function(){this.BS||(this.BS=!0,vdb.b.mq(document,vdb.Nb.we("player/js/17.21.1449/lib/vr.js"),this.DV.resolve));return this.DV.bb()}});vdb.f.a.Cw.Fb=function(){var c;return function(){return c=c||new vdb.f.a.Cw}}();vdb.f.a.MC=vdb.I.Class.extend(function(){function c(a){return function(b){b=b||{};b.type=a;vdb.Nb.dispatchEvent(a,b)}}var d=vdb.o.U,b=vdb.o.Ch,a=vdb.g.D,f={setOrientation:b.HL,resetOrientation:b.yL,toggleGyro:b.$L,toggleSkin:b.aM,toggleStereoscopic:b.zC,createTooltip:a.eM,pauseTooltip:a.dM,showTooltipIcon:a.LL,hideTooltipIcon:a.uK,openTooltipIcon:a.iL,closeTooltipIcon:a.uJ,showTooltip:a.KL,hideTooltip:a.tK};return{n:function(h,k,g){var l=vdb.vr.Events,n,m;this.hg={};this.hg[l.MOVED]=b.WB;this.hg[l.VIDEO_PRESS]=
b.Aw;this.hg[l.VIDEO_RELEASE]=b.Bw;this.hg[l.COMPASS_PRESS]=b.xJ;this.hg[l.COMPASS_RELEASE]=b.yJ;this.hg[l.TOOLTIP_BUTTON_CLICK]=a.bM;this.hg[l.TOOLTIP_CLICK]=a.cM;if(h){for(n in this.hg)Object.prototype.hasOwnProperty.call(this.hg,n)&&d.bind(h,n,c(this.hg[n]));g||(g=function(a,b){h[a](b&&b.data)})}for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&d.bind(vdb.Nb,f[m],g.bind(null,m)).link(k)},uda:function(a){var b=this.hg[a.type];b&&c(b).call(null,a)},Xla:function(){return this.hg}}}());vdb.f.a.video.ka.Do=vdb.f.a.video.ka.mJ.extend(function(){var c=vdb.log.R("Module360"),d=vdb.g.Wa,b=vdb.f.k.zj;return{n:function(a,d){c.debug("init");this._super(a,d);this.bf=b.C0},Lu:function(){c.debug("prepareModule");this._super()},Ic:function(a){a=a&&a.Hf||{};var b=this.j.Ka.a;c.debug("setVideo");this.j.wf=new vdb.vr.Player({rendererType:vdb.b.Hd?"frame":"video",width:vdb.b.Hd?960:null,height:vdb.b.Hd?540:null,container:this.M.N.parentNode,projectionType:a.Ou,tilt:a.jv,centeredFishEye:this.j.ia(d.nB),
fishEyeAngle:this.j.ia(d.EB),panel:{customColor:b&&b.Gd()}});new vdb.f.a.MC(this.j.wf,this.la);this.j.wf.render(this.M.Na());this.M.aa(!0);this.Pi();return vdb.Promise.resolve()},ug:function(){return this.j.wf&&this.j.wf.getOrientation()},detach:function(){c.debug("detach");this._super();this.M.show(!0)}}}());vdb.f.a.video.ka.Do.dh=function(c,d){return!!c&&!!c.Hf&&d.OA!==vdb.k.gs.nr&&!d.sv&&!vdb.b.Ba.Oe()&&!vdb.b.Ba.safari&&!(vdb.b.Hd&&!vdb.f.a.video.ka.Dh.dh(c,d))};vdb.f.a.video.ka.Do.bk=!1;vdb.f.a.video.ka.yB=vdb.f.a.video.ka.mJ.extend(function(){function c(a){a=a.yaw;var b=Math.abs(a)%(2*Math.PI),b=b>Math.PI?b-2*Math.PI:b;this.j.wf.rotateCompass(0>a?-b:b);this.j.dispatchEvent(T.WB)}function d(){x.call(this,"touchstart");this.M.dispatchEvent(vdb.o.Aa.EC);this.j.dispatchEvent(T.Aw)}function b(){v.call(this,"touchend");this.j.dispatchEvent(T.Bw)}function a(){v.call(this,"mouseup");this.j.dispatchEvent(T.Bw)}function f(){x.call(this,"mousemove")}function h(){v.call(this,"mouseout")}function k(){x.call(this,
"mouseover");this.M.dispatchEvent(vdb.o.Aa.VB)}function g(){this.j.dispatchEvent(T.Aw)}function l(){this.L.dispatchEvent(K.bd,{interactionType:vdb.k.Ie.No});this.j.wf.toggleSkin()}function n(a){this.M.gA.call(this.M,a.code,a.message,!0)}function m(){this.Kc=!1;this.M.dispatchEvent(vdb.o.Aa.hb,{currentTime:this.Ja(),complete:!0});this.L9()}function p(){this.M.dispatchEvent(vdb.o.Aa.Dc,{muted:this.muted(),volume:this.getVolume()})}function r(){this.M.dispatchEvent(vdb.o.Aa.yf)}function q(){this.M.dispatchEvent(vdb.o.Aa.wi,
{currentTime:this.Ja()})}function s(){(this.Fc=!this.Ia.isEnded())&&this.M.dispatchEvent(vdb.o.Aa.ub)}function u(){this.Fc?(this.Fc=!1,this.M.dispatchEvent(vdb.o.Aa.vi,{duration:this.getDuration()})):this.M.dispatchEvent(vdb.o.Aa.Sa,{duration:this.getDuration()})}function t(){this.M.dispatchEvent(vdb.o.Aa.Dm,{EV:this.Ia.getReadyState(),buffered:this.Ia.getBuffered(),duration:this.getDuration()})}function w(){var a=this.getDuration();this.M.dispatchEvent(vdb.o.Aa.vb,{currentTime:this.Ja(),buffered:this.Ia.getBuffered(),
duration:a,Qh:a})}function A(){this.M.dispatchEvent(vdb.o.Aa.$e)}function v(a){var b=this.W.ownerDocument,c=b.createEvent("Events");c.initEvent(a,!0,!0);b.dispatchEvent(c)}function x(a){var b=this.W.ownerDocument.createEvent("Events");b.initEvent(a,!0,!0);this.W.dispatchEvent(b)}function y(){this.lda=(new vdb.Ac.$K({F:this.W,Sn:"//cloud-watch.envrmnt.com/kelvin/client/libs/kelvin-api.js",WR:["ENVRMNT","createPlayer"]})).rP('<div id="envrmnt-360-player" style="width: 100%; height: 100%;"></div>').fU(!0).O("width: 100%; height: 100%; position: absolute; top: 0; left: 0; border: 0;").load(function(a){a=
a.ENVRMNT;this.Zc=a.PlayerEvent;a.createPlayer(this.gT,"#envrmnt-360-player").then(B.bind(this))}.bind(this))}function B(a){H.debug("onPlayerReady",a);this.j.Vv&&this.j.Vv.n(a,this.Zc);this.Ia=a;this.Pi();a=this.getDuration();this.Ia.hasUnmuteOverlay()&&(this.L.dispatchEvent(K.rK),this.j.wf.toggleSkin());this.M.dispatchEvent(vdb.o.Aa.yw);this.M.dispatchEvent(vdb.o.Aa.Zr,{Qh:a,duration:a,playbackRate:this.Ia.getPlaybackRate(),width:this.W.clientWidth,height:this.W.clientHeight});this.Jh.resolve()}
var H=vdb.log.R("EnvrmntModule360"),K=vdb.g.D,S=vdb.f.k.zj,T=vdb.o.Ch,G=vdb.o.U,ba=Math.PI/2;return{n:function(a,b){H.debug("init");this._super(a,b);this.bf=S.GY;this.W=b.N.parentNode;this.L=this.j.getPlayer().a;this.Kc=!1;"1"===vdb.c.Ra.fc("debug-envrmnt")&&(this.op=this.j.Vca(vdb.g.mw.FY))},Pi:function(){var x=vdb.vr.Events;new vdb.f.a.MC(this.j.wf,this.la);G.bind(this.j.wf,x.MOVE,this.Afa.bind(this)).link(this.la);G.bind(this.j.wf,x.RESET,this.gfa.bind(this)).link(this.la);G.bind(this.j,K.zC,this.Xga.bind(this)).link(this.la);
G.bind(this.Ia,this.Zc.CAMERA_ROTATION,c.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.ERROR,n.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.UNMUTE_BUTTON_CLICK,l.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_ABORT,m.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_ENDED,m.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_MOUSEDOWN,g.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_MOUSEENTER,k.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_MOUSELEAVE,h.bind(this)).link(this.la);
G.bind(this.Ia,this.Zc.VIDEO_MOUSEMOVE,f.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_MOUSEUP,a.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_PAUSE,s.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_PLAYING,u.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_PROGRESS,t.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_SEEKED,r.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_SEEKING,q.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_TIMEUPDATE,w.bind(this)).link(this.la);
G.bind(this.Ia,this.Zc.VIDEO_TOUCHEND,b.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_TOUCHSTART,d.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_VOLUMECHANGE,p.bind(this)).link(this.la);G.bind(this.Ia,this.Zc.VIDEO_WAITING,A.bind(this)).link(this.la);this._super()},Ic:function(a){var b=this.L.Gd(),c=this.j.yR();this.gT={autoplay:!1,defaultCameraRotation:{pitch:0,yaw:Math.PI,roll:0},mute:this.M.muted(),volume:this.M.getVolume(),unmuteOverlay:{fill:b,url:c},uuid:a.nl};H.debug("setVideo",
this.gT);this.j.wf=new vdb.vr.Player({container:this.W,panel:{customColor:b}});this.M.aa();this.Jh=new vdb.$b;y.call(this);return this.Jh.bb()},play:function(){this.Ia&&(this.Ia.play(),this.Kc||(this.Kc=!0,this.Fc=!1,this.M.dispatchEvent(vdb.o.Aa.So,{duration:this.getDuration()})))},pause:function(){this.Ia&&this.Ia.pause()},mute:function(a){if(this.Ia)this.Ia[a?"mute":"unmute"]()},seek:function(a){this.Ia&&this.Ia.seekTo(a)},Afa:function(a){if(this.Ia){var b=this.Ia.getCameraRotation(),c=Math.max(Math.min(b.pitch-
a.data.y/60,ba),-1*ba);this.Ia.setCamera(c,b.yaw-a.data.x/60,0)}},gfa:function(){this.Ia&&this.Ia.resetCamera()},Xga:function(){this.Ia&&this.Ia.toggleVR()},Mf:function(){return this.Kc},isPlaying:function(){return this.Kc&&!this.Fc},Ja:function(){var a=0;this.Ia&&(a=this.Ia.getCurrentTime()||0);return a},getDuration:function(){var a=0;this.Ia&&(a=this.Ia.getDuration()||0);return a},setVolume:function(a){this.Ia&&this.Ia.setVolume(Math.round(100*a)/100)},getVolume:function(){var a=0;this.Ia&&(a=this.Ia.getVolume()||
0);return a},muted:function(){var a=!1;this.Ia&&(a=this.Ia.isMuted()||!this.getVolume());return a},detach:function(){H.debug("detach");this._super();this.Kc=!1;this.lda.dispose();this.M.show()}}}());vdb.f.a.video.ka.yB.dh=function(c,d){return!!c&&!!c.Hf&&d.OA===vdb.k.gs.nr&&!d.sv};vdb.f.a.video.ka.yB.bk=!0;vdb.f.a.b1=vdb.I.Class.extend(function(){var c=vdb.b;return{n:function(d,b){this.a=d;this.be=b.be;this.Tz=c.createElement("div",{id:"vdb-player-overlay-container-"+this.be,"class":"vdb-player-overlay-container",style:{position:"absolute",width:"100%",height:"100%",left:"0",top:"0",zIndex:"2",pointerEvents:"none"}},this.a.F)}}}());vdb.f.a.O4=vdb.I.Class.extend(function(){var c=window.oath.ads.sdk.AdEvent,d=vdb.g.D;return{n:function(b,a,f){this.r6=b;this.Mw=0;var h=this;vdb.o.U.bind(a,c.STARTED,function(){h.Mw+=1});vdb.o.U.bind(f,d.le,function(){h.Mw=0})},pS:function(){return this.Mw<this.r6}}}());vdb.f.a.d2=vdb.I.Class.extend(function(){var c=vdb.b,d=vdb.k.Y,b=vdb.log.R("PseudoFullscreenController"),a=vdb.g.D;return{n:function(a){this.j=a.getContext();this.W=this.j.Ka.bc();this.zp=this.j.Ka.ig;this.a=a.ta();this.hd=!1;this.j.va.Ca(d.Bk);window.vdb.S.IQ(".vdb-fullscreen{width:100%!important;height:100%!important;padding:0!important;max-width:none!important;max-height:none!important;position:fixed;top:0;left:0;background-color:black;z-index:999999;-webkit-overflow-scrolling:touch}.vdb-fullscreen-wrapper{width:100%!important;height:100%!important;padding-bottom:0!important;position:fixed!important;top:0!important;left:0!important}",
this.W)},Rf:function(d){d!==this.hd&&("undefined"===typeof d&&(d=!this.hd),d?(b.debug("enterFullscreen"),c.u([this.W],"vdb-fullscreen"),c.u([this.zp],"vdb-fullscreen-wrapper"),this.a.dispatchEvent(a.Bc,{userInitiated:!0}),this.hd=!0):(b.debug("exitFullscreen"),c.J([this.W],"vdb-fullscreen"),c.J([this.zp],"vdb-fullscreen-wrapper"),this.a.dispatchEvent(a.Cc,{userInitiated:!0}),this.hd=!1))}}}());vdb.f.a.d5=vdb.I.Class.extend(function(){function c(c){if(this.Uy){var b=c&&c.data&&c.data.volume,b=isNaN(b)?1:b,b=0===b%1?""+b:b.toFixed(2);c=c&&c.data&&c.data.muted;"undefined"===typeof c&&(c=!(0<b));vdb.sessionStorage.setItem("o2playervolume",b);vdb.sessionStorage.setItem("o2playermute",c)}}return{n:function(c,b,a){this.a=c;this.i=a;this.Uy=this.iI=!1;this.i.Dl||this.i.Bg||b===vdb.k.a.xC.Fk||b===vdb.k.a.xC.WK||this.i.ia(vdb.g.Wa.pY)||(this.Uy=this.iI=!0)},Ef:function(){this.iI&&(this.a.addEventListener(vdb.g.D.yh,
c.bind(this)),this.a.addEventListener(vdb.g.D.Dc,c.bind(this)),this.iI=!1)},getVolume:function(){if(this.Uy){var c=vdb.sessionStorage.getItem("o2playervolume");if(null!==c)return c=+c,0>c||1<c?void 0:c}},naa:function(){return this.Uy&&null!==vdb.sessionStorage.getItem("o2playermute")?"true"===vdb.sessionStorage.getItem("o2playermute"):void 0}}}());vdb.Xa={};vdb.Xa.Ya={};vdb.f.a.UX=vdb.I.Class.extend(function(){function c(){this.QE.resolve()}return{n:function(d,b){this.QE=new vdb.$b;if("skin5"===d)this.QE.resolve();else{var a=b.we("player/js/17.21.1449/coverings/%s.js".replace("%s",d))+"?cb="+vdb.version();vdb.b.mq(document,a,c.bind(this))}},eR:function(){return this.QE.bb()}}}());window.vdb.Xa=vdb.Xa;vdb.f.a.uW=vdb.Ab.extend(function(){function c(){if(this.dS){d.call(this);var a=this.$U&&!this.GH&&this.q7;this.GH||this.a.Wba()||a?g.u(this.a.F,"small-ad-info-bar"):this.F.clientWidth>=this.XV?g.u(this.a.F,"expand-ad-info-bar"):g.u(this.a.F,"tiny-ad-info-bar")}}function d(){g.J(this.a.F,["small-ad-info-bar","expand-ad-info-bar","tiny-ad-info-bar"])}function b(){this.Tj&&this.Tj.Ga();this.dS=!1;d.call(this)}function a(){g.J(this.dy,"in-progress");this.Jw&&this.Jw.parentNode===this.Zm&&this.Zm.removeChild(this.Jw)}
function f(a){if(!this.l.gu()){var b=a.data.timeRemaining;g.O(this.dy,{width:a.data.progressPercent+"%"});0<b&&(this.ey.innerHTML=k.jb(b),a=parseInt(b),this.VU.innerHTML="Video will play in "+(10>a?"0"+a:a))}}function h(a){if(a.data.type!==vdb.k.nd.cg){this.q7=a.data.parameters&&a.data.parameters.minibar;var b=this.i.KF().Rna;b&&b.resolve(this.Zm.offsetHeight);b=this.l.ca();this.dS=!0;this.Tj=l.bind(this.i,n.yd,c.bind(this));this.r7.innerHTML=this.dP.replace(this.tM,b&&b.title||"Your video");this.ey.innerHTML=
"";g.O(this.dy,{width:"0"});g.u(this.dy,"in-progress");this.VU.innerHTML="";this.l.gu()&&g.u(this.F,"branded-player");a.data.adIconsContainer&&(this.Jw=a.data.adIconsContainer,this.bP.appendChild(this.Jw));c.call(this)}}var k=vdb.c.V,g=vdb.b,l=vdb.o.U,n=vdb.g.D,m=!!g.ya();return{n:function(c){this.l=c;this.i=c.getContext();this.a=c.ta();this.F=c.bc();this.GH=this.i.ia(vdb.g.Wa.xv);this.i.ia(vdb.g.Wa.$ha);this.$U=!0;this.dP='"'+this.tM+'" will play after the ad';this.Zm=g.createElement("div",{"class":"ad-info-bar"});
this.bP=g.createElement("div",{"class":"ad-icons-layer-container"});this.v7=g.createElement("div",{"class":"ad-progress-bar"},this.Zm);this.dy=g.createElement("div",{"class":"ad-progress"},this.v7);this.zI=g.createElement("div",{"class":"top-ad-container"});this.cP=g.createElement("div",{"class":"ad-info-container"},this.zI);this.r7=g.createElement("div",{"class":"ad-info-caption"},this.cP);this.ey=g.createElement("div",{"class":"ad-time-remaining"},this.cP);this.VU=g.createElement("div",{"class":"tiny-ad-info-container"},
this.zI);this.a.F.appendChild(this.bP);this.a.F.appendChild(this.Zm);this.a.F.appendChild(this.zI);window.vdb.S.na(".ad-info-bar{position:absolute;bottom:100%;width:100%;-moz-transform:translateY(-37px);-webkit-transform:translateY(-37px);transform:translateY(-37px);-moz-transition:-moz-transform .5s;-webkit-transition:-webkit-transform .5s;transition:transform .5s;z-index:4}.top-ad-container{position:absolute;top:4px;width:100%;z-index:1}.ad-progress-bar{bottom:-4px;height:4px;background-color:rgba(34,34,34,0.15);position:relative;display:none}.expand-ad-info-bar .ad-progress-bar,.small-ad-info-bar .ad-progress-bar{display:block}.expand-ad-info-bar .ad-info-bar,.small-ad-info-bar .ad-info-bar,.tiny-ad-info-bar .ad-info-bar{-moz-transform:translateY(0);-webkit-transform:translateY(0);transform:translateY(0);-moz-transition:-moz-transform .5s;-webkit-transition:-webkit-transform .5s;transition:transform .5s;display:block}.ad-progress{position:absolute;top:0;left:0;height:100%;width:0;background-color:#customColor}.in-progress{-webkit-transition:width .3s linear;-moz-transition:width .3s linear;transition:width .3s linear}.ad-info-container{color:#d0d0d0;font:12px/13px Arial;background-color:rgba(34,34,34,0.85);padding:10px 15px;display:none;table-layout:fixed;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.expand-ad-info-bar .ad-info-container{display:table}.tiny-ad-info-container{color:#d0d0d0;padding:2px 6px 3px;font:11px Arial;background-color:rgba(34,34,34,0.6);width:auto;border-color:rgba(153,153,153,0.6);border-width:1px;border-style:solid;display:inline-block;position:absolute;right:0;opacity:0;pointer-events:none;-webkit-transition:opacity .5s;-moz-transition:opacity .5s;transition:opacity .5s}.tiny-ad-info-bar .tiny-ad-info-container{opacity:1;display:inline-block;pointer-events:auto}.ad-info-caption{display:table-cell;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ad-time-remaining{display:table-cell;text-align:right;width:40px}.ad-icons-layer-container{width:inherit;height:inherit;position:absolute;top:0;pointer-events:none}.ad-icons-layer-container .ad-icons-layer{pointer-events:auto}".replace(/#customColor/g,
this.a.Gd()));m&&g.u(this.Zm,"mobile");this.rc=this.rc||new vdb.o.he(l.bind(this.a,n.kb,h.bind(this)),l.bind(this.a,n.md,f.bind(this)),l.bind(this.a,n.uc,a.bind(this)),l.bind(this.a,vdb.g.D.aB,b.bind(this)));this.ey.innerHTML="&nbsp;"},dispose:function(){this.rc&&(this.rc.Ga(),this.rc=null);vdb.b.Kd(this.Zm)},XV:400,tM:"{videotitle}"}}());vdb.f.a.CC=vdb.I.Class.extend(function(){function c(){switch(this.Ag){case "right":b.O(this.fo,{left:this.Fq.offsetLeft+this.Fq.offsetWidth+8+3+"px"});d(this.fo,this.Fq,"horizontal");break;case "top":b.O(this.fo,{top:"-"+this.Fq.offsetHeight+"px"}),d(this.fo,this.Fq,"vertical")}}function d(a,c,d){switch(d){case "vertical":b.O(a,{left:c.offsetLeft+(c.offsetWidth-a.offsetWidth)/2+"px"});break;case "horizontal":b.O(a,{top:c.offsetTop+(c.offsetHeight-a.offsetHeight)/2+"px"})}}var b=vdb.b,a=vdb.k.Y;return{n:function(d,
h,k){var g=vdb.Nb.va.Ca(a.Bk).Ne();this.Fq=d;this.Ag=h;this.title=k;this.fo=b.createElement("div",{style:{display:"block",height:"auto",position:"absolute",borderRadius:"3px",backgroundColor:"white",boxShadow:"0 0 4px 0 rgba(0,0,0,0.5)",padding:"3px",textOverflow:"ellipsis",zIndex:"2",maxWidth:"40%",visibility:"hidden"},"class":"tooltip"},this.Fq.parentNode);this.Vga=b.createElement("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},this.fo);d=this.Tga=b.createElement("span",
{style:{"font-family":"Aktiv, Arial","line-height":"16px","font-size":"11.5px",color:"#262626","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}},this.Vga,this.title);h=this.Ag;k=b.createElement("div",{style:{position:"absolute",border:"4px solid",borderColor:"transparent transparent white white",transformOrigin:"0 0",boxShadow:"-3px 3px 3px 0 rgba(0, 0, 0, 0.4)"}});switch(h){case "right":b.O(k,
{top:"calc(50% - 5px)",left:"0",transform:"rotate(45deg)"});break;case "top":b.O(k,{top:"calc(100% - 2px)",left:"calc(50% - 5px)",transform:"rotate(-45deg)"})}d.appendChild(k);c.call(this);g.addEventListener("resize",c.bind(this))},show:function(){b.O(this.fo,{visibility:"visible"});this.visible=!0},aa:function(){b.O(this.fo,{visibility:"hidden"});this.visible=!1},Vc:function(){return this.visible}}}());vdb.f.a.yY={NONE:"none",Nv:"content",xc:"preroll",Rb:"midroll"};vdb.f.a.W1=vdb.I.Class.extend({Bga:function(){this.Ej||(this.Ej=(new Date).getTime())},KU:function(){if(this.Ej){var c=Date.now();this.Yx=(this.Yx?this.Yx:0)+c-this.Ej;this.us=(this.us?this.us:0)+c-this.Ej;this.Ej=0}},Au:function(){this.JO=0},ik:function(){this.JO++},Jda:function(){this.us=0},Eda:function(c,d){this.$k=c.duration?c.duration:0;var b=d&&d.metadata&&d.metadata.duration;b&&(this.$k=Math.min(this.$k,b))},hj:function(c){this.fg=Math.min(c||0,this.fG());this.N5=this.$k?this.fg/this.$k:0},
Waa:function(c){c=c||Date.now();return((this.Yx?this.Yx:0)+(this.Ej?c-this.Ej:0))/1E3},D$:function(c){c=c||Date.now();return((this.us?this.us:0)+(this.Ej?c-this.Ej:0))/1E3},Xaa:function(){return this.JO||0},fG:function(){return this.$k||0},Ja:function(){return this.fg||0},Yp:function(){return this.N5||0},Oaa:function(){var c=Date.now();return{currentTime:this.Ja(),currentPlayTime:this.D$(c),currentPercent:this.Yp(),videoLength:this.fG(),totalPlayTime:this.Waa(),totalVideoCount:this.Xaa(c)}}});vdb.f.a.rj={};vdb.f.a.rj.PJ={tQ:function(c){return{length:c.length,start:function(d){return d<this.length?c[d].start:void 0},end:function(d){return d<this.length?c[d].end:void 0}}}};vdb.f.a.rj.OJ={yK:{"https://cdn-ssl.vidible.tv":"https://cdn-ssl.vidible.tv/prod/player/js/17.21.1449/xdomain360embed.html","https://videos.vidible.tv":"https://cdn-ssl.vidible.tv/prod/player/js/17.21.1449/xdomain360embed.html".replace("https://cdn-ssl.vidible.tv","https://videos.vidible.tv"),"https://content.uplynk.com":"https://content.uplynk.com/_aol/xdomain360.html",E1:"hls.adylevy.com/_aol/xdomain360.html",Z_:"{bcid}.cdn.aolon.com/prod/player/js/17.21.1449/xdomain360.html"}};vdb.f.a.rj.XW=vdb.Ab.extend(function(){function c(a){Object.defineProperty(a,"currentTime",{get:function(){return this.Ud.currentTime},set:function(a){this.S6(a)}});Object.defineProperty(a,"duration",{get:function(){return this.Ud.duration}});Object.defineProperty(a,"readyState",{get:function(){return this.Ud.readyState}});Object.defineProperty(a,"buffered",{get:function(){return this.Ud.buffered}});Object.defineProperty(a,"paused",{get:function(){return this.Ud.paused}});Object.defineProperty(a,
"ended",{get:function(){return this.Ud.ended}});Object.defineProperty(a,"src",{get:function(){return this.qe}});Object.defineProperty(a,"muted",{set:function(a){this.zO(a)},get:function(){return this.o6()}});Object.defineProperty(a,"volume",{set:function(a){this.V6(a)},get:function(){return this.V5()}});Object.defineProperty(a,"playbackRate",{get:function(){return this.Ud.playbackRate}});Object.defineProperty(a,"videoWidth",{get:function(){return this.Ud.videoWidth}});Object.defineProperty(a,"videoHeight",
{get:function(){return this.Ud.videoHeight}});Object.defineProperty(a,"orientation",{set:function(a){this.T6(a)},get:function(){return this.Ud.orientation}})}function d(){this.volume=1;this.muted=!1;this.duration=this.currentTime=0;this.paused=!0;this.ended=!1;this.waiting=!0;this.readyState=HTMLMediaElement.HAVE_NOTHING;this.buffered=a.tQ({length:0})}var b=vdb.log.R("BaseVideo360Adapter"),a=vdb.f.a.rj.PJ;return{n:function(){this._super();this.Ud=new d;this.f6=document.createElement("canvas").getContext("2d").createImageData(1,
1);this.Gi=vdb.Promise.reject(Error("not attached yet"));c(this)},Ic:function(a){if(!this.W)throw Error("BaseVideo360Adapter: Unable to set video url before adding to DOM");this.qe=a.url},getImageData:function(){return this.f6},uE:function(a){b.debug("append to container");this.W=a}}}());vdb.f.a.rj.WX=vdb.f.a.rj.XW.extend(function(){function c(a,b){this.Vg(a,b&&b.data)}function d(){var a=this,b={};(function(){b.ready=function(){a.Jh.resolve()};b.disableemulatedaudio=function(){a.gc&&(a.gc.pause(),delete a.gc)}})();(function(){function c(b){return function(){a.dispatchEvent(b)}}for(var d="loadstart loadedmetadata progress play pause timeupdate seeking seeked volumechange ended abort".split(" "),f=0,g=d.length;f<g;++f)b[d[f]]=c(d[f]);b.waiting=function(){a.gc&&!a.gc.paused&&a.gc.pause();
a.dispatchEvent("waiting")};b.playing=function(){a.dispatchEvent("playing");a.gc&&a.gc.paused&&!a.Ow&&(l.debug("resume audio"),a.gc.currentTime=a.Ud.currentTime,a.gc.play())};b.error=function(b){l.error("iframe error: "+b.error);a.dispatchEvent("error")}})();(function(){function c(a){return function(){var b=document.createEvent("Events"),c=a.gq();c&&(b.initEvent(a.event,!0,!0),c.dispatchEvent(b))}}function d(){return a.W&&a.W.ownerDocument}function f(){return a.W}for(var g=[{event:"mouseup",gq:d},
{event:"mousemove",gq:f},{event:"mouseover",gq:f},{event:"mouseout",gq:d},{event:"touchstart",gq:f},{event:"touchend",gq:d}],h=0,k=g.length;h<k;++h)b[g[h].event]=c(g[h])})();(function(){var c=a.WO.hg,d;b[vdb.vr.Events.MOVED]=function(b){a.Ud.orientation=b&&b.data};for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b[d]=function(b){a.WO.uda(b)})})();return b}function b(a){this.Vg("keydown",{data:{keyCode:a.keyCode}})}function a(){this.Vg("orientationchange",{data:window.orientation})}function f(a){a=
{accelerationIncludingGravity:vdb.b.pc(a.accelerationIncludingGravity),rotationRate:vdb.b.pc(a.rotationRate),timeStamp:a.timeStamp};this.Vg("devicemotion",{data:a})}function h(){var a=vdb.c.Ra.jj(this.Tk);this.jx=a.protocol+"//"+a.hostname}function k(){u=this.W.ownerDocument.createElement("iframe");u.setAttribute("allowtransparency","true");u.setAttribute("allow","autoplay");r.O(u,{position:"absolute",width:"100%",height:"100%",top:0,left:0,border:0,margin:0,zIndex:1,backgroundColor:"transparent"});
u.onload=function(){try{n.bind(u.contentWindow.parent,"message",g.bind(this)).link(this.la),u.contentWindow.postMessage({event:"ready"},this.jx)}catch(a){l.error("Unable to receive messages",a)}}.bind(this);u.onerror=function(a){l.error("iframe error",a);this.Jh.reject(a)};u.src=this.Tk;this.W.appendChild(u)}function g(a){a.origin===this.jx?(a.preventDefault(),this.X5(a)):l.debug("Ignore message from "+a.origin)}var l=vdb.log.R("CrossDomainVideo360Adapter"),n=vdb.o.U,m=vdb.f.a.rj.PJ,p=vdb.f.a.rj.OJ.yK,
r=vdb.b,q=r.Ba,s=q.Oe(),u;return{n:function(a){l.debug("init");this._super();this.la=n.empty();this.WO=new vdb.f.a.MC(null,this.la,c.bind(this));this.Z5=d.call(this);this.Ow=s&&(vdb.Nb.kj===vdb.k.a.si.Xe||a)},S6:function(a){l.debug("currentTime="+a);this.gc&&(this.gc.paused||(l.debug("pause audio"),this.gc.pause()),this.gc.currentTime=a);this.Vg("seek",{time:a})},Ic:function(a,b){this._super(a);var c=a.url,d=vdb.c.Ra.jj(c),f=d.protocol+"//"+d.hostname;s&&(this.gc=b,this.gc.src=c,this.gc.load());this.Tk=
p[f];!this.Tk&&(f=d.hostname.match(new RegExp("(.*)."+"cdn.aolon.com".replace(/\./g,"\\."))))&&(this.Tk=d.protocol+"//"+p.Z_.replace("{bcid}",f[1]));this.Tk?h.call(this):(this.Tk=d.protocol+"//"+p.E1,h.call(this),c=this.jx+"/serve?url="+encodeURIComponent(c));this.Tk+="?e=prod&v="+vdb.version()+"&log="+(0===vdb.log.bg.RF())+"&seek="+(q.Oe()&&10>+(r.yg()||r.$i()))+"&ios="+q.Oe()+"&ie="+r.Hd;this.Jh=new vdb.$b;this.Gi=this.Jh.bb();k.call(this);this.H5();d=vdb.Nb.Ka.a;this.Vg("init",{url:c,projectionType:a.Ou,
tilt:a.jv,centeredFishEye:vdb.Nb.ia(vdb.g.Wa.nB),fishEyeAngle:vdb.Nb.ia(vdb.g.Wa.EB),windowOrientation:window.orientation,customColor:d&&d.Gd()});this.dispatchEvent("volumechange");return this.Gi},T6:function(a){this.Vg("orientation",{value:a})},zO:function(a){this.gc?this.Ow!==a&&((this.Ow=a)?this.gc.pause():this.Ud.waiting||this.Ud.paused||(this.gc.currentTime=this.Ud.currentTime,this.gc.play()),this.dispatchEvent("volumechange")):this.Vg("muted",{value:a})},aa:function(){u.style.visibility="hidden";
u.style.display="none"},show:function(){u.style.visibility="";u.style.display="block"},o6:function(){return this.gc?this.Ow:this.Ud.muted},V6:function(a){this.gc?(this.gc.volume=a,this.zO(!a)):this.Vg("volume",{value:a})},V5:function(){return this.gc?this.gc.volume:this.Ud.volume},load:function(){this.Gi.then(function(){this.Vg("load")}.bind(this));this.gc&&this.gc.load()},play:function(){l.debug("play");this.Vg("play")},pause:function(){l.debug("pause");this.Vg("pause");this.gc&&this.gc.pause()},
Kd:function(){this.Gi&&(this.Gi.then(function(){r.Kd(u)}),this.Gi=vdb.Promise.reject(Error("detached")),this.la.Ga())},R6:function(a){this.Gi.then(function(){u.contentWindow.postMessage(a,this.jx)}.bind(this)).catch(function(b){l.error("Unable to send message",a,b)})},Vg:function(a,b){var c=b||{};c.type=a;this.R6(c)},H5:function(){n.bind(window,"devicemotion",f.bind(this)).link(this.la);n.bind(window,"orientationchange",a.bind(this)).link(this.la);n.bind(document,"keydown",b.bind(this)).link(this.la)},
X5:function(a){a=a.data;var b=this.Z5[a.type];a.videoData&&this.Y5(a.videoData);b&&b.call(this,a)},Y5:function(a){for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var c=this.P5[b];this.Ud[b]=c?c(a[b]):a[b]}},P5:{buffered:m.tQ.bind(m)}}}());vdb.f.a.video.ka.pi=vdb.f.a.video.ka.Do.extend(function(){function c(a){r.debug("error",a);this.M.gj(a)}function d(){this.M.dispatchEvent(vdb.o.Aa.hb,{currentTime:this.Qa.currentTime,complete:!0})}function b(){this.M.dispatchEvent(vdb.o.Aa.Dc,{muted:this.Qa.muted,volume:this.Qa.volume})}function a(){(this.Fc=!this.Qa.ended)&&this.M.dispatchEvent(vdb.o.Aa.ub)}function f(){this.Kc||(this.Kc=!0,this.Fc=!1,this.M.dispatchEvent(vdb.o.Aa.So,{duration:this.getDuration()}));this.Fc?(this.Fc=!1,this.M.dispatchEvent(vdb.o.Aa.vi,
{duration:this.getDuration()})):this.M.dispatchEvent(vdb.o.Aa.Sa,{duration:this.getDuration()})}function h(){this.M.dispatchEvent(vdb.o.Aa.Dm,{EV:this.Qa.readyState,buffered:this.Qa.buffered,duration:this.Qa.duration})}function k(){this.M.dispatchEvent(vdb.o.Aa.yf)}function g(){this.M.dispatchEvent(vdb.o.Aa.wi,{currentTime:this.Qa.currentTime})}function l(){this.M.dispatchEvent(vdb.o.Aa.vb,{currentTime:this.Qa.currentTime,buffered:this.Qa.buffered,duration:this.Qa.duration,Qh:this.Qa.duration})}function n(){this.M.dispatchEvent(vdb.o.Aa.$e)}
function m(){this.M.dispatchEvent(vdb.o.Aa.Zr,{Qh:this.Qa.duration,duration:this.Qa.duration,playbackRate:this.Qa.playbackRate,width:this.Qa.videoWidth,height:this.Qa.videoHeight})}function p(){this.M.dispatchEvent(vdb.o.Aa.yw)}var r=vdb.log.R("CrossDomainModule360"),q=vdb.f.k.zj,s=vdb.o.U;return{n:function(a,b){this._super(a,b);this.bf=q.vX;this.Qa=new vdb.f.a.rj.WX(b.muted())},Pi:function(){var q=d.bind(this);s.bind(this.Qa,"loadstart",p.bind(this)).link(this.la);s.bind(this.Qa,"loadedmetadata",
m.bind(this)).link(this.la);s.bind(this.Qa,"waiting",n.bind(this)).link(this.la);s.bind(this.Qa,"timeupdate",l.bind(this)).link(this.la);s.bind(this.Qa,"seeking",g.bind(this)).link(this.la);s.bind(this.Qa,"seeked",k.bind(this)).link(this.la);s.bind(this.Qa,"progress",h.bind(this)).link(this.la);s.bind(this.Qa,"playing",f.bind(this)).link(this.la);s.bind(this.Qa,"pause",a.bind(this)).link(this.la);s.bind(this.Qa,"volumechange",b.bind(this)).link(this.la);s.bind(this.Qa,"ended",q).link(this.la);s.bind(this.Qa,
"abort",q).link(this.la);s.bind(this.Qa,"error",c.bind(this)).link(this.la);this._super()},Ic:function(a){var b=(vdb.f.a.video.ka.pi.ZT(a)[0]||"").replace("http://content.uplynk.com","https://content.uplynk.com");this.Qa.uE(this.M.N.parentNode);this.M.aa(!0);this.Pi();return this.Qa.Ic({url:b,Ou:a.Hf.Ou,jv:a.Hf.jv},vdb.f.a.video.ka.pi.KO)},play:function(){this.Qa.play()},pause:function(){this.Qa.pause()},mute:function(a){this.Qa.muted=a},seek:function(a){this.Qa.currentTime=a},isPlaying:function(){return!this.Qa.paused&&
!this.Qa.ended},Ja:function(){return this.Qa.currentTime},getDuration:function(){return this.Qa.duration},setVolume:function(a){this.Qa.volume=a},getVolume:function(){return this.Qa.volume},muted:function(){return this.Qa.muted},ug:function(){return this.Qa.orientation},detach:function(){r.debug("detach");this._super();this.Kc=!1;this.Qa.Kd();this.M.show(!0)},Mf:function(){return this.Kc},aa:function(){this.Qa.aa()},show:function(){this.Qa.show()}}}());
vdb.f.a.video.ka.pi.ZT=function(){function c(b){b=vdb.c.Ra.jj(b);return Object.prototype.hasOwnProperty.call(d,b.protocol+"//"+b.hostname)}var d=vdb.f.a.rj.OJ.yK;return function(b){b=b.videoUrls;var a;if(!vdb.b.Hd||10>=vdb.b.Ba.version)a=b.filter(c),0<a.length&&(b=a);return b}}();
vdb.f.a.video.ka.pi.dh=function(c,d){return!!c&&!!c.Hf&&d.OA!==vdb.k.gs.nr&&!d.sv&&(vdb.b.Ba.Oe()||vdb.b.Ba.safari||vdb.b.Hd&&10<vdb.b.Ba.version)&&0<vdb.f.a.video.ka.pi.ZT(c).length&&!(vdb.b.Hd&&vdb.f.a.video.ka.Do.dh(c,d))};vdb.f.a.video.ka.pi.bk=!0;vdb.f.a.video.ka.pi.KO=document.createElement("audio");vdb.f.a.video.ka.pi.xd=function(){this.KO.load()};vdb.f.a.video.Ew=vdb.I.Class.extend(function(){function c(a){this.Ms=null;for(var b=0;b<this.me.length;b++){var c=this.me[b];a&&c.constructor.Mca||(c.cb.detach(),this.me[b]=null)}this.me=vdb.b.ET(this.me,null)}function d(a){this.M.ifa();a=a?a.code:MediaError.MEDIA_ERR_DECODE;c.call(this);this.gj({data:{code:a}})}function b(){c.call(this);this.complete({type:"ended"})}function a(a){for(var c=[],f=0;f<this.rm.length;f++){var g=this.rm[f];-1===this.me.indexOf(g)&&g.constructor.dh(a,this.j)&&(g.cb||(g.cb=
new g.constructor(this.j,this.M),g.cb.addEventListener(vdb.f.a.video.ka.Je.Qo,d.bind(this)),g.cb.addEventListener(vdb.f.a.video.ka.Je.Cm,this.M.xda.bind(this)),g.cb.addEventListener(vdb.f.a.video.ka.Je.jK,b.bind(this)),this.Ub.action("LoadModule",null,null,null,null,{c1:g.cb.bf})),c.push(g.cb.load()),this.me.push(g))}return vdb.Promise.all(c)}function f(){for(var a=0;a<this.rm.length;a++){var b=this.rm[a];b.constructor.xd&&b.constructor.xd()}}function h(a){return a.constructor.bk}function k(a){for(var b=
0;b<this.rm.length;b++){var c=this.rm[b];if(c.constructor.bk&&c.constructor.dh(a,this.j))return!0}return vdb.c.V.isSupported(vdb.b.KS(a&&a.Tf||""))}function g(a){return this.me&&0<this.me.filter(function(b){return b.constructor===a}).length}function l(a){function b(a){return!vdb.b.Bz(a)}var c;!vdb.b.ya()&&!vdb.b.Hd||a.metadata.live||(c=a.videoUrls.filter(b),0<c.length&&(a.videoUrls=c))}function n(a){this.M.gA(a,null,!0)}function m(a){this.TD=!0;this.Ic(a);this.play()}function p(b,d){var f=b&&b.Hf;
if(b){b=vdb.f.a.video.IC.iQ(b);var m;a:{if(this.ON){if(b&&b.videoUrls&&0<b.videoUrls.length){m=!0;break a}this.M.gA(MediaError.MEDIA_ERR_NETWORK)}m=!1}if(this.ku(b)&&!m)return vdb.Promise.resolve();this.M.pause();f&&l.call(this,b);vdb.f.a.video.V2(b,k.bind(this))}this.Ms=null;this.ON=!1;this.TD?(this.M.gI(null),c.call(this),this.M.tt(!0)):(this.Mf()&&c.call(this),this.M.tt());return(f?vdb.f.a.Cw.Fb().load().then(function(){return a.call(this,b)}.bind(this)):a.call(this,b)).then(function(){for(var a=
[],c=0;c<this.me.length;++c)a.push(this.me[c].cb.Ic(b));0===this.me.filter(h).length?(a=g.call(this,vdb.f.a.video.ka.Do)||g.call(this,vdb.f.a.video.ka.pi),this.M.Ic(b,a?!0:d)):(this.M.gI(b),this.M.cU(d),this.Ms=vdb.Promise.all(a));this.TD=!1}.bind(this))}var r=vdb.log.R("VideoAreaWrapper");return{n:function(a,b,c){r.debug("init");this.j=a;this.M=new vdb.f.a.video.P4(b);a=[vdb.f.a.video.ka.tm,vdb.f.a.video.ka.Dh,vdb.f.a.video.ka.vB,vdb.f.a.video.ka.Do,vdb.f.a.video.ka.pi,vdb.f.a.video.ka.zB,vdb.f.a.video.ka.yB,
vdb.f.a.video.ka.Gw,vdb.f.a.video.ka.CM];this.rm=[];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&this.rm.push({constructor:a[d],cb:null});this.me=[];this.Om=this.Ms=null;this.Ub=this.j.Ed();c&&(this.SO=new vdb.f.a.video.ok.Nk(this.M,this.j),this.SO.addEventListener(vdb.f.a.video.ok.Nk.hK,n.bind(this)),this.SO.addEventListener(vdb.f.a.video.ok.Nk.lC,m.bind(this)))},addEventListener:function(a,b){this.M.addEventListener(a,b)},removeEventListener:function(a,b){this.M.removeEventListener(a,
b)},dispatchEvent:function(a,b){this.M.dispatchEvent(a,b)},kh:function(){this.M.kh()},Ul:function(a,b){var c=this.af();c&&c.cb.Ul&&c.cb.Ul(a,b)},Ta:function(){this.M.Ta()},hi:function(a){this.M.hi(a)},reset:function(){c.call(this,!0);this.M.reset()},Na:function(){return this.M.Na()},wn:function(){return this.M.wn()},bq:function(){return this.M.bq()},Xt:function(){return this.M.Xt()},Wt:function(){return this.M.Wt()},bz:function(){return this.M.bz()},Rt:function(){return this.M.Rt()},Yp:function(){return this.M.Yp()},
webkitEnterFullscreen:function(){this.M.webkitEnterFullscreen()},webkitExitFullscreen:function(){this.M.webkitExitFullscreen()},dk:function(){return this.M.dk()},oF:function(a){this.M.oF(a)},jH:function(){this.M.jH()},kH:function(){this.M.kH()},fH:function(){this.M.fH()},Iq:function(a){this.M.Iq(a)},Ic:function(a,b){r.debug("set video",a);this.Om=p.call(this,a,b)},hH:function(a,b){this.Mf()&&(b||c.call(this),this.M.hH(a))},complete:function(a){this.TD||this.M.complete(a)},stop:function(){this.M.stop()},
play:function(){this.Om?(this.Mf()||f.call(this),this.Om.then(function(){var a=function(){var a=this.af();a&&a.cb.play?(this.M.vE(),a.cb.play()):this.M.play()}.bind(this);0===this.me.filter(h).length?a():this.Ms.then(a)}.bind(this))):this.M.vE()},pause:function(){this.Om&&this.Om.then(function(){var a=this.af();a&&a.cb.pause&&a.cb.pause();0===this.me.filter(h).length?this.M.pause():this.Ms.then(this.M.pause.bind(this.M))}.bind(this))},seek:function(a){if(this.Om){var b=this.af();b&&b.cb.seek?b.cb.seek(a):
this.M.seek(a)}},Xh:function(){return this.M.Xh()},isPlaying:function(){if(!this.Om)return this.M.isPlaying();var a=this.af();return a&&a.cb.isPlaying?a.cb.isPlaying():this.M.isPlaying()},Ja:function(){var a=this.af();return a&&a.cb.Ja?a.cb.Ja():this.M.Ja()},getDuration:function(){var a=this.af();return a&&a.cb.getDuration?a.cb.getDuration():this.M.getDuration()},Yy:function(){return this.M.Yy()},xe:function(){return this.getDuration()-this.Yy()},setVolume:function(a){var b=this.af();return b&&b.cb.setVolume?
b.cb.setVolume(a):this.M.setVolume(a)},getVolume:function(){var a=this.af();return a&&a.cb.getVolume?a.cb.getVolume():this.M.getVolume()},mute:function(a){var b=this.af();return b&&b.cb.mute?b.cb.mute(a):this.M.mute(a)},muted:function(){var a=this.af();return a&&a.cb.muted?a.cb.muted():this.M.muted()},aa:function(){var a=this.af();a&&a.cb.aa&&a.cb.aa();return this.M.aa()},show:function(){var a=this.af();a&&a.cb.show&&a.cb.show();return this.M.show()},Mf:function(){var a=this.af();return a&&a.cb.Mf?
a.cb.Mf():this.M.Mf()},ku:function(a){return this.M.ku(a)},ug:function(){var a=this.af();return a&&a.cb.ug?a.cb.ug():this.M.ug()},xd:function(){this.M.xd();f.call(this)},af:function(){return this.me&&this.me[this.me.length-1]||null},Wca:a,gj:function(a){var b;b=this.M.ze();if(!this.M.cE&&!this.Mf()&&b&&b.Tf&&1<b.videoUrls.length){var c=b.videoUrls;c.splice(c.indexOf(b.Tf),1);this.ON=!0;this.Ic(b,!1);this.play();b=!0}else b=!1;b||this.M.gj(a)}}}());vdb.f.a.pd=function(){var c=vdb.o.Aa,d=vdb.I.Class.extend(function(){function a(){this.Sb.aa();this.oe.aa();this.td.aa()}function b(){var a=this;return{addEventListener:function(){a.x7.apply(a,arguments)},removeEventListener:function(){a.Vea.apply(a,arguments)}}}function d(){var a=this;return{addEventListener:function(){a.Oc.apply(a,arguments)},removeEventListener:function(){a.DT.apply(a,arguments)}}}function k(a){q.debug("attach internal listener for "+a);var b=this;this.Sb.addEventListener(a,function(){l(b.Wo,
a,arguments)});this.td.addEventListener(a,function(){l(b.Hm,a,arguments)});this.oe.addEventListener(a,function(){l(b.Hm,a,arguments)})}function g(a,b){q.debug("set video: ",b);this.Lb=a;a.show();b&&("string"===typeof b?b=new vdb.B.Fm({videoUrls:[b],title:"Video"}):null!=b.length&&(b=new vdb.B.Fm({videoUrls:b,title:"Video"})));a.Ic(b)}function l(a,b,c){if(a=a[b])for(a=vdb.b.vy(a),b=0;b<a.length;b++)a[b].apply({},c)}function n(a,b,c){var d=a[b];d||(d=[],a[b]=d);d.push(c)}function m(a,b,c){if(a=a[b])for(b=
0;b<a.length;b++)if(a[b]===c){a.splice(b,1);break}}function p(b){q.debug("set midroll:",b);this.Sd=s.Rb;this.ck()||(this.Sb.pause(),a.call(this),g.call(this,this.oe,b));return!1}function r(b){var c=this.td;q.debug("set preroll:",b);this.ck()?c=this.Sb:this.Sb.pause();a.call(this);vdb.f.a.iq?this.td.kh():(this.td.Ta(),this.td.hi(vdb.b.yg()));this.Sd=s.xc;g.call(this,c,b);return!1}var q=vdb.log.R("Display"),s=vdb.f.a.yY;return{n:function(a){q.debug("created");this.j=a;this.Sd=s.NONE;this.EO=!1;this.Wo=
{};this.PM=d.call(this);this.Hm={};this.v5=b.call(this);this.Kx=new vdb.c.wL;a=vdb.f.a.video.IC.W8(this.j);this.td=new vdb.f.a.video.Ew(this.j,a);this.Sb=new vdb.f.a.video.Ew(this.j,a,!0);this.oe=new vdb.f.a.video.Ew(this.j,a);this.Lb=this.Sb;vdb.b.yg()||(this.td.kh(),this.oe.kh());this.Sb.Wca();for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&k.call(this,c[g])},Pfa:function(a){this.Lb.hi(a)},Ta:function(){this.Lb.Ta()},kh:function(){this.Lb.kh()},play:function(){q.debug("play "+this.Sd);
this.Lb.play()},isPlaying:function(){return this.Lb.isPlaying()},Xh:function(){return this.Lb.Xh()},Mf:function(){return this.Lb.Mf()},setVolume:function(a){q.debug("set volume:",a);this.td.setVolume(a);this.Sb.setVolume(a);this.oe.setVolume(a)},getVolume:function(){return this.Lb.getVolume()},mute:function(a){q.debug(a?"mute":"unmute");this.td.mute(a);this.Sb.mute(a);this.oe.mute(a)},getDuration:function(){return this.Lb.getDuration()},xe:function(){return this.Lb.xe()},nma:function(){return this.getDuration()-
this.Ja()},Ja:function(){return this.Lb.Ja()},lR:function(){return this.Sb.Ja()},Yp:function(){return this.Lb.Yp()},Rt:function(){return this.Lb.Rt()},isMuted:function(){return this.Lb.muted()},seek:function(a){q.debug("seek "+this.Sd);this.Lb.seek(a)},show:function(){q.debug("show "+this.Sd);this.aa();this.Lb.show()},aa:function(){q.debug("hide");a.call(this)},stop:function(){q.debug("stop "+this.Sd);this.Lb.stop()},reset:function(){q.debug("reset");this.td.reset();this.Sb.reset();this.oe.reset();
this.kU(!1)},pause:function(){q.debug("pause "+this.Sd);this.Lb.pause()},wn:function(){return this.Lb.wn()},bq:function(){return this.Lb.bq()},addEventListener:function(a,b){n(this.Hm,a,b);n(this.Wo,a,b)},removeEventListener:function(a,b){m(this.Hm,a,b);m(this.Wo,a,b)},wla:function(){return this.PM},fla:function(){return this.v5},hfa:function(){this.isPlaying()&&this.pause();this.Sd=s.NONE;this.Kx.next()},Vka:function(){this.Kx.empty()},Zfa:function(a){return this.Kx.add(r.bind(this,a))},Tfa:function(a){return this.Kx.add(p.bind(this,
a))},Wt:function(){return this.Lb?this.Lb.Wt():0},Xt:function(){return this.Lb?this.Lb.Xt():0},kU:function(a){q.debug("set ssai:",a);this.EO=a},Iq:function(a){this.Sb.Iq(a)},Pc:function(){return this.EG()||this.yca()},EG:function(){return this.Sd===s.xc},yca:function(){return this.Sd===s.Rb},ck:function(){return this.EO},x7:function(a,b){q.debug("attach ad listener for "+a);n(this.Hm,a,b)},Vea:function(a,b){q.debug("detach ad listener for "+a);m(this.Hm,a,b)},Wea:function(){this.Hm={}},Nfa:function(b){q.debug("set content:",
b);this.td.pause();this.oe.pause();a.call(this);var c=!(this.ck()&&(this.Pc()||this.Mf()));this.Sd=s.Nv;c?g.call(this,this.Sb,b):this.i7||(this.Sb.jH(),this.Sb.kH(),this.Sb.fH());this.i7=!0},zz:function(){return this.Sd===s.Nv},lba:function(){return this.Sd!==s.NONE},Oc:function(a,b){q.debug("attach content listener for "+a);n(this.Wo,a,b)},DT:function(a,b){q.debug("detach content listener for "+a);m(this.Wo,a,b)},Zea:function(){this.Wo={}},webkitEnterFullscreen:function(){this.Lb.webkitEnterFullscreen()},
webkitExitFullscreen:function(){this.Lb.webkitExitFullscreen()},dk:function(){return this.Lb.dk()},Ola:function(){return this.Sb},gma:function(){return this.td},Qla:function(){return this.oe},Na:function(){return this.Sb.Na()},qR:function(){return this.td.Na()},laa:function(){return this.oe.Na()},X7:function(){this.Sb.isPlaying()&&this.Sb.pause();a.call(this);this.Lb=this.td;this.show();this.Sd=s.xc;return this.Lb},W7:function(){this.Sb.pause();a.call(this);this.Lb=this.oe;this.show();this.Sd=s.Rb;
return this.Lb},sfa:function(){this.td.pause();this.td.aa();this.oe.pause();this.oe.aa();this.Lb=this.Sb;this.Sb.Ta();this.Sb.show();this.Sd=s.Nv;this.play()},Ul:function(a,b){this.Sb.Ul(a,b)},jna:function(){this.Sd!==s.Nv&&(this.Sd=s.NONE)},ug:function(){return this.Lb.ug()},xd:function(){this.td.xd();this.Sb.xd();this.oe.xd()},uE:function(a){this.W=a;this.W.appendChild(this.td.Na());this.W.appendChild(this.Sb.Na());this.W.appendChild(this.oe.Na())},detach:function(){this.Zea();this.Wea();this.W.removeChild(this.td.Na());
this.W.removeChild(this.Sb.Na());this.W.removeChild(this.oe.Na())},j$:function(){return this.td.bz()||this.oe.bz()}}}()),b;return{Fb:function(a){b||(a=a||window.vdb.getContext(window.vdb.Nb.id),b=new d(a),a.va.Cg(vdb.k.Y.ir,b));return b}}}();vdb.f.fa.Wr=vdb.Ab.extend(function(){function c(){this.a.addEventListener(B.xh,g.bind(this));this.a.addEventListener(B.Bb,d.bind(this));this.a.addEventListener(B.kb,f.bind(this));this.a.addEventListener(B.vb,k.bind(this));this.addEventListener(V.vj,h.bind(this));this.a.addEventListener(vdb.g.D.Ro,function(){var c=this.l.tg();if(c){var d=window.oath.ads.sdk.AdBreakEvent;c.addEventListener(d.STARTED,a.bind(this));c.addEventListener(d.FINISHED,b.bind(this))}}.bind(this))}function d(){this.qz()&&w.call(this)}
function b(){this.isEnabled&&this.view.show()}function a(){this.isEnabled&&this.view.aa()}function f(){this.l.gu()&&w.call(this)}function h(a){this.view.aga(-1!==N.y2.indexOf(a&&a.Fl))}function k(){for(var a=this.display.Na(),a=a&&a.textTracks||[],b,c=0;c<a.length;c++){"hidden"!==a[c].mode&&(a[c].mode="hidden");var d;a:{d=a[c];if(d.cues&&d.cues.length)for(var f=0;f<d.cues.length;f++)if(d.cues[f].text&&1<d.cues[f].text.length){d=!0;break a}d=!1}if(d){b=a[c];break}}b&&(!this.cues||this.cues.length<=
b.cues.length)&&(this.YD=b,b=this.YD.language||"en",a=this.fa&&this.fa[b],a&&a.formats&&a.formats[M.lr]===M.lr||(this.fa=this.fa||{},this.fa[b]||(this.fa[b]={displayText:"Embedded",formats:{embedded:M.lr}},this.Np=this.Np||{},this.Uka=!0,l.call(this),w.call(this))))}function g(){var a=this.l.ca(),a=a&&a.fa&&vdb.b.pc(a.fa)||{},b;for(b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var c=a[b]&&a[b].formats||{},c=vdb.b.pc(c),d;for(d in c)(0===d.length||Object.prototype.hasOwnProperty.call(c,d)&&
0===c[d].length)&&delete c[d];0===x.UF(c)?delete a[b]:a[b].formats=c}this.iD=a;this.fa=vdb.b.pc(this.iD);l.call(this)}function l(){this.Uf=this.l.Kf();this.Il[this.Uf]=this.Il[this.Uf]||{};this.qz()?(v.debug("Found subtitles",this.fa),this.a.dispatchEvent(B.vw),this.Wg&&(n.call(this,this.Wg),this.dispatchEvent(vdb.f.fa.ww.vj,{Fl:this.Wg,DA:!1}))):(this.fa={},this.zu.call(this),this.a.dispatchEvent(B.PL))}function n(a){v.debug("getSubtitles",this.Uf,a);if(this.Il[this.Uf]&&this.Il[this.Uf][a])v.debug("Loading from memory"),
this.cues=this.Il[this.Uf][a],this.enable(),u.call(this);else{var b=this.fa,c=T,d=[];if(b=b&&b[a]&&b[a].formats)for(var f=0;f<c.length;f++){var g=c[f];b[g]&&d.push({format:g,url:b[g],status:vdb.f.fa.Wr.HU.IDLE})}this.Zl=d;this.sourceIndex=-1;0<this.Zl.length?m.call(this):("zh"===a?c="zh_CN":(c=a.split("-"),c=2===c.length?c[0]+"_"+c[1].toUpperCase():a),v.debug("prepareAutoTranslatedSubtitles:",c),this.Zl.push({format:M.Sr,url:this.i.Xp("subs")+"?id="+this.Uf+"&target="+c,status:S.IDLE}),0<this.Zl.length?
m.call(this):v.warn("No supported formats found for language code '"+a+"'",this.fa))}}function m(){v.debug("loadSubtitles");if(++this.sourceIndex<this.Zl.length){var a=this.sourceIndex;this.Np=this.Zl[a];if(this.Np.format===M.lr&&this.YD)v.debug("Loading embedded subtitles"),s.call(this,this.YD);else{var b=this.Np.url;b&&(v.debug("Loading from "+b),vdb.re.get(b,null,r.bind(this,a),p.bind(this,a)))}}else v.warn("All sources failed to load!",this.Zl)}function p(a,b){v.warn("Load error!",b);this.Wg=
null;this.dispatchEvent(V.PK);q.call(this,a)}function r(a,b){var c=b.format||this.Np.format;(new vdb.f.fa.r3(c)).parse(b.text).then(function(d){d?0===d.cues.length?(v.warn("No cues found for format '"+c+"'",d),q.call(this,a)):(v.debug("Load succeeded",b),s.call(this,d)):(v.warn("Failed to parse subtitles for format '"+c+"'"),q.call(this,a))}.bind(this)).catch(function(b){q.call(b,a)})}function q(a){this.Zl[a].status=S.hZ;m.call(this)}function s(a){v.debug("Parse succeeded",a);this.Np.status=S.uC;
this.cues=a.cues;this.Il[this.Uf]&&(this.Il[this.Uf][this.Wg]=y.vy(this.cues));this.enable();u.call(this)}function u(){var a=this.display.Ja(),a=t.call(this,a);a.length?this.view.yha(a):this.view.s8()}function t(a){var b=[],c=this.cues,d;for(d=0;d<c.length&&!(a<c[d].startTime);d++)a<c[d].endTime&&b.push(c[d].text);return b}function w(){var a=ba===D.XB.YJ&&this.l.isMuted(),b=y.r$(),c=N.VL,d=y.wg(O,["subtitleSettings","defaultLanguage"],D.XJ.cB);v.debug("select language on start");a&&(this.US=A.bind(this),
this.a.addEventListener(B.Dc,this.US));if(this.uh[Z.dw]&&this.uh[Z.no])this.Gg=this.uh[Z.dw];else if(this.Jz&&c[this.Jz])this.Gg=this.Jz;else if(ba===D.XB.BY||a)if(d===D.XJ.cB?(v.debug("use auto detection"),this.Gg=null,c[fa]?(v.debug("use browser language auto detection -",fa),this.Gg=fa):c[b]?(v.debug("use browser language settings -",b),this.Gg=b):(a=N.TX,b=this.i.Ka.nn,v.debug("use geo data:",b),(a=(b=b&&b.country)?a[b]:null)?(v.debug("use geo language -",a),this.Gg=a):v.debug("country language is not supported"))):
c[d]&&(v.debug("use default language from subtitle settings -",d),this.Gg=d),!this.Gg||!Y&&this.fa&&!this.fa[this.Gg])v.debug("use english or any available subtitle from human translation"),this.Gg=this.fa.en?"en":Object.keys(this.fa)[0];this.Jz=null;v.debug("language on start:",this.Gg);this.Gg&&this.dispatchEvent(vdb.f.fa.ww.vj,{Fl:this.Gg,DA:!1})}function A(){this.l.isMuted()||(this.zu(),this.a.removeEventListener(B.Dc,this.US))}var v=vdb.log.R("SubtitlesManager"),x=vdb.c.V,y=vdb.b,B=vdb.g.D,H=
vdb.k.Ie,K=vdb.f.fa.Xl.o4,S,T,G=vdb.o.U,ba,Y,N=vdb.f.fa.Xl,Z=vdb.f.fa.Xl.Kk,M=vdb.f.fa.He,V=vdb.f.fa.ww,D=vdb.f.fa.Kk,O,fa;return{n:function(a){var b=vdb.localStorage.getItem(K),d=a.bc();v.debug("init");this._super();S=vdb.f.fa.Wr.HU;T=vdb.f.fa.Wr.Iga;this.l=a;this.i=a.getContext();this.a=a.ta();this.display=vdb.f.a.pd.Fb();this.d9=new vdb.f.fa.vC;this.uh=b?JSON.parse(b):new vdb.f.fa.vC;this.view=new vdb.f.fa.t3(d,this.display,this.i);this.view.Ru(this.uh);this.Il={};this.Jz=this.i.ia(vdb.g.Wa.T2);
c.call(this);O=this.i.Ka.kd;v.debug("initSubscriptSettings");ba=y.wg(O,["subtitleSettings","mode"],D.XB.YJ);v.debug("SubscriptSettings:",O.Mna);Y=y.wg(O,["subtitleSettings","machineTranslation"],!0);fa=O.languageAutoDetection;v.debug("language auto detection:",fa)},p8:function(a){this.fa=a;l.call(this)},zu:function(){v.debug("off");this.Wg=null;this.disable()},YH:function(a,b){if(a){v.debug("setLanguage",a);this.Wg=a;n.call(this,a);var c={interactionType:H.mB,interactionData:a+(this.oS(a)?"":"_auto")};
b&&this.a.dispatchEvent(B.bd,c)}},enable:function(a){this.isEnabled||(!this.Wg&&a?this.YH(a):(v.debug("enable",a),a=G.bind,this.se=this.se||this.display.Pc()?G.group(a(this.a,B.md,u.bind(this)),a(this.a,B.uc,this.disable.bind(this))):G.group(a(this.a,B.vb,u.bind(this)),a(this.a,B.hb,this.disable.bind(this))),this.view.B7(),this.view.Yu(),this.isEnabled=!0,this.a.dispatchEvent(B.tC)))},disable:function(){this.isEnabled&&(v.debug("disable"),this.view.aa(),this.se&&(this.se.Ga(),this.se=null),this.view.afa(),
this.isEnabled=!1,this.a.dispatchEvent(B.uw))},toggle:function(){var a;this.isEnabled?(this.Bea=this.Wg,this.dispatchEvent(V.vj,{Fl:""})):(a=this.Bea||"",this.dispatchEvent(V.vj,{Fl:a}))},enabled:function(){return this.isEnabled},aa:function(){v.debug("hide");this.view.aa()},Qaa:function(){return this.fa},qz:function(){return this.fa&&0<x.UF(this.fa)},qv:function(a,b){this.uh[a]=b;vdb.localStorage.setItem(K,JSON.stringify(this.uh));this.view.Ru(this.uh)},bG:function(){return this.uh},Jaa:function(a){return this.uh[a]},
KT:function(){vdb.localStorage.removeItem(K);this.uh=new vdb.f.fa.vC;this.view.Ru(this.uh)},zG:function(){function a(b){return b!==vdb.f.fa.He.hw}var b=this.iD||{},c,d;for(c in b)if(Object.prototype.hasOwnProperty.call(b,c)&&(d=Object.keys(this.iD[c].formats).filter(a),d.length))return!0;return!1},vma:function(){return this.Gg},oS:function(a){return"undefined"!==typeof this.fa[a]},isEnabled:!1,Wg:null,Zl:[],Il:{},se:null,Taa:t}}());var Hb=vdb.f.fa.Wr,Ib=vdb.f.fa.He;Hb.HU={IDLE:0,hZ:1,uC:2};
Hb.Iga=[Ib.iM,Ib.jM,Ib.Rv,Ib.Sr,Ib.Dw,Ib.lr,Ib.hw];vdb.f.a.yZ=vdb.I.Class.extend(function(){function c(a){this.sa=a.data.sa}function d(){this.a.addEventListener(f.wm,c.bind(this));b.enabled()?b.C7(function(){!b.hd()||b.element()!==this.a.F&&b.element()!==this.frameElement?(this.a.dispatchEvent(f.Cc,{userInitiated:!this.Tp}),this.Tp=!1,this.Of&&this.F.setAttribute("style",this.Of),this.UT&&this.Yc.setAttribute("style",this.UT),this.TT&&this.sa.setAttribute("style",this.TT),h.debug("Exit fullscreen")):(this.a.dispatchEvent(f.Bc),h.debug("Enter fullscreen"))}.bind(this)):
a.lu&&(this.display.addEventListener(vdb.o.Aa.uM,function(){this.a.dispatchEvent(f.Bc);h.debug("Enter fullscreen")}.bind(this)),this.display.addEventListener(vdb.o.Aa.vM,function(){this.a.dispatchEvent(f.Cc,{userInitiated:!this.Tp});this.Tp=!1;h.debug("Exit fullscreen")}.bind(this)))}var b=vdb.c.uj,a=vdb.c.V,f=vdb.g.D,h=vdb.log.R("FullscreenController");return{n:function(a){this.l=a;this.a=a.ta();this.display=vdb.f.a.pd.Fb();this.F=this.a.F;this.Yc=this.a.Yc;this.Tp=!1;try{this.frameElement=window.frameElement}catch(b){this.frameElement=
null}d.call(this)},hd:function(){return b.enabled()&&b.hd()},Rf:function(c,d){if(c)this.pO||(this.pO=new vdb.f.a.d2(this.l)),this.pO.Rf(d);else{var f=d;b.enabled()?f!==b.hd()&&("undefined"===typeof f&&(f=!b.hd()),f?(f=[],this.Of=this.F.getAttribute("style"),this.UT=this.Yc.getAttribute("style"),this.TT=this.sa&&this.sa.getAttribute("style"),this.F&&f.push(this.F),this.Yc&&f.push(this.Yc),this.sa&&f.push(this.sa),vdb.b.O(f,{padding:"0",margin:"0",width:"100%",height:"100%",left:"0",top:"0"}),b.w9(this.F)):
b.PQ()):a.lu&&f!==this.display.dk()&&("undefined"===typeof f&&(f=!this.display.dk()),f?this.display.webkitEnterFullscreen():this.display.webkitExitFullscreen())}},xE:function(){b.enabled()?b.hd()&&(this.Tp=!0,b.PQ()):a.lu&&this.display.dk()&&(this.Tp=!0,this.display.webkitExitFullscreen())}}}());vdb.f.a.K_=vdb.I.Class.extend(function(){function c(a){switch(a.keyCode){case b.f1:this.X.ni();break;case b.J_:this.X.ni();break;case b.P2:this.B5.Tba()||this.X.ni();break;case b.EY:a.ctrlKey&&this.X.Rf();break;case b.CY:a.preventDefault();a=this.Ec.getDuration();this.X.Ee(a-1);break;case b.f_:a.preventDefault();this.X.Ee(0);break;case b.N_:a.ctrlKey||a.shiftKey?this.X.nda():(a=this.Ec.Ja(),this.X.Ee(5>=a?0:a-5));break;case b.a4:a.preventDefault();d.call(this,!0);break;case b.m2:a.ctrlKey||a.shiftKey?
this.X.cH():(a=this.Ec.Ja()+5,this.X.Ee(a));break;case b.uY:a.preventDefault();d.call(this);break;case b.eX:this.X.lz().toggle();break;case b.gZ:this.X.Rf();break;case b.x0:this.X.lv()}}function d(a){var b=this.X.getVolume();this.X.setVolume(a?1<=b+.05?1:b+.05:0>=b-.05?0:b-.05)}var b=vdb.f.k.IK;return{n:function(a,b){this.X=a;this.L=a.ta();this.N=this.L.Na();this.B5=b;this.Ec=vdb.f.a.pd.Fb();this.N.setAttribute("tabindex","0");this.N.setAttribute("aria-label","This is the AOL video player, press Space to toggle play and pause");
document.addEventListener("keydown",c.bind(this))}}}());vdb.f.a.w0=vdb.Ab.extend(function(){var c=vdb.b;return{n:function(d){this.L=d;this.W=d.Yc;this.Ap=c.createElement("div",{"class":"look-ahead-ad-panel"});this.gP=c.createElement("div",{"class":"look-ahead-ad-panel-element"},this.Ap);this.t7=c.createElement("span",{"class":"look-ahead-ad-panel-span"},this.gP);this.u7=c.createElement("span",{"class":"look-ahead-ad-panel-time-span"},this.gP);this.hP=c.createElement("div",{"class":"look-ahead-ad-panel-skip"},this.Ap);this.s7=c.createElement("span",{"class":"look-ahead-ad-panel-skip-span"},
this.hP);c.createElement("div",{"class":"look-ahead-ad-panel-skip-icon"},this.hP,'<svg class="player-icon" xmlns="https://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 6.3 10.3" xml:space="preserve"><path class="st0" d="M6.1,5.8c-0.4,0.4-1,0.4-1.4,0L0.3,1.7c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0L6,4.4 C6.4,4.8,6.5,5.4,6.1,5.8z"/><path class="st0" d="M6,5.9L1.7,10c-0.4,0.4-1,0.4-1.4,0c-0.4-0.4-0.4-1,0-1.4l4.3-4.1c0.4-0.4,1-0.4,1.4,0C6.5,4.8,6.4,5.5,6,5.9z"/></svg> ');window.vdb.S.na(".look-ahead-ad-panel{position:absolute;bottom:60px;right:0;width:125px;height:45px;z-index:6;color:#d0d0d0;font:12px/13px Arial;background-color:rgba(34,34,34,0.85);padding:8px 15px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid black;border-top-left-radius:35px;border-bottom-left-radius:35px;text-align:right;-moz-transform:translateX(100%);-webkit-transform:translateX(100%);transform:translateX(100%);cursor:pointer}.look-ahead-ad-panel:hover .look-ahead-ad-panel-skip{text-decoration:underline}.look-ahead-ad-panel:hover .look-ahead-ad-panel-skip .player-icon{fill:#customColor}.fullscreen-mode .look-ahead-ad-panel{width:165px;height:55px;bottom:98px;font-size:18px}.fullscreen-mode .look-ahead-ad-panel-skip{margin-top:10px}.look-ahead-ad-panel-skip{margin-top:5px;text-transform:uppercase}.look-ahead-ad-panel-element{width:100%}.look-ahead-ad-panel-time-span{font-weight:bold}.look-ahead-ad-panel-skip-icon{width:7px;height:7px;margin-left:5px;display:inline-block}.expand-skip-button{opacity:1;-moz-animation:expand-skip-button .7s;-webkit-animation:expand-skip-button .7s;animation:expand-skip-button .7s;-moz-transform:translateX(0);-webkit-transform:translateX(0);transform:translateX(0)}.collapse-skip-button{opacity:0;-moz-animation:collapse-skip-button .7s;-webkit-animation:collapse-skip-button .7s;animation:collapse-skip-button .7s}@keyframes expand-skip-button{from{-moz-transform:translateX(100%);-webkit-transform:translateX(100%);transform:translateX(100%)}to{-moz-transform:translateX(0);-webkit-transform:translateX(0);transform:translateX(0)}}@-moz-keyframes expand-skip-button{from{-moz-transform:translateX(100%);transform:translateX(100%)}to{-moz-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes expand-skip-button{from{-webkit-transform:translateX(100%);transform:translateX(100%)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes collapse-skip-button{from{opacity:1;-moz-transform:translateX(0);-webkit-transform:translateX(0);transform:translateX(0)}to{opacity:1;-moz-transform:translateX(100%);-webkit-transform:translateX(100%);transform:translateX(100%)}}@-moz-keyframes collapse-skip-button{from{opacity:1;-moz-transform:translateX(0);transform:translateX(0)}to{opacity:1;-moz-transform:translateX(100%);transform:translateX(100%)}}@-webkit-keyframes collapse-skip-button{from{opacity:1;-webkit-transform:translateX(0);transform:translateX(0)}to{opacity:1;-webkit-transform:translateX(100%);transform:translateX(100%)}}".replace(/#customColor/g,
this.L.Gd()));this.t7.innerText="Ad will start in ";this.s7.innerText="Skip ad";this.Ug=!1},update:function(c){this.u7.innerText=c},Vc:function(){return this.Ug},show:function(){c.Gb(this.Ap,"collapse-skip-button","expand-skip-button");this.Ug=!0},aa:function(){c.Gb(this.Ap,"expand-skip-button","collapse-skip-button");this.Ug=!1},Q7:function(){this.W.appendChild(this.Ap)}}}());vdb.f.a.v0=vdb.I.Class.extend(function(){function c(b){this.pz()&&(b=b&&b.data&&b.data.currentTime||0,this.mb.update(Math.max(Math.round(5-b),1)),5<=b&&(this.FD.resolve(),a.call(this)))}function d(){this.mD=!1}function b(){this.pz()&&!this.UN&&setTimeout(function(){this.mb.show()}.bind(this),1E3)}function a(){this.pz()&&this.mb.Vc()&&this.mb.aa()}function f(a){this.FD=new vdb.$b;this.Ok=this.X.tg();(this.mD=0===this.X.dc()&&a.data&&a.data[0]&&"LOOKAHEAD"===a.data[0].kla())&&this.mb.Q7()}function h(){this.Ok.skip();
this.FD.reject();this.mb.aa();this.X.au()}var k=vdb.o.U,g=vdb.g.D;return{n:function(l,n){this.X=l;this.L=l.ta();this.mb=new vdb.f.a.w0(this.L);this.UN=n||!1;this.mb.update(5);this.Af=this.Af||new vdb.o.he(k.bind(this.L,g.kb,a.bind(this)),k.bind(this.L,g.hb,a.bind(this)),k.bind(this.L,g.Bb,b.bind(this)),k.bind(this.L,g.vb,c.bind(this)),k.bind(this.L,g.em,f.bind(this)),k.bind(this.L,g.ZA,d.bind(this)),k.bind(this.mb.Ap,"click",h.bind(this)))},pz:function(){return this.mD||this.UN},fda:function(){this.X.Yda();
return this.FD.bb()}}}());vdb.f.a.TL=vdb.I.Class.extend(function(){var c=vdb.b,d=vdb.c.V;return{n:function(b){this.F=b;this.av=c.createElement("div",{"class":"player-spinner"},this.F,c.Wu('<svg class="player-icon" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink" viewBox="0 0 66 66"><linearGradient id="thin-spinner-gradient" gradientUnits="userSpaceOnUse" x1="55.6484" y1="14.5625" x2="-28.5724" y2="85.2322" gradientTransform="matrix(0 1 1.5 .1 0 -2)"><stop offset="0" stop-color="currentColor" stop-opacity="1"/><stop offset="0.5" stop-color="currentColor" stop-opacity="0"/></linearGradient><path id="thin-spinner-path" fill="url(@func-iri-prefix#thin-spinner-gradient)" d="M-0.014,33c0,18.193,14.813,32.992,33.006,32.992 C51.188,65.992,66,51.193,66,33C66,14.809,51.188,0.008,32.992,0.008C14.799,0.008-0.014,14.809-0.014,33z M61.986,33 c0,15.996-13.006,29.01-28.992,29.01S4.002,48.996,4.002,33S17.008,3.99,32.994,3.99S61.986,17.004,61.986,33z"/><clipPath id="thin-spinner-clip-path"><use xlink:href="@func-iri-prefix#thin-spinner-path"/></clipPath><rect x="0" y="0" clip-path="url(@func-iri-prefix#thin-spinner-clip-path)" fill="currentColor" width="33" height="66"/></svg>'));
this.visible=!0},show:function(){this.visible||(d.show(this.av),this.visible=!0)},aa:function(){this.visible&&(d.aa(this.av),this.visible=!1)}}}());vdb.f.a.I0=vdb.I.Class.extend(function(){function c(b){var a=b.data&&b.data.split(":");if(a&&"event"===a[0])switch(b=a[1],a=JSON.parse(decodeURIComponent(a[2])),b){case "devicemotion":b=vdb.c.V.HS(b,a),window.dispatchEvent(b)}}var d=vdb.k.Y;return{n:function(b){b.va.Ca(d.Bk).Ne().addEventListener("message",c,!1)}}}());vdb.f.a.h3=vdb.I.Class.extend(function(){function c(){a.debug("Loading skin by type",this.Zn);var c=this.i.we("player/js/17.21.1449/skins/%s.js".replace("%s",this.Zn))+"?cb="+vdb.version(),d=c.split("?"),k=d.length-2;vdb.b.mq(document,c,b.bind(this));c=d[k].match(/.*\/(.*)?\.js$/);this.Ub.action("LoadSkin",null,null,null,null,{c1:c&&c[1]?c[1]:""})}function d(b){if(b&&window.oath&&window.oath.skin)try{var d=this.l.getContext().getPlayer(),k=this.l.getContext().id,g=new window.oath.skin(k,d.getPlayerContainer());
a.debug("Created skin from external script successfully",g);g.render();vdb.f.a.iq=!0;this.l.ta().dispatchEvent(vdb.g.D.wm,g)}catch(l){a.error("Error loading external skin from script",l),c.call(this)}else a.warn("External skin script didn't initialized the oath skin object"),c.call(this)}function b(b){b&&window.vdb&&window.vdb.K&&window.vdb.K[this.Zn]?(b=new window.vdb.K[this.Zn](this.l,this.i),a.debug("Created skin by type successfully",b),vdb.f.a.iq=!0,this.l.ta().dispatchEvent(vdb.g.D.wm,b)):(a.warn("Error loading skin by type",
this.Zn),this.l.ta().dispatchEvent(vdb.g.D.qL))}var a=vdb.log.R("SkinsManager");return{n:function(a,b){this.l=a;this.i=b;this.Ub=this.i.Ed()},$ca:function(b){this.Zn=b;vdb.f.a.iq||((b=vdb.c.Ra.fc("skinscript"))?(a.debug("Loading skin from external script",b),vdb.b.mq(document,b,d.bind(this))):c.call(this))}}}());vdb.f.a.GW=vdb.I.Class.extend(function(){function c(a){a.type===n.Sa||a.type===n.xf?this.ha.setAttribute("aria-label","Pause"):this.ha.setAttribute("aria-label","Play")}function d(a){var b=a.data;a=b.volume;b=b.muted;!+a||b?(this.Pd.setAttribute("aria-label","Unmute"),f(this.Hb,"100","0","Volume muted")):(this.Pd.setAttribute("aria-label","Mute"),f(this.Hb,"100",Math.round(100*a),Math.round(100*a)+"% volume"))}function b(a){var b=a.data;a=a.type===n.vb?Math.round(b.durationWithoutAds):Math.round(b.duration);
b=Math.round(b.currentTime);f(this.ba,a,b,m.jb(b)+" of "+m.jb(a))}function a(){var a=g.call(this);f(this.ba,a.max,a.now,a.text)}function f(a,b,c,d){a.setAttribute("aria-valuemax",b);a.setAttribute("aria-valuenow",c);a.setAttribute("aria-valuetext",d)}function h(a,b,c,d){a.addEventListener("focus",function(){d();b.forEach(function(a){this.a.addEventListener(a,c)}.bind(this))}.bind(this));a.addEventListener("blur",function(){b.forEach(function(a){this.a.removeEventListener(a,c)}.bind(this))}.bind(this))}
function k(a,b,c,d,f){a.setAttribute("tabindex","0");a.setAttribute("role","slider");a.setAttribute("aria-label",b);a.setAttribute("aria-valuemin",0);a.setAttribute("aria-valuemax",c);a.setAttribute("aria-valuenow",d);a.setAttribute("aria-valuetext",f)}function g(){var a=this.display.Pc()?Math.round(this.display.getDuration()):Math.round(this.display.xe()),b=Math.round(this.display.Ja());return{max:a,now:b,text:m.jb(b)+" of "+m.jb(a)}}function l(f){var m=f.data;f=m.ha;var l=m.Ua.Pd,s=m.gb,u=m.ba,
m=m.Ua.Hb,t=g.call(this),w=this.l.getVolume(),A=[n.vb,n.md],v=[n.yh,n.Dc],x=[n.Sa,n.ub,n.xf,n.We],y=[f,l,s];this.ba=u;this.Hb=m;this.Pd=l;this.ha=f;this.YO=y;f.setAttribute("aria-label","Play");s.setAttribute("aria-label","Fullscreen");l.setAttribute("aria-label","Mute");k(u,"Timeline seek",t.max,t.now,t.text);m&&(+w?k(m,"Volume",100,Math.round(100*w),Math.round(100*w)+"% volume"):k(m,"Volume",100,0,"Volume muted"),h.call(this,m,v,d.bind(this),function(){d.call(this,{data:{volume:this.l.getVolume()}})}.bind(this)));
h.call(this,u,A,b.bind(this),a.bind(this));h.call(this,l,v,d.bind(this),function(){this.l.isMuted()?this.Pd.setAttribute("aria-label","Unmute"):this.Pd.setAttribute("aria-label","Mute")}.bind(this));h.call(this,f,x,c.bind(this),function(){this.l.isPlaying()?this.ha.setAttribute("aria-label","Pause"):this.ha.setAttribute("aria-label","Play")}.bind(this))}var n=vdb.g.D,m=vdb.c.V;return{n:function(a){this.a=a.ta();this.l=a;this.display=vdb.f.a.pd.Fb();this.a.addEventListener(n.wm,l.bind(this))},Tba:function(){for(var a=
!1,b=0;b<this.YO.length;b++)if(document.activeElement===this.YO[b]){a=!0;break}return a}}}());vdb.f.a.W4=vdb.I.Class.extend(function(){function c(){var a=this.X.dc();if(this.q6||a>=this.W6)this.q6=!0,a=this.X.ca(),a=a.title,this.a7.dI(a),setTimeout(d.bind(this),g.J2)}function d(){this.L.dispatchEvent(h.JL,{NG:a.call(this,this.Ii)});f.u(this.Bx,"active");setTimeout(f.u.bind(this,this.KM,"active"),g.BACK);setTimeout(f.u.bind(this,this.Ii,"active"),g.ZL);setTimeout(b.bind(this),g.a_+g.ZL)}function b(){this.L.dispatchEvent(h.sK,{NG:a.call(this,this.Ii)});f.J(this.Ii,"active");f.J(this.Bx,"active");
f.J(this.KM,"active")}function a(a){var b=f.getComputedStyle(a);return a.offsetHeight/parseInt(b.lineHeight)}var f=vdb.b,h=vdb.g.D,k=vdb.f.k.xM,g=vdb.f.k.X4;return{n:function(a){this.X=a;this.j=a.getContext();this.Td=this.j.H.kd;this.L=a.ta();this.W=a.bc();this.W6=this.Td.showVideoTitle===k.R2?0:1;window.vdb.S.na("@font-face{font-family:Brown-Bold;src:url(https://cdn.vidible.tv/prod/fonts/Brown-Bold.otf)}@font-face{font-family:Aktiv;src:url(https://cdn.vidible.tv/prod/fonts/Aktiv-Grotesk-Regular.otf)}@font-face{font-family:Brown-Regular;src:url(https://cdn.vidible.tv/prod/fonts/Brown-Regular.otf)}@font-face{font-family:'OpenSans-Light';src:url(https://cdn.vidible.tv/prod/fonts/OpenSans-Light.eot);src:url(https://cdn.vidible.tv/prod/fonts/OpenSans-Light.woff) format('woff'),url(https://cdn.vidible.tv/prod/fonts/OpenSans-Light.ttf) format('truetype')}.top-gradient{position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(180deg,#ebebeb 0,rgba(252,252,252,0) 100%)}@keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}@keyframes pop{50%{transform:scale(1.05)}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.video-title-panel{position:absolute;top:15px;max-width:520px;padding:8.5px 0;pointer-events:none}@media(max-width:768px){.video-title-panel{max-width:440px}}@media(max-width:550px){.video-title-panel{max-width:360px}}@media(max-width:480px){.video-title-panel{max-width:265px;padding:5.5px}}.video-title-panel__title{position:relative;color:#fff;font-family:'OpenSans-Light';font-size:18px;letter-spacing:0;line-height:23px;z-index:2;padding:0 15px;margin:0;opacity:0;overflow:hidden;max-height:46px;-webkit-transition-property:opacity;-moz-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:.2s;-moz-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;-webkit-transition-timing-function:ease-in-out;-moz-transition-timing-function:ease-in-out;-o-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out}@media(max-width:768px){.video-title-panel__title{font-size:15px;line-height:20px;max-height:40px}}@media(max-width:550px){.video-title-panel__title{font-size:14px;line-height:18px;max-height:36px}}@media(max-width:480px){.video-title-panel__title{font-size:12px;line-height:16px;max-height:32px;padding:0 8px}}.video-title-panel__title.active{opacity:1}.video-title-panel__panel{position:absolute;top:0;left:0;width:100%;height:100%;max-width:0;z-index:1;-webkit-transition-property:max-width;-moz-transition-property:max-width;-o-transition-property:max-width;transition-property:max-width;-webkit-transition-duration:.3s;-moz-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s;-webkit-transition-timing-function:ease-in-out;-moz-transition-timing-function:ease-in-out;-o-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out}.video-title-panel__panel.active{max-width:100%}.video-title-panel__panel__back{width:100%;height:100%;max-width:0;background-color:rgba(0,0,0,0.61);-webkit-transition-property:max-width;-moz-transition-property:max-width;-o-transition-property:max-width;transition-property:max-width;-webkit-transition-duration:.3s;-moz-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s;-webkit-transition-timing-function:ease-in-out;-moz-transition-timing-function:ease-in-out;-o-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out}.video-title-panel__panel__back.active{max-width:100%}.video-title-panel__panel__border{position:absolute;top:0;right:0;height:100%;z-index:1;-webkit-transition-property:width;-moz-transition-property:width;-o-transition-property:width;transition-property:width;-webkit-transition-duration:.3s;-moz-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s;-webkit-transition-timing-function:ease-in-out;-moz-transition-timing-function:ease-in-out;-o-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;background:linear-gradient(0deg,rgba(255,255,255,0) 0,#fff 100%)}.video-title-panel__panel.active .video-title-panel__panel__border{width:3px}@media(max-width:480px){.video-title-panel__panel.active .video-title-panel__panel__border{width:2px}}");
this.fE=f.createElement("div",{"class":"video-title-panel"});this.Ii=f.createElement("p",{"class":"video-title-panel__title"},this.fE);this.Bx=f.createElement("div",{"class":"video-title-panel__panel"},this.fE);this.KM=f.createElement("div",{"class":"video-title-panel__panel__back"},this.Bx);f.createElement("div",{"class":"video-title-panel__panel__border"},this.Bx);this.W.appendChild(this.fE);this.a7=new vdb.c.kM(this.Ii);this.L.addEventListener(h.Bb,c.bind(this))}}}());vdb.f.a.ZK=vdb.I.Class.extend(function(){function c(a){a.forEach(function(a){this.fF.push({element:a,cssText:a.style.cssText,className:a.className})}.bind(this))}function d(a,b,c){this.Ge=a;this.content=b;this.I7=c||[]}function b(b,c){var d;b.forEach(function(b){d=b.getBoundingClientRect();c&&b.removeAttribute("style");f.O(b,{position:"fixed",height:d.height+"px",width:d.width+"px",top:d.top+"px",left:d.left+"px",zIndex:"999999999"});a(b)})}function a(a){["transitionend","webkitTransitionEnd","otransitionend"].forEach(function(b){a.addEventListener(b,
function(){f.O(a,{"-webkit-transition":"none","-moz-transition":"none","-o-transition":"none",transition:"none"})},!1)})}var f=vdb.b,h=!1;return{n:function(){this.fF=[];this.width="70%";this.height="initial"},iU:function(a,b){this.width=a;this.height=b;this.content&&f.O(this.content,{width:this.width,height:this.height})},ZO:function(a,g,l,n){h||(h=!0,d.call(this,a,g,l),a=[this.Ge,this.content].concat(this.I7),c.call(this,a),b.call(this,[this.Ge,this.content],n),setTimeout(function(){f.O(this.Ge,
{position:"fixed",zIndex:"999999999",height:"100%",width:"100%",top:"0",left:"0",background:"rgba(0,0,0,0.75)",webkitTransition:"background 0.15s ease-in",gk:"background 0.15s ease-in",OS:"background 0.15s ease-in",transition:"background 0.15s ease-in"});f.O(this.content,{position:"absolute",top:"50%",left:"50%",width:this.width,height:this.height,webkitTransform:"translate(-50%, -50%)",xq:"translate(-50%, -50%)",msTransform:"translate(-50%, -50%)",transform:"translate(-50%, -50%)",webkitTransition:"all 0.35s ease-in-out",
gk:"all 0.35s ease-in-out",OS:"all 0.35s ease-in-out",transition:"all 0.35s ease-in-out"})}.bind(this),50))},pQ:function(){h&&(h=!1,this.fF.forEach(function(a){a.element.style.cssText=a.cssText;a.element.className=a.className}),this.fF=[])}}}());vdb.f.a.i4=vdb.I.Class.extend(function(){function c(b){b=1===b.data.NG?"one":"two";a.J(this.Zx,"panel-active");a.J(this.Zx,b)}function d(b){b=1===b.data.NG?"one":"two";a.u(this.Zx,"panel-active");a.u(this.Zx,b)}var b=vdb.g.D,a=vdb.b;return{n:function(a,h){this.L=a;this.Zx=h;this.L.addEventListener(b.JL,d.bind(this));this.L.addEventListener(b.sK,c.bind(this))}}}());vdb.f.a.h4=vdb.I.Class.extend(function(){function c(){this.a.l.isMuted()||k.call(this)}function d(){var a=this;m.yb(a.Od,"fadeInRight")||m.yb(a.Od,"fadeOutRight")||(m.u(a.Od,"fadeInRight"),setTimeout(function(){m.Gb(a.Od,"fadeInRight","fadeOutRight")},3E3),["animationend","oAnimationEnd","mozAnimationEnd","webkitAnimationEnd"].forEach(function(b){a.Od.addEventListener(b,function(){m.J(a.Od,"fadeOutRight")},!1)}))}function b(a){a&&a.data.muted||this.a.l.isMuted()||k.call(this)}function a(){this.ov=
m.createElement("div",{"class":"unmute-button-wrapper"},this.F);return vdb.re.xn(this.a.l.getContext().yR()).then(function(a){this.ov.innerHTML=a.text;this.tha=this.ov.querySelector(".unmute-button-container");this.Od=this.ov.querySelector(".tooltip")}.bind(this))}function f(){this.la=l.group(l.bind(this.tha,m.ya()?"touchend":"click",h.bind(this)),l.bind(this.a,g.yh,b.bind(this)),l.bind(this.a,g.Dc,b.bind(this)),l.bind(this.F,"mousemove",d.bind(this)),l.bind(this.a,g.Ib,c.bind(this)));l.Ea(this.a,
g.Ib,function(){this.type===vdb.f.k.pM.W3&&this.a.dispatchEvent(g.qC)}.bind(this))}function h(a){a&&(a.preventDefault(),a.stopPropagation(),k.call(this),this.a.dispatchEvent(g.bd,{interactionType:vdb.k.Ie.No}))}function k(){this.F.removeChild(this.ov);this.la.Ga()}var g=vdb.g.D,l=vdb.o.U,n=vdb.f.a.i4,m=vdb.b;return{n:function(b,c){this.a=b;this.type=c;this.F=b.l.bc();a.call(this).then(function(){new n(this.a,this.ov)}.bind(this)).then(f.bind(this));window.vdb.S.na("@font-face{font-family:Brown-Bold;src:url(https://cdn.vidible.tv/prod/fonts/Brown-Bold.otf)}@font-face{font-family:Aktiv;src:url(https://cdn.vidible.tv/prod/fonts/Aktiv-Grotesk-Regular.otf)}@font-face{font-family:Brown-Regular;src:url(https://cdn.vidible.tv/prod/fonts/Brown-Regular.otf)}@font-face{font-family:'OpenSans-Light';src:url(https://cdn.vidible.tv/prod/fonts/OpenSans-Light.eot);src:url(https://cdn.vidible.tv/prod/fonts/OpenSans-Light.woff) format('woff'),url(https://cdn.vidible.tv/prod/fonts/OpenSans-Light.ttf) format('truetype')}.top-gradient{position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(180deg,#ebebeb 0,rgba(252,252,252,0) 100%)}@keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}@keyframes pop{50%{transform:scale(1.05)}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.unmute-button-wrapper{width:9.2%;position:absolute;top:8%;left:4.5%;z-index:9;-webkit-transition-property:top;-moz-transition-property:top;-o-transition-property:top;transition-property:top;-webkit-transition-duration:.5s;-moz-transition-duration:.5s;-o-transition-duration:.5s;transition-duration:.5s;-webkit-transition-timing-function:ease;-moz-transition-timing-function:ease;-o-transition-timing-function:ease;transition-timing-function:ease}@media(max-width:1300px){.unmute-button-wrapper.panel-active.one{top:70px}}@media(max-width:768px){.unmute-button-wrapper.panel-active.one{top:60px}}@media(max-width:550px){.unmute-button-wrapper.panel-active.one{top:55px}}@media(max-width:480px){.unmute-button-wrapper.panel-active.one{top:50px}}@media(max-width:1920px){.unmute-button-wrapper.panel-active.two{top:95px}}@media(max-width:768px){.unmute-button-wrapper.panel-active.two{top:85px}}@media(max-width:550px){.unmute-button-wrapper.panel-active.two{top:75px}}@media(max-width:480px){.unmute-button-wrapper.panel-active.two{top:65px}}@media(max-width:500px){.unmute-button-wrapper{width:13.8%}.unmute-button-wrapper .tooltip{width:32.25vw;height:13.2vh;left:calc(102.5%)}}")}}}());vdb.f.a.BW=vdb.I.Class.extend(function(){function c(){this.OO=vdb.b.$Q(this.Vo);var a=this.eE,b;a:{for(b=0;b<l.length;b++)if(this.fx===vdb.c.YG.hash("vdb_aol_gate_prefix-"+l[b])){b=l[b];break a}b=0}if(a>b){h.debug("block video");vdb.f.a.pd.Fb().stop();a=g.createElement("div");b=g.createElement("div");var c=g.createElement("div");this.Jj=g.createElement("div");f(this.Jj);k.O(a,{color:"rgb(208, 208, 208)",marginTop:"20%",textAlign:"center",fontFamily:"Arial, sans-serif"});b.innerText="Video is blocked";
b.textContent="Video is blocked";k.O(b,{fontSize:"2rem"});var d="To view this video\nyou must be over "+this.eE+" years old";c.innerText=d;c.textContent=d;k.O(c,{fontSize:"1.4rem"});a.appendChild(b);a.appendChild(c);this.Jj.appendChild(a);this.Vk.appendChild(this.Jj)}else this.X.VP()}function d(a){return(a=document.getElementById(a))?a.value:null}function b(a){h.debug("close Birthday widget");a.type===vdb.g.D.fB?this.Vo=a.data:(a=[],a.push(d("bd-year")),a.push(d("bd-month")),a.push(d("bd-date")),
this.Vo=a.length&&a.join("-"));if(this.Vo&&0!==this.Vo.length&&!isNaN(Date.parse(this.Vo))){this.OO=vdb.b.$Q(this.Vo);a:{for(a=1;a<l.length;a++)if(this.OO<l[a]){a=l[a-1];break a}a=l[l.length-1]}this.fx=vdb.c.YG.hash("vdb_aol_gate_prefix-"+a);this.UM.set("gate",this.fx,{Kt:604800});this.Jj.parentNode.removeChild(this.Jj);c.call(this)}}function a(a,b,c){var d="bd-year"===c;a.id=c;var f={color:"rgb(17, 17, 17)",display:"inline-block",fontFamily:"Arial, sans-serif",fontSize:"15px",lineHeight:"15px",height:"26px",
borderRadius:"2px",width:"84px",backgroundColor:"rgb(255, 255, 255)"};f.marginLeft="bd-month"===c?"0px":"15px";k.O(a,f);for(var h in b)Object.prototype.hasOwnProperty.call(b,h)&&(c=g.createElement("option"),c.value=9<h?h:"0"+h,c.text=b[h],d?a.insertBefore(c,a.firstChild):a.appendChild(c))}function f(a){k.O(a,{width:"100%",height:"100%",top:"0",display:"table",position:"absolute",zIndex:"100",background:"rgb(26, 26, 26)",color:"white"})}var h=vdb.log.R("Age Gate"),k=vdb.b,g=window.vdb.S,l=[0,7,10,
14,17,21];return{n:function(a){if(this.i6)throw Error("Only one Age Gate object may be created.");h.debug("init");this.i6=this;this.X=a;this.L=a.getContext().H;this.UM=new vdb.c.NJ;this.L.addEventListener(vdb.g.D.fB,b.bind(this))},sy:function(){var d=this.X.ca();d&&(this.eE=d.metadata&&d.metadata.commonRating&&d.metadata.commonRating.minAge?d.metadata.commonRating.minAge:-1,0<this.eE?(this.Vk=this.X.ta().Na(),(this.fx=this.UM.get("gate"))?c.call(this):setTimeout(function(){vdb.f.a.pd.Fb().stop();
h.debug("show Birthday widget");this.Jj=g.createElement("div");var c=g.createElement("div"),d=g.createElement("span"),l=g.createElement("p"),n=g.createElement("select"),s=g.createElement("select"),u=g.createElement("select"),t=g.createElement("span"),w=g.createElement("p"),A=g.createElement("span"),v={},x;for(x=1;31>=x;x++)v[x]=x;var y={},B=(new Date).getFullYear();for(x=0;80>x;x++){var H=B-x;y[H]=H}f(this.Jj);k.O(c,{position:"relative",display:"block",margin:"20% auto",width:"285px"});d.innerText=
"Please enter your date of birth";d.textContent="Please enter your date of birth";k.O(d,{color:"rgb(208, 208, 208)",display:"block",fontFamily:"Arial, sans-serif",fontSize:"16px",lineHeight:"20px",marginBottom:"20px"});k.O(t,{display:"block",height:"1px",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"rgb(85, 85, 85)"});k.O(w,{marginTop:"10px"});k.O(A,{cursor:"pointer",display:"inline-block",borderRadius:"12px",color:"rgb(0, 0, 0)",fontSize:"12px",textTransform:"uppercase",padding:"5px 8px",
fontWeight:"bold",styleFloat:"right",cssFloat:"right",backgroundColor:"rgb(255, 255, 255)",fontFamily:"Arial, sans-serif"});A.innerHTML="Submit";A.addEventListener("click",b.bind(this));k.O(l,{display:"block",marginBottom:"20px",fontWeight:"bold"});a(n,{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},"bd-month");a(s,v,"bd-date");a(u,y,"bd-year");c.appendChild(d);l.appendChild(n);l.appendChild(s);l.appendChild(u);c.appendChild(l);c.appendChild(t);
w.appendChild(A);c.appendChild(w);this.Jj.appendChild(c);this.Vk.appendChild(this.Jj);this.L.dispatchEvent(vdb.g.D.ZI)}.bind(this),100)):this.X.VP())}}}());vdb.f.a.J3=vdb.I.Class.extend(function(){var c=vdb.log.R("TimeParamManager"),d=vdb.g.D,b=vdb.c.Ra;return{n:function(a){function f(h){h=Math.floor(h.data.duration);var k;a:{var g=b.fc("t");try{var l;if(""===g)l=void 0;else{var n;if(isNaN(g)){var m;-1!==g.indexOf("h")&&(m=3600*parseInt(g.substring(0,g.indexOf("h"))),g=g.substring(g.indexOf("h")+1));if(-1!==g.indexOf("m")){var p=60*parseInt(g.substring(0,g.indexOf("m")));m=m?m+p:p;g=g.substring(g.indexOf("m")+1)}if(-1!==g.indexOf("s")){var r=parseInt(g.substring(0,
g.indexOf("s")));m=m?m+r:r}n=m}else n=parseInt(g);l=n}k=l;break a}catch(q){c.debug('Error while parsing "t" param',q)}k=void 0}if(l=k&&h&&k<h)l=/.*aol\.com\/.*/g,l=(n=vdb.c.oc.Zd())&&l.test(n)?!0:!1;l&&a.l.Ee(k);a.removeEventListener(d.Jc,f)}c.debug("init");a.addEventListener(d.Jc,f)}}}());vdb.f.a.poster={};
vdb.f.a.poster.nJ=vdb.Ab.extend(function(){var c=vdb.b;return{n:function(d){this.Pl=c.createElement("div",{"class":"poster-outer-container"},d);this.ma=c.createElement("div",{"class":"poster-inner-container"},this.Pl);this.rc=new vdb.o.he;this._super();c.ya()&&c.u(this.Pl,"mobile")},Ef:function(){this.rc.Li(vdb.o.U.bind(this.Pl,"click",this.click.bind(this)))},Xu:function(c){this.bO=c},lU:function(c){this.remove();this.rc.Li(vdb.o.U.bind(c,"click",this.click.bind(this)))},Ju:function(d){c.Hn(this.bO)&&this.bO(d)},
click:function(){this.Ju(!0)},remove:function(){this.rc.Ga();c.Kd(this.Pl)},Ta:function(){}}}());window.vdb.S.na(".ad-mode video::-webkit-media-controls{display:none}.poster-outer-container{width:100%;height:100%;position:absolute;left:0;top:0;z-index:8;cursor:pointer}.poster-outer-gray{background-color:#333}.poster-inner-container{width:100%;height:100%;position:absolute;left:0;top:0;z-index:2;background-repeat:no-repeat;background-position:center;background-size:cover}");vdb.f.a.poster.lb=vdb.f.a.poster.nJ.extend({n:function(c){this._super(c);this.Ta();this.Ef()}});vdb.Xa.Ya.lb=vdb.f.a.poster.lb.extend({Ta:function(){var c=vdb.b.createElement("div",{"class":["skin5-poster-play-button","skin5-poster-resume-ad-button"]},this.ma,'<svg class="player-icon" xmlns="https://www.w3.org/2000/svg" viewBox="36.813 0 22 22"><path d="M47.813,1.126c5.424,0,9.862,4.431,9.862,9.874s-4.438,9.873-9.862,9.873s-9.862-4.43-9.862-9.873 S42.39,1.126,47.813,1.126 M47.813,0c-6.069,0-11,4.918-11,11s4.931,11,11,11s11-4.918,11-11S53.883,0,47.813,0L47.813,0z"/><g class="medium-ring-arc"><clipPath id="medium-ring-clip-path"><path d="M47.813,1.126c5.424,0,9.862,4.431,9.862,9.874s-4.438,9.873-9.862,9.873s-9.862-4.43-9.862-9.873 S42.39,1.126,47.813,1.126 M47.813,0c-6.069,0-11,4.918-11,11s4.931,11,11,11s11-4.918,11-11S53.883,0,47.813,0L47.813,0z"/></clipPath><polygon points="36.813,0 36.813,22 47.813,11" fill="currentColor" clip-path="url(@func-iri-prefix#medium-ring-clip-path)"/></g></svg> ');
vdb.b.createElement("div",{"class":["skin5-poster-play-icon","poster-control"]},c,'<svg class="player-icon" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 7 10"><path d="M0,9.5C0,9,0,0.9,0,0.6c0-0.4,0.3-0.7,0.7-0.5c0.3,0.2,5.6,4.1,6.1,4.4c0.3,0.2,0.3,0.7,0,1 C6.4,5.7,1.1,9.7,0.7,9.9C0.4,10.2,0,9.9,0,9.5z"/></svg>')}});vdb.f.a.poster.gJ=vdb.I.Class.extend(function(){function c(a){b.call(this,a);this.dispose();this.XN()}function d(a){b.call(this,a);vdb.b.Kd(this.Bi);delete this.Bi;k.call(this)}function b(a){clearTimeout(this.Nw);n.error("Failed to load animated poster",a)}function a(){var a=this;clearTimeout(this.Nw);this.u6();this.Ci&&setTimeout(function(){vdb.b.J(a.W,"animated-poster-loading");setTimeout(function(){vdb.b.u(a.W,"animated-poster-loaded")},1E3)},1)}function f(){var a=Math.max(~~(this.W.clientWidth/
30),12);vdb.b.O(this.A6,{"font-size":a+"px","line-height":a+"px","text-shadow":"0px 0 "+~~(a/6)+"px #000"})}function h(){vdb.b.u(this.Bi,"animated-poster-media-element");this.W.appendChild(this.Bi);this.a6||this.Ci||(vdb.b.u(this.W,"animated-poster-loading"),this.Ci=vdb.b.createElement("div",{"class":"animated-poster-overlay"},this.W),this.b6||(this.A6=vdb.b.createElement("div",{"class":"click-to-play"},this.Ci,"Click to "+(this.Id?"re":"")+"play full video"),this.tO=vdb.o.U.bind(window,"resize",
f.bind(this)),f.call(this)),vdb.b.createElement("div",{"class":["poster-curtain","top-left-curtain","inner-curtain"]},this.Ci),vdb.b.createElement("div",{"class":["poster-curtain","top-left-curtain","outer-curtain"]},this.Ci),vdb.b.createElement("div",{"class":["poster-curtain","bottom-right-curtain","inner-curtain"]},this.Ci),vdb.b.createElement("div",{"class":["poster-curtain","bottom-right-curtain","outer-curtain"]},this.Ci))}function k(){var b=l.call(this,m.VZ);if(b){var d=new Image,f=c.bind(this,
b);this.Bi=vdb.b.createElement("div",{style:'background-image: url("'+b+'")'});this.Nw=setTimeout(f,4E3);d.onload=a.bind(this);d.onerror=f;d.src=b;h.call(this)}else this.dispose(),this.XN()}function g(b){var c=d.bind(this,b);this.Bi=vdb.b.createElement("video",{src:b,autoplay:"true",loop:"true",muted:"true",playsinline:"true","webkit-playsinline":"true"});this.Bi.muted=!0;this.Bi.onerror=c;this.Nw=setTimeout(c,4E3);vdb.o.U.Ea(this.Bi,"play",a.bind(this));h.call(this)}function l(a){var b=this.Y6||
(426<this.W.clientWidth||240<this.W.clientHeight?"large":"small");a=this.h7[a+"s"]||[];for(var c={},d,f=a.length,g=-1;++g<f;)d=a[g],d.size&&(c[d.size.toLowerCase()]=d.url);return"large"===b?c.large||c.small:c.small}var n=vdb.log.R("AnimatedPoster"),m=vdb.f.k.EW;return{n:function(a){this.W=a.F;this.h7=a.video&&a.video.nha||{};this.Y6=a.size;this.a6=a.xba;this.b6=a.yba;this.u6=a.yq||function(){};this.XN=a.gj||function(){};a=l.call(this,m.yj);vdb.b.Ba.Nf()&&a?g.call(this,a):k.call(this)},GT:function(){this.tO&&
this.tO.Ga();vdb.b.Kd(this.Ci);delete this.Ci;vdb.b.J(this.W,["animated-poster-loading","animated-poster-loaded"])},dispose:function(){clearTimeout(this.Nw);vdb.b.Kd(this.Bi);delete this.Bi;this.Ci&&this.GT()}}}());window.vdb.S.na(".animated-poster-media-element{width:100%;height:100%;opacity:1;-webkit-transition:opacity .9s;-moz-transition:opacity .9s;-ms-transition:opacity .9s;-o-transition:opacity .9s;transition:opacity .9s}div.animated-poster-media-element{background-repeat:no-repeat;background-position:center;background-size:cover}video.animated-poster-media-element{object-fit:cover}.animated-poster-loading .animated-poster-media-element{opacity:0}.animated-poster-overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;opacity:1;-webkit-transition:opacity .1s;-moz-transition:opacity .1s;-ms-transition:opacity .1s;-o-transition:opacity .1s;transition:opacity .1s}.animated-poster-loading .animated-poster-overlay{opacity:0}.click-to-play{position:absolute;top:11px;left:11px;display:inline-block;font-family:Arial;color:rgba(255,255,255,0.8);z-index:3;-webkit-transition:opacity 1s;-moz-transition:opacity 1s;-ms-transition:opacity 1s;-o-transition:opacity 1s;transition:opacity 1s;opacity:0}.animated-poster-loaded .click-to-play{opacity:1}.inner-curtain,.outer-curtain{position:absolute;top:0;width:100%;height:100%;overflow:hidden;background-color:rgba(0,0,0,0.3);-webkit-transform:skew(-23deg);-moz-transform:skew(-23deg);-ms-transform:skew(-23deg);-o-transform:skew(-23deg);transform:skew(-23deg)}.inner-curtain{z-index:1}.outer-curtain{z-index:2}.top-left-curtain{-webkit-transition:left 1s;-moz-transition:left 1s;-ms-transition:left 1s;-o-transition:left 1s;transition:left 1s}.bottom-right-curtain{-webkit-transition:right 1s;-moz-transition:right 1s;-ms-transition:right 1s;-o-transition:right 1s;transition:right 1s}.animated-poster-loaded .top-left-curtain{-webkit-transition:left .3s;-moz-transition:left .3s;-ms-transition:left .3s;-o-transition:left .3s;transition:left .3s}.animated-poster-loaded .bottom-right-curtain{-webkit-transition:right .3s;-moz-transition:right .3s;-ms-transition:right .3s;-o-transition:right .3s;transition:right .3s}.animated-poster-loading .top-left-curtain{left:-50%!important}.animated-poster-loading .bottom-right-curtain{right:-50%!important}.top-left-curtain.outer-curtain{left:-76%}.top-left-curtain.inner-curtain{left:-88%}.bottom-right-curtain.outer-curtain{right:-76%}.bottom-right-curtain.inner-curtain{right:-88%}.hover-enabled .animated-poster-loaded:hover .top-left-curtain.outer-curtain{left:-80%}.hover-enabled .animated-poster-loaded:hover .top-left-curtain.inner-curtain{left:-90%}.hover-enabled .animated-poster-loaded:hover .bottom-right-curtain.outer-curtain{right:-80%}.hover-enabled .animated-poster-loaded:hover .bottom-right-curtain.inner-curtain{right:-90%}");vdb.f.a.poster.eb=vdb.f.a.poster.nJ.extend(function(){function c(){var b,h,n;this.Kca?vdb.b.O(this.Pl,{display:"none"}):(vdb.b.u(this.Pl,"poster-outer-gray"),this.eS?this.hy=new vdb.f.a.poster.gJ({F:this.Pl,video:this.video,yba:"0"===this.i.ia(vdb.g.Wa.eW),yq:function(){this.a.dispatchEvent(k.Hh,this)}.bind(this),gj:function(){this.eS=!1;c.call(this)}.bind(this)}):(b=this.video.ve||"",h=this.ma.clientWidth,n=this.ma.clientHeight,h&&n&&(this.xG&&(h=Math.max(2*h,1440),n=h/2),b=vdb.c.V.Xi(null,b,h,n)),
this.xG&&vdb.f.a.Cw.Fb().load().then(function(){var a=this.video&&this.video.Hf;this.CH=new vdb.vr.Poster({container:this.ma,url:b,projectionType:a&&a.Ou,tilt:a&&a.jv,centeredFishEye:this.i.ia(f.nB),fishEyeAngle:this.i.ia(f.EB)});this.CH.render()}.bind(this)).catch(function(b){a.warn("Failed to create 360 poster ",b)}),this.YS(b),d.call(this,b)))}function d(a){var b=new Image;a?b.onload=this.a.dispatchEvent.bind(this.a,k.Hh,this):this.a.dispatchEvent(k.Hh,this);b.src=a}function b(){if((this.video.metadata||
this.video.metadata||{}).videoType===vdb.k.video.mM.WL&&!(vdb.b.Hd&&11>vdb.b.Ba.version)&&vdb.b.HV)switch(this.i.ia(f.jY)){case "mobile":return!vdb.b.ya();case "desktop":return!vdb.b.Me();case "1":case "all":break;default:return!0}return!1}var a=vdb.log.R("PlayPoster"),f=vdb.g.Wa,h=vdb.k.Ie,k=vdb.g.D;return{n:function(a,d,h,k,p,r,q){this.i=q.getContext();this.a=a;this.video=h||{};this.bH=k;this.xG=b.call(this);this.Kca=this.video&&(this.video.videoSourceType||this.video.JA||"").toLowerCase()===vdb.k.KC.BM;
h=this.i.ia(f.z1);a=h===vdb.f.k.nw.OL;h=h===vdb.f.k.nw.aJ;k="1"===vdb.c.Ra.fc("animatedposter");p=p&&!this.xG;this.eS=!a&&(h||k||p);this.Id=r;this.ee="button_only"===this.i.ia(f.y1);this.tl="true"===this.i.ia(f.b_);this.Nf=vdb.b.Ba.Nf();this.l=q;this._super(d);c.call(this);this.Ta();this.nj(this.video.title||"",(this.video.metadata||{}).duration,this.video.cv||"",this.video.description);this.Ef()},il:function(){this.ha=this.ha||this.ma.firstChild;this.jh=this.i.C$();var a=this.ha.clientHeight/this.ha.clientWidth,
b=this.jh.w,c=this.jh.w*a;this.jh.hasOwnProperty("w")&&this.jh.hasOwnProperty("h")&&this.jh.hasOwnProperty("x")&&this.jh.hasOwnProperty("y")&&this.jh.w<this.ma.clientWidth&&this.jh.h<this.ma.clientHeight&&(0===b&&(b=this.jh.h/a,c=this.jh.h),vdb.b.O(this.ha,{width:b+"px",height:c+"px",margin:"0px",left:this.jh.x+"px",top:this.jh.y+"px","min-width":0,"min-height":0,"-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none",transform:"none"}))},kh:function(){this.DH=!0;this.ma.innerHTML=
"";this.hy&&this.hy.GT()},YS:function(a){this.ma.style.backgroundImage='url("'+a+'")'},Ju:function(a){this.CH&&this.CH.destroy();this._super(a)},Ef:function(){vdb.b.Me()&&this.bH&&this.rc.Li(vdb.o.U.bind(this.ma,"mouseover",this.Ju.bind(this)));this.a.addEventListener(k.Bc,function(){this.oq=!0}.bind(this));this.a.addEventListener(k.Cc,function(){this.oq=!1}.bind(this));this._super()},nj:function(a,b,c,d){this.jc=a||this.jc;this.Pa=b?Math.round(b/1E3):this.Pa;this.vk=c||this.vk;this.io=d||this.io;
this.jc&&!this.ee?this.nh():this.Ig&&this.Ig.removeAttribute("style");this.Pa&&!this.tl&&this.pk();this.vk&&!this.ee&&this.ZH();this.io&&!this.ee&&this.UH()},UH:function(){},nh:function(){},pk:function(){},ZH:function(){},Ofa:function(){this.DH=!1;this.Ta();this.nj()},remove:function(){this.hy&&this.hy.dispose();this._super()},aI:function(a){this.Id&&(vdb.c.uj.enabled()&&vdb.c.uj.hd()||vdb.c.V.lu&&vdb.b.Ba.Oe()&&this.oq)&&(this.Za=vdb.b.createElement("div",{"class":"fullscreen-cell"},this.sh),this.gb=
vdb.b.createElement("div",{"class":"fullscreen-button-replay"},this.Za),vdb.b.createElement("div",{"class":"exit-fullscreen-icon-replay"},this.gb,a),this.gb.addEventListener(vdb.b.ya()?"touchend":"click",function(){this.l.Rf()}.bind(this)))},tna:function(){},click:function(a){this._super();this.i.dispatchEvent(k.Kr);this.a.dispatchEvent(k.bd,{interactionType:h.Kr,isTrusted:a.isTrusted})},Lma:function(){return this.DH}}}());vdb.Xa.Ya.eb=vdb.f.a.poster.eb.extend(function(){var c=vdb.b,d=vdb.c.V;return{Ta:function(){if(this.ee)this.ha=c.createElement("div",{"class":["skin5-poster-play-button","skin5-poster-corner-button"]},this.ma);else{var b={"class":"skin5-poster-title-ribbon"};c.yg()&&(b.style="bottom: 0;");this.eo=c.createElement("div",b,this.ma);this.Ig=c.createElement("div",{"class":"skin5-poster-title-ribbon-table",style:"visibility: hidden;"},this.eo);this.sh=c.createElement("div",{"class":"skin5-poster-title-ribbon-row"},
this.Ig);this.Va=c.createElement("div",{"class":"skin5-poster-play-button-cell"},this.sh);this.ha=c.createElement("div",{"class":"skin5-poster-play-button"},this.Va,'<svg class="player-icon" xmlns="https://www.w3.org/2000/svg" viewBox="36.813 0 22 22"><path d="M47.813,1.126c5.424,0,9.862,4.431,9.862,9.874s-4.438,9.873-9.862,9.873s-9.862-4.43-9.862-9.873 S42.39,1.126,47.813,1.126 M47.813,0c-6.069,0-11,4.918-11,11s4.931,11,11,11s11-4.918,11-11S53.883,0,47.813,0L47.813,0z"/><g class="medium-ring-arc"><clipPath id="medium-ring-clip-path"><path d="M47.813,1.126c5.424,0,9.862,4.431,9.862,9.874s-4.438,9.873-9.862,9.873s-9.862-4.43-9.862-9.873 S42.39,1.126,47.813,1.126 M47.813,0c-6.069,0-11,4.918-11,11s4.931,11,11,11s11-4.918,11-11S53.883,0,47.813,0L47.813,0z"/></clipPath><polygon points="36.813,0 36.813,22 47.813,11" fill="currentColor" clip-path="url(@func-iri-prefix#medium-ring-clip-path)"/></g></svg> ');
this.Nd=c.createElement("div",null,this.sh);this.tl||(this.fd=c.createElement("div",{"class":"skin5-poster-duration-container"},this.ma),c.yg()&&(this.fd.style.bottom="72px"));this.aI('<svg class="player-icon" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 27.6 21.8"><path d="M4.6,0H2.3v2.3H0v2.3h4.6V0z M4.6,17.2H23V4.6H4.6V17.2z M8.1,8h11.4v5.8H8.1V8z M25.3,2.3V0H23v4.6h4.6V2.3 H25.3z M23,21.8h2.3v-2.3h2.3v-2.3H23V21.8z M0,19.5h2.3v2.3h2.3v-4.6H0V19.5z"/></svg>')}this.ae=c.createElement("div",
{"class":["skin5-poster-"+(this.Id?"re":"")+"play-icon","poster-control"]},this.ha,this.Id?'<svg class="player-icon" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 53.1 49.2"><path d="M24.5,49.1C11,49.1,0,38.1,0,24.6C0,11.1,11,0.1,24.5,0.1c11,0,20.8,7.4,23.7,18.1l0.1,0.2l0.1,0.2h4.7L45,26.6 l-8.1-8.1h5.6l-0.3-0.8C39.3,10.5,32.4,6,24.7,6C14.3,6,5.9,14.4,5.9,24.7c0,10.3,8.4,18.7,18.7,18.7c7.2,0,13.8-4.1,16.9-10.6 l4.2,4.1C41.3,44.4,33.2,49.1,24.5,49.1z"/></svg>':'<svg class="player-icon" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 7 10"><path d="M0,9.5C0,9,0,0.9,0,0.6c0-0.4,0.3-0.7,0.7-0.5c0.3,0.2,5.6,4.1,6.1,4.4c0.3,0.2,0.3,0.7,0,1 C6.4,5.7,1.1,9.7,0.7,9.9C0.4,10.2,0,9.9,0,9.5z"/></svg>')},
Ef:function(){this.ee||vdb.o.U.bind(window,"resize",function(){this.nj()}.bind(this));this._super()},nh:function(){function b(a,b){d.innerHTML="";d.setAttribute("class","skin5-poster-title-cell-"+a+"-font");h=c.zc(d);d.setAttribute("style","line-height: "+h/b+"px;");d.innerHTML=k}var a=this.Ig,d=this.Nd,h,k=this.jc;a.setAttribute("style","visibility: hidden;");b("large",1);c.zc(d)>h&&(b("medium",2),c.zc(d)>h&&(b("small",3),c.jd(k,d,h)));d.removeAttribute("style");a.removeAttribute("style")},pk:function(){this.fd&&
(d.toggle(this.fd,this.Pa),this.fd.innerHTML=d.jb(this.Pa))}}}());window.vdb.S.na(".skin5-poster-title-ribbon{padding:0 24px;width:100%;height:100px;background-color:rgba(34,34,34,0.85);position:absolute;bottom:18px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;display:table}.skin5-poster-title-ribbon-table{display:table;height:100%;width:100%}.skin5-poster-title-ribbon-row{display:table-row}.skin5-poster-title-ribbon-row>div{display:table-cell;vertical-align:middle}.skin5-poster-play-button-cell{width:1px}.skin5-poster-title-cell-large-font,.skin5-poster-title-cell-medium-font,.skin5-poster-title-cell-small-font{max-width:450px;font-family:Arial;color:#d0d0d0;padding:15px 0 15px 15px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative}.skin5-poster-title-cell-large-font{font-size:28px}.skin5-poster-title-cell-medium-font{font-size:18px;line-height:22px}.skin5-poster-title-cell-small-font{padding-top:30px;font-size:15px;line-height:18px}.skin5-poster-duration-container{position:absolute;bottom:90px;left:112px;font:11px/11px Arial;color:#8e8f8d}.skin5-poster-corner-button{position:absolute;left:calc(50% - 32px);top:calc(50% - 32px)}.skin5-poster-play-button{width:65px;height:65px;border-radius:73px;background-color:rgba(0,0,0,0.85);padding:4px;position:relative}.skin5-poster-play-button.skin5-poster-resume-ad-button{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.skin5-poster-play-icon{position:absolute;width:13px;height:21px;top:calc(50% - 10px);left:calc(50% - 5px)}.skin5-poster-replay-icon{position:absolute;width:36px;height:35px;top:calc(50% - 17px);left:calc(50% - 17px)}.skin5-poster-play-button .player-icon{fill:#d0d0d0}.skin5-poster-play-button .medium-ring-arc{display:none}.fullscreen-button-replay{width:40px;height:40px;margin-top:10px}.exit-fullscreen-icon-replay{display:block}");vdb.f.a.qW=vdb.I.Class.extend(function(){var c=vdb.k.Y;return{n:function(d,b){this.ob=d||{};this.ob.skipSettings={};this.zs=b.Ca(c.zo);this.Q=b.Ca(c.nc);this.Q.ia(vdb.g.Wa.K4)&&(this.ob.adStrategy=vdb.k.po.pX);var a=this.ob.adStrategy===vdb.k.po.UA&&0<(this.ob.asids||this.ob.aeg||[]).length;this.ob.chromeHackPreinitialisation="chrome"===vdb.b.Ba.name&&a&&!!this.ob.midrollTiming&&this.zs.CG();this.ob.maxAdsCount=this.ob.maxAdsCount||99999999},ck:function(c){var b=!1;c=(c="function"===typeof c.ca?c.ca():
void 0)?c.videoUrls:[];c.length&&c[0]&&-1!==c[0].indexOf("uplynk")&&(b=this.ob.useSsai);return b},Pt:function(){return this.ob.adStrategy},Naa:function(){return this.ob.softTimeout},W$:function(){return this.ob.hardTimeout},iaa:function(){return this.ob.maxAdSearchTime},kaa:function(){return this.ob.maxLinearShowTime},Ut:function(){return this.ob.midrollTiming},oaa:function(){return this.ob.overlayTiming},update:function(c,b){if("string"===typeof c)this.ob[c]=b;else for(var a in c)Object.prototype.hasOwnProperty.call(c,
a)&&(this.ob[a]=c[a])},mV:function(c){this.ob.midrollTiming=c},xha:function(c){this.ob.overlayTiming=c},bh:function(){return this.ob.autoplay},mma:function(){return this.ob},Jfa:function(c){this.ob.isBrandedContent=c},updateSkipSettings:function(c){this.ob.skipSettings=c},Maa:function(){return this.ob.skipSettings},n$:function(){return this.ob.asids},l$:function(){return this.ob.aeg},yaa:function(){return this.ob.podSize},Lfa:function(c){this.ob.clickThroughUrl=c},w$:function(){return this.ob.clickThroughUrl},
q$:function(){return this.ob.isBrandedContent},Daa:function(){return this.ob.publisherPayout},K$:function(){return this.ob.domainOptimisation},jaa:function(){return this.ob.maxAdsCount},Baa:function(){return this.ob.prerollInterleave},v$:function(){return this.ob.chromeHackPreinitialisation},x$:function(){return this.ob.companions}}}());vdb.f.xS={};
vdb.f.xS.j0=vdb.I.Class.extend(function(){function c(){this.hD&&(this.hD.Ga(),this.hD=null);h.call(this)?(this.hD=l.group(l.bind(this.a,g.ub,a.bind(this)),l.bind(this.a,g.Sa,c.bind(this)),l.bind(this.a,g.hb,b.bind(this)),l.bind(this.a,g.xh,d.bind(this))),"notlive"===this.Iz&&f.call(this)):b.call(this)}function d(){this.lE=l.Ea(this.a,g.Ve,b.bind(this))}function b(){this.Iz="notlive";this.a.dispatchEvent(g.TB)}function a(){this.Iz="liveoff";this.nD.Tca();this.a.dispatchEvent(g.NK)}function f(){this.Iz="liveon";
this.nD.ek();this.a.dispatchEvent(g.UB)}function h(){var a=this.l.ca();return!!(a&&a.metadata&&a.metadata.live)}var k=vdb.log.R("LiveManager"),g=vdb.g.D,l=vdb.o.U;return{n:function(a,b){k.debug("init");this.l=a;this.a=a.ta();this.Iz="notlive";this.nD=b.va.Ca(vdb.k.Y.IB);this.nD.Wc();l.group(l.bind(this.a,g.Bb,c.bind(this)),l.bind(this.a,g.ro,c.bind(this)));c.call(this)},tfa:function(){var a,b;h.call(this)&&(a=vdb.f.a.video.ka.Dh.Gba,b=vdb.f.a.pd.Fb(),a=a&&a.liveSyncPosition||b.getDuration()-15,b.seek(a),
b.Xh()||f.call(this))}}}());vdb.f.o={};vdb.f.o.BC=vdb.o.Event.extend({n:function(c,d,b,a){this._super(c);this.time=d;this.Ml=b;this.sH=a},time:0,Ml:0,toString:function(){return"TimeQueueEvent{type="+this.type+", time="+this.time+", percent="+this.Ml+"}"}});var Jb=vdb.f.o.BC;Jb.Rb="midroll";Jb.Kia="decile";Jb.cg="overlay";Jb.xc="preroll";vdb.f.c.K3=vdb.I.Class.extend(function(){function c(c,d){var l=c.Ws||[];0<(c.Dy||[]).length&&(0<l.length&&(l=l.filter(function(a){return a.adType!==vdb.k.nd.Rb})),Array.prototype.push.apply(l,c.Y8()));if(0<vdb.c.V.UF(l)&&d.Pt()===b.AJ){for(var n=[],m=0;m<l.length;m++)if(l[m].adType===f.Rb){var p=l[m].unit,r=l[m].value;p===h.A2?(p=(new Date(1E3*r)).toISOString().match(/\d+:\d+:\d+/)[0],n.push(p)):p===h.m1&&n.push(r+"%")}this.add(a.Rb,n)}else this.add(a.Rb,d.Ut()),this.add(a.cg,d.oaa())}var d=vdb.log.R("TimeQueue"),
b=vdb.k.po,a=vdb.f.o.BC,f=vdb.k.nd,h=vdb.f.k.M3;return{n:function(a){this.U5=a;this.cp=[];this.Zw=this.$k=null},Pba:function(a,b,f){d.debug("initQueue",a,"videoDurationInSeconds",b);this.cp=[];this.$k=b;this.Zw=0;c.call(this,a||{},f)},add:function(a,b,c){if(b&&(c=Boolean(c),d.debug("add",a,b,c),b=Array.isArray(b)?b:b.split(";"),0!==b.length)){for(var f=null,h=0,p=0;p<b.length;p++){var r=b[p].trim();""!==r&&(-1===r.indexOf("%")?f=vdb.b.kv(r):(h=Number(r.substr(0,r.length-1)),f=this.$k*h/100),f=new vdb.f.c.L3(f,
a,h,c,r),d.debug("add",f),this.cp.push(f))}this.cp.sort(function(a,b){return a.time-b.time})}},check:function(b){for(var c={},f=this.Zw;f<this.cp.length;f++){var h=this.cp[f];if(b>=h.time){var m=!0;h.TP&&(c[h.type]?m=!1:c[h.type]=!0);m&&(h=new a(h.type,h.time,h.Ml,h.sH),d.info("Fire",h),this.U5.dispatchEvent(h));this.Zw++}else break}},reset:function(){this.Zw=0;this.cp=[]}}}());vdb.f.Qr=vdb.I.Class.extend(function(){function c(){b.warn("Can't load related videos");this.lt()}function d(a){this.CR.call(this,a.data.videos)}var b=vdb.log.R("RelatedLoader");return{n:function(a,b){this.lt=a;this.i=b},ol:function(a){var b=this.i.Vh();vdb.re.get(this.i.uf.sR(a.videoId,b.pid,b.bcid),null,d.bind(this),c.bind(this))},CR:function(a){a=new vdb.B.vo({id:"",videos:a},this.i);this.lt(a)}}}());vdb.f.oC=vdb.f.Qr.extend({n:function(c,d,b){this.oa=c;this.Gs=b;this._super(d,c.getContext())},CR:function(c){c&&0<c.length?(c={id:"",videos:this.oa.ye().Yt().concat(c)},this.oa.nA(c),this.Gs||this.oa.Wl(c.videos.length)):this.lt()}});vdb.Fg={};vdb.Fg.UL={bw:"impressions",uX:"creativeViews",Tr:"starts",VK:"midpoints",sr:"firstquartiles",Xr:"thirdquartiles",oB:"completes",je:"mutes",dg:"unmutes",Eh:"pauses",k2:"rewinds",AL:"resumes",qZ:"fullscreens",bK:"expands",vJ:"collapses",PV:"acceptInvitations",iX:"closes",N2:"skips",od:"clicks"};vdb.Fg.a2=vdb.I.Class.extend(function(){function c(){this.Uc=[];this.Fp.forEach(function(a,b){"linear"===a.type&&d.call(this,a,b)}.bind(this))}function d(c,d){var k=c.ads,n=f.call(this,d)||c.timeOffset||0;this.KG=null;k.forEach(function(c,f){var k={duration:c.duration,Iy:c.duration,b8:n,$l:this.KG&&this.KG.$l||n||0,position:0<n?l.Rb:l.xc,jQ:[],tG:[]};c.apiFramework&&c.apiFramework.toLowerCase()===vdb.k.hJ.wM&&(k.Iy=a.call(this,d,f).endTime-k.$l);k.Nna=k.$l+k.Iy;var m=k.jQ,r={},v=c.events.clickthroughs;
v&&(r.Ip={url:v[0]});m.push(r);b(c.companions,k.jQ);h(c.events,k.tG);0<f||!(m=this.Fp[d].events[g.bw])||(k.tG=k.tG.concat(m));this.Uc.push(k);this.KG=k}.bind(this))}function b(a,b){if(0!==a.length){var c={C8:[]};a.forEach(function(a){var b=c.C8,d={ofa:[]};d.width=a.width;d.height=a.height;d.ala=a.expandedWidth;d.$ka=a.expandedHeight;d.oka=a.adSlotId;d.ofa.push({Mz:a.mimeType,value:a.creative});b.push(d)});b.push(c)}}function a(a,b){return n.find(this.Vda,function(c){return c.breaksIndex===a&&c.adsIndex===
b})}function f(a){var b=n.find(this.CP,function(b){return b.index===a});return b?b.timeOffset:null}function h(a,b){(a[g.IMPRESSION]||[]).forEach(function(a){b.push({url:a,type:k.IMPRESSION})})}var k=vdb.k.zf,g=vdb.Fg.UL,l=vdb.k.nd,n=vdb.b;return{n:function(a,b){this.IG=a;this.Zda=a.playURL;this.Z=b;this.parse(a.ads||{})},parse:function(a){this.CP=a.breakOffsets||[];this.Vda=a.placeholderOffsets||[];this.Fp=a.breaks||[];c.call(this);this.wq=[];if(0!==this.Fp.length){a=(a=this.Z.ca())&&a.metadata.live;
for(var b,d,f=0;f<this.Fp.length;f++)b=(b=this.CP[f])?this.Fp[b.index]:this.Fp[f],d=b.timeOffset,(0!==d||a)&&"linear"===b.type&&b.duration&&this.wq.push(d)}},yF:function(a){return this.Uc.filter(function(b){return b.b8===a})},xR:function(){return this.Uc.reduce(function(a,b){return a+b.Iy},0)},Fd:function(a){return this.Uc.reduce(function(b,c){return b+(a>=c.$l?c.Iy:0)},0)},QF:function(){var a=[];this.wq.forEach(function(b){var c=Math.floor(b/3600),d=Math.floor(b%3600/60);b=Math.floor(b%60);10>c&&
(c="0"+c);10>d&&(d="0"+d);10>b&&(b="0"+b);a.push(c+":"+d+":"+b)});return a.join(";")},Zaa:function(){return this.IG.prefix},Iaa:function(){return this.IG.sid},Ut:function(){return this.wq}}}());vdb.Fg.o3={Tr:"start",B2:"seek",xja:"pingMidrollUpdate"};vdb.Fg.L1=vdb.I.Class.extend(function(){function c(a,b){var c=this.Z.ca(),f=c&&c.metadata.live;setTimeout(function(){a.v=3;a.pt=a.ev===m.Tr&&f?0:this.Ec.Ja();d.call(this,this.E6+"?"+vdb.b.Pf(a),b)}.bind(this),100)}function d(a,c){clearTimeout(this.Q6);c?(this.Cx.push(a),b.call(this)):this.Q6=setTimeout(function(){this.Cx.push(a);b.call(this)}.bind(this),100)}function b(){this.ND||0===this.Cx.length||(this.ND=vdb.re.get(this.Cx.shift(),null,a.bind(this),f.bind(this)))}function a(a){var c=a.data;a=
c&&c.next_time;if(c=c&&c.ads){for(var d,f,g=c.breaks,h=0;h<g.length;h++)d=g[h].timeOffset,-1===this.HN.indexOf(d)&&(this.HN.push(g[h].timeOffset),f=!0);f&&this.$N&&this.$N({Uc:c})}a&&-1!==a&&(this.Ox=this.ND=null,this.vx=a,b.call(this))}function f(){this.vx=this.ND=null;b.call(this)}function h(){this.Cx=[];c.call(this,{ev:m.Tr})}function k(a){this.Ox||(this.Ox=a.data.currentTime)}function g(){c.call(this,{ev:m.B2,ft:this.Ox},!0)}function l(){this.Af&&(this.Af.Ga(),this.Af=null)}var n=vdb.o.Bh,m=vdb.Fg.o3,
p=vdb.o.U;return{n:function(a,b,c,d){this.HN=[];this.Ec=c;this.E6=a+"/session/ping/"+b+".json";this.va=d;this.Z=d.Ca(vdb.k.Y.wc);this.Af=p.group(p.bind(this.Z,n.Bb,h.bind(this)),p.bind(this.Z,n.hb,l.bind(this)),p.bind(this.Z,n.wi,k.bind(this)),p.bind(this.Z,n.yf,g.bind(this)),p.bind(this.Z,n.vb,this.hj.bind(this)))},hj:function(){this.vx&&this.Ec.Ja()>this.vx&&(this.vx=null,c.call(this,{}))},iH:function(a){this.Ox=a.data.currentTime},Fda:function(a){this.$N=a}}}());vdb.Fg.m3=vdb.I.Class.extend(function(){function c(){return this.lka&&0===this.Js.pathname.indexOf("/channel")?"channel/":""}function d(){var a=this.df.yF(0);0<a.length&&this.Gm.push({bm:a,type:r.xc,eQ:0});this.HD.forEach(function(a){var b=this.df.yF(a);this.Gm.push({bm:b,type:r.Rb,eQ:0,wq:Math.floor(a)})}.bind(this))}function b(){this.HD.forEach(function(a){var b=this.df.yF(a);this.Gm.push({bm:b,type:r.Rb,eQ:0,wq:Math.floor(a)})}.bind(this))}function a(){-1!==this.iO.indexOf("ad.cping=1")&&(this.Fu=
new vdb.Fg.L1(this.df.Zaa(),this.df.Iaa(),this.Ec,this.va),this.Fu.Fda(function(a){this.Ec.Iq(this.df.xR());this.df.parse(a.Uc);this.HD=this.df.Ut();b.call(this)}.bind(this)))}function f(b){this.O6=b.data;this.df=new vdb.Fg.a2(this.O6,this.Z);this.ls.mV(this.QF());a.call(this);this.Ec.kU(!0);this.Ma.Aga=this.df.Zda;this.Ec.Iq(this.df.xR());this.HD=this.df.Ut();d.call(this);this.Hs.resolve(this.Gm)}function h(){this.Hs.reject()}function k(a){a=a.data.urls||[];for(var b,c=0;c<a.length;++c)if(m.sS(a[c])){b=
a[c];break}b?l.call(this):this.Hs.reject()}function g(){if(this.Ma){var a=vdb.b.X$(this.Ma);this.qe=this.Ma.videoUrls[a];this.iO=(this.Js=vdb.c.Ra.jj(this.qe))&&this.Js.yT||"";this.C5=this.Js?m.R$(this.Js.pathname,!1):""}}function l(){g.call(this);vdb.re.get(this.Ji.Xp("hls")+"/preplay/"+c.call(this)+this.C5+".json"+this.iO,null,f.bind(this),h.bind(this))}var n=vdb.log.R("SsaiAdEntriesLoader"),m=vdb.b,p=vdb.k.Y,r=vdb.k.nd;return{n:function(a,b,c){n.debug("init");this.va=a;this.ls=b;this.X=c;this.Gm=
[];this.Q=this.va.Ca(p.nc);this.B6=this.va.Ca(p.bC);this.Ji=this.va.Ca(p.Bm);this.Z=this.va.Ca(p.wc);this.Ec=this.va.Ca(p.ir)},load:function(a){n.debug("loading SSAI");this.Ma=this.Z.ca();this.Hs=new vdb.$b;g.call(this);if(a===r.Rb||a===r.cg)this.Hs.resolve(this.Gm);else{a=this.ls.ck(this.X.ye());var b=m.sS(this.qe),d=this.ls.Pt()===vdb.k.po.AJ,f=!this.Q.ia(vdb.g.Wa.I4);a&&f&&b&&d?(a=this.B6.F$(),a=this.Ji.G$(this.Ma.id,a),a=a.replace("#CHANNEL",c.call(this)),vdb.re.get(a,null,k.bind(this),h.bind(this))):
l.call(this)}return this.Hs.bb()},Fd:function(a){return this.df&&this.df.Fd(a)||0},QF:function(){return this.df&&this.df.QF()},P$:function(a,b){a=a||r.xc;for(var c=[],d=0;d<this.Gm.length;d++){var f=this.Gm[d];f.type!==a||b&&f.wq!==b||c.push(f)}return c&&c[0]},hj:function(){this.Fu&&this.Fu.hj()},iH:function(a){this.Fu&&this.Fu.iH(a)}}}());vdb.Fg.n3=vdb.Ab.extend(function(){function c(){if(this.qc){for(var a=this.qc.bm[0][g.bw]||[],b=0;b<a.length;b++)this.tf.Ff(a[b].url);this.dispatchEvent(new q(q.STARTED,{adType:this.qc.type}))}}function d(){this.qc&&this.dispatchEvent(new q(s.PAUSE_REQUESTED,{adType:this.qc.type}))}function b(){this.qc&&this.dispatchEvent(new q(q.RESUMED,{adType:this.qc.type}))}function a(){this.qc&&this.dispatchEvent(new q(q.PAUSED,{adType:this.qc.type}))}function f(){if(this.qc){var a=this.display.Ja()-this.qc.bm[0].$l,
b=this.getDuration();this.dispatchEvent(new q(q.TIME_UPDATE,{adType:this.qc&&this.qc.type,progressPercent:a/b*100,timeRemaining:b-a}));this.nf.hj();1<=(this.display.Ja()-this.qc.bm[0].$l)/this.getDuration()&&this.oH()}}function h(){this.qc&&this.dispatchEvent(new q(q.WAITING,{adType:this.qc.type}))}function k(){this.qc&&this.dispatchEvent(new q(q.VOLUME_CHANGED,{adType:this.qc.type}))}var g=vdb.Fg.UL,l=vdb.k.nd,n=vdb.o.U,m=vdb.o.Aa,p=vdb.k.Y,r=window.oath.ads.sdk,q=r.AdEvent,s=r.ContentEvent,u=r.AdBreakEvent;
return{n:function(g,l,r){this._super();this.C=g.Ca(p.nc);this.Sj=g.Ca(p.wc);this.tf=g.Ca(p.yja);this.display=g.Ca(p.ir);this.nf=new vdb.Fg.m3(g,l,r);this.Tj=n.group(n.bind(this.display,m.Cm,d.bind(this)),n.bind(this.display,m.ub,a.bind(this)),n.bind(this.display,m.vi,b.bind(this)),n.bind(this.display,m.So,c.bind(this)),n.bind(this.display,m.vb,f.bind(this)),n.bind(this.display,m.Dc,k.bind(this)),n.bind(this.display,m.$e,h.bind(this)))},load:function(a){function b(a){a?this.dispatchEvent(new q(q.FINISHED)):
this.dispatchEvent(new q(q.LOADED))}return this.nf.load(a&&a.type).then(b.bind(this,!1)).catch(b.bind(this,!0))},play:function(a,b){a=a||l.xc;if(this.qc)vdb.o.U.Ea(this,q.FINISHED,this.play.bind(this,a,b));else if(this.qc=this.nf.P$(a,b)){switch(a){case l.xc:this.display.Zfa(this.Sj.ca());break;case l.Rb:this.display.seek(this.qc.bm[0].$l||-1),c.call(this),this.display.Tfa()}this.display.play()}else this.dispatchEvent(new q(u.FINISHED,{adType:a,adPodsPlayed:0,reason:vdb.k.fJ.dL}))},pause:function(){},
resume:function(){},resize:function(){},setVolume:function(a){this.display.setVolume(a)},mute:function(){this.display.mute(!0)},unmute:function(){this.display.mute(!1)},Fd:function(){return this.nf.Fd()},oH:function(){if(this.qc){var a=this.display.Ja()-this.qc.bm[0].$l;this.qc=null;this.display.Na().style.cursor="auto";a=new q(u.FINISHED,{currentTime:a,adType:this.qc.type});this.nf.iH(a);this.dispatchEvent(a)}},dispose:function(){},skip:function(){},isPlaying:function(){return this.display.isPlaying()},
getTimeLog:function(){return null},getDuration:function(){return this.qc&&this.qc.bm[0].duration}}}());vdb.f.a.wW=vdb.Ab.extend(function(){function c(){this.xD=!1;return this.Nea.then(function(a){this.adManager=a;this.GA=new vdb.f.a.O4(this.fb.jaa(),this,this.a);this.adManager.addEventListener(l.AdEvent.STARTED,function(a){this.o7=a.data.ad}.bind(this));this.a.addEventListener(h.um,function(a){this.OC.invokeAdMethod("controlsStateChange",a.data)}.bind(this));return this}.bind(this))}function d(){this.xD=!0;this.adManager=new vdb.Fg.n3(this.Fn,this.fb,this.l);return vdb.Promise.resolve(this)}function b(a,
b){this.Wz&&(this.display.DT(vdb.o.Aa.vi,this.Wz),this.Wz=null);this.adManager.play(a,b)}var a=vdb.log.R("AdManagerController"),f=vdb.k.nd,h=vdb.g.D,k=vdb.o.U,g=vdb.k.Y,l=window.oath.ads.sdk,n=l.AdBreakEvent;return{n:function(b,c,d,f,h){a.debug("init");this.Fn=b;this.fb=d;this.a=f;this.l=f.l;this.i=this.l.getContext();this.Sj=b.Ca(g.wc);this.C=b.Ca(g.nc);this.state="idle";this.sE=this.C.To&&!h;this.display=vdb.f.a.pd.Fb();this.sE&&(this.Ds=200,this.rc=new vdb.o.he,this.fb.update({midrollTiming:null,
podSize:1,prerollInterleave:0}));b=this.C.Qt();this.OC=new l.AdManagerStarter;this.Nea=this.OC.createAdsManager({adStrategy:this.fb.Pt(),playerId:b.pid,playlistId:b.bid,vvuid:b.vvuid,playerType:b.pt,sid:b.sid,jsVersion:b.pv,buyerCompanyId:b.bcid,timeouts:{hard:this.fb.W$(),soft:this.fb.Naa()},aggressiveMode:this.C.To,companionSlots:this.fb.x$(),asids:this.fb.n$(),aeg:this.fb.l$(),podSize:this.fb.yaa(),prerollInterleave:this.fb.Baa(),domainOptimisation:this.fb.K$(),chromeHackPreinitialisation:this.fb.v$(),
publisherPayout:this.fb.Daa(),isBrandedContent:this.fb.q$(),clickThroughUrl:this.fb.w$(),geo:this.C.Rk,macros:this.C.Ui(),autoplay:this.C.bh(),overrideUrls:this.i.Xp(),maxAdSearchTime:this.fb.iaa(),maxLinearShowTime:this.fb.kaa(),slot:c.p7,skipSettings:this.fb.Maa(),video:[this.display.qR(),this.display.laa()],fakeViewability:!this.C.bh()||this.i.Ka.mba(),GDPRData:this.C.Hw,preview:this.C.np,isEU:this.C.eca()})},addEventListener:function(a,b){this.adManager.addEventListener(a,b)},dispatchEvent:function(a,
b){this.adManager.dispatchEvent(a,b)},Fd:function(a){return this.xD?this.adManager.Fd(a):0},haa:function(){return this.adManager.getTimeLog()},getDuration:function(){return this.adManager.getDuration()},getLeftAdCount:function(){return this.adManager.getLeftAdCount()},getVolume:function(){return this.adManager.getVolume()},isMuted:function(){return this.adManager.isMuted()},isPlaying:function(){return this.adManager.isPlaying()},ck:function(){return this.xD},ou:function(b,c){function d(a){var b=vdb.b.wg(a,
["data","atpData"],"");b&&g.C.Gfa(b);a=a&&a.data&&a.data.timings||{};a[f.Rb]&&g.fb.mV(a[f.Rb]);a[f.cg]&&g.fb.xha(a[f.cg]);g.ne&&g.ne.Ga();g.state="adloaded";c()}var g=this;b=b||{};b.currentVideo=this.Sj.ca()||{};b.currentVideo.time=this.Sj.hq();b.currentVideoIndex=this.Sj.dc();b.loadTimeLimit=this.C.BD;b.vvuid=this.C.Qt().vvuid;this.state="adloading";this.C.QC?(a.debug("Ads disabled - abort loading ads"),d()):this.GA&&!this.GA.pS()?(a.debug("Max number of ads for the current video reached - abort loading ads"),
d()):(this.sE&&this.rc.Li(k.Ea(this.adManager,l.AdBreakEvent.FINISHED,function(a){a&&a.data&&0===a.data.adPodsPlayed?(setTimeout(this.ou.bind(this,{type:f.Rb},this.bv.bind(this,f.Rb)),this.Ds),this.Ds=Math.min(this.Ds*=2,800)):(this.Ds=200,this.ou({type:f.Rb},this.bv.bind(this,f.Rb)))}.bind(this))),this.ne&&this.ne.Ga(),this.ne=k.empty(),k.Ea(this.adManager,l.AdEvent.LOADED,d).link(this.ne),k.Ea(this.adManager,l.AdEvent.FINISHED,d).link(this.ne),this.adManager.load(b))},mute:function(a){a?this.adManager.mute():
this.adManager.unmute()},nextAd:function(){this.adManager.nextAd()},Sda:function(){this.adManager.pause()},removeEventListener:function(a,b){this.adManager.removeEventListener(a,b)},rfa:function(){this.adManager.resume()},setVolume:function(a){this.adManager.setVolume(a)},pA:function(a){return!this.fb.ck(a)&&!vdb.c.Ra.fc("ssai")||this.Sj.i.H.a.l.Kj?c.call(this):this.fb.Pt()===vdb.k.po.UA?d.call(this):this.Sj.YQ().then(function(a){return a?d.call(this):c.call(this)}.bind(this))},skip:function(){this.adManager.skip()},
bv:function(a,c){a=a||vdb.k.nd.xc;this.C.QC||this.GA&&!this.GA.pS()?this.dispatchEvent(new n(n.FINISHED,{adType:a,adPodsPlayed:0})):this.display.Xh()&&a!==vdb.k.nd.xc?(this.Wz=b.bind(this,a,c),this.display.Oc(vdb.o.Aa.vi,this.Wz)):(this.a.dispatchEvent(h.VI,{type:a}),b.call(this,a,c))},stop:function(){this.sE&&this.rc.Ga();this.adManager.dispose()},Vp:function(){return this.o7},Vba:function(){return"adloading"===this.state},getPixelsLog:function(){return this.OC.getPixelsLog()},Uba:function(){return"adloaded"===
this.state},updateSkipSettings:function(a){this.adManager.updateSkipSettings(a)}}}());vdb.f.a.rW={Eea:function(c,d,b){var a=d.ye();this.cl=new vdb.f.a.wW(c,d.IF(),d.Xy(),d.ta(),b);return this.cl.pA(a)}};vdb.f.a.rL={};vdb.f.a.gQ={};
(function(c){c.iq=!1;c.rL=vdb.Ab.extend({});c.gQ=function(d,b,a){function f(a){a.SQ&&(a.code===MediaError.MEDIA_ERR_DECODE||a.code===MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED?(ta.gj(a),ic.pj(a),rb.reset(),a=Q.dc(),-1===Kb.indexOf(a)&&(R.debug("onVideoError","mark video as failed","index",a),Kb.push(a)),sb(),ta.Ic(I)):a.code===MediaError.MEDIA_ERR_NETWORK&&b.Bt(la,{title:"Network Error",description:"Sorry, a network error caused the video download to fail. Please refresh and try again.",code:14}))}function h(a){var b;
b=a.currentTime;var c=F&&F.Fd(b)||0;b-=c;ma.hj(a.currentTime);ta.hj(b);Na.T9(b);da(E.vb,{currentTime:a.currentTime,duration:a.duration,durationWithoutAds:a.Qh,percentBuffered:qa(a.duration,a.buffered)});rb.check(ma.Ja())}function k(a){U?U.lU(a):d.addEventListener(E.Hh,function(b){b.data.lU(a)})}function g(a){da(E.Dc,{volume:a.volume,muted:a.muted})}function l(){da(E.ub);ma.KU();ta.pH()}function n(a){ya();ma.ik();I.Tha=za;cb(I);ta.R9();Na.Q9();db();tb(!1);da(E.Bb,{duration:a.duration,stopOnEnd:1===
na&&1<Q.pa.length&&!0})}function m(){db();da(E.Sa);ma.Bga();ta.ik();jc=!1}function p(a){ma.Eda(a,I);ta.rk(a.Qh);Na.rk(a.Qh);I.gS&&I.ve&&(la.style.background='url("'+I.ve+'") no-repeat center/contain '+b.bgColor);da(E.Jc,{duration:a.duration,durationWithoutAds:a.Qh});rb.Pba(I,ma.fG(),Lb)}function r(a){Mb=a;setTimeout(q,0)}function q(){oa=oa||Fa||a.autoplay&&vdb.Oo.rt(Q.ze(0))&&b.ia(Oa.A0)&&ua.Ba.Oe();var c=eb.Ca(vdb.k.Y.nc).To;Mb&&!c?(d.dispatchEvent(E.Ro),Ga(oa||b.Nb.Gv?null:function(){Fa=!0;U.kh();
U.Xu(null);z.detach();b.xU()}),z.aa()):(kc=!0,ma.Au(),F?s():Cc=t().then(s))}function s(){Ha=Lb.bh()&&(ua.Me()||b.Nf());d.dispatchEvent(E.Ro);z.stop();var a=b.ia(Oa.SB);if("1"===a||"activateOnInit"===a||"autoActivateOnContextStart"===a)u(a),"bottom_v2"===b.ia(Oa.Mv)&&b.Xca(vdb.g.mw.Mv,b.H.ig.ownerDocument,{type:"bottom_v2"});Nb?(Nb(),Nb=null):Q.gd()&&0===Aa&&oa?aa(0):(U&&(Ha=!1),oa||Ha||0!==Aa?0!==Aa&&pa.Ea(b,E.$I,Pa):Ob(),oa?fb.getCanAutoplay().then(function(a){a===ub.Lv?(oa=Ha=!1,Ob(),Q.SH(0),xa()):
aa(0)}):(Q.SH(0),xa()))}function u(a){var c={};"1"!==a&&(c[a]=!0);b.AS(vdb.g.mw.SB,document,W,c)}function t(){var a=b.va;return vdb.f.a.rW.Eea(a,W,Mb).then(function(b){F=b;b=a.Ca(vdb.k.Y.nc).BD;lc=new vdb.f.a.v0(W,!!b);var c=window.oath.ads.sdk;b=c.AdEvent;var f=c.AdBreakEvent,c=c.ContentEvent;w();F.setVolume(z.getVolume());F.mute(z.isMuted());F.addEventListener(b.LOADED,Z);F.addEventListener(b.META,N);F.addEventListener(b.STARTED,Y);F.addEventListener(b.PAUSED,ba);F.addEventListener(b.VOLUME_CHANGED,
G);F.addEventListener(b.TIME_UPDATE,T);F.addEventListener(b.WAITING,S);F.addEventListener(b.QUARTILE,mc);F.addEventListener(b.RESUMED,K);F.addEventListener(b.FINISHED,V);F.addEventListener(b.LINEAR_CHANGE,Ua);F.addEventListener(b.SHOW_COMPANIONS,Ba);F.addEventListener(b.SUBTITLES_FOUND,Pb);F.addEventListener(c.PAUSE_REQUESTED,H);F.addEventListener(f.STARTED,M);F.addEventListener(f.FINISHED,vb);Na=new vdb.hA.H3(d,wb())})}function w(){function a(b){if(ea||F.Vba()||Qb)R.info("Queuing time queue event ",
b," reason: blocking ad in place"),Rb.link(pa.Ea(F,window.oath.ads.sdk.AdBreakEvent.FINISHED,a.bind(null,b)));else{var c=vdb.b.pc(b);switch(b.type){case xb.xc:c.type=Ia.xc;Qb=!0;break;case xb.Rb:c.type=Ia.Rb;Qb=!0;break;case xb.cg:c.type=Ia.cg;break;default:return}c.originalTime=b.sH;F.ou(c,F.bv.bind(F,c.type,c.time))}}Rb=pa.empty();W.addEventListener(xb.Rb,a);W.addEventListener(xb.cg,a)}function A(){z.xd();Dc=Ja&&Ja.Cz}function v(){ea||z.Sb.oF(gb()&&y())}function x(){var a=gb();d.dispatchEvent(E.bd,
{interactionType:Wa.yj});Na.N9();a&&y()?(Ec.Sz(a),Ka()&&ca()):!Ja||Xa&&!Dc||Ja.bn&&Ja.bn.pq||I.Hf||nc()}function y(){var a=I.metadata.clickableTimeInSeconds||0,b=hb().currentTime,c=b>=a;R.debug("Clickthrough is",c?"enabled":"disabled","clickableTimeInSeconds:",a,"currentTime:",b);return c}function B(){var a=z.Sb&&z.Sb.ku(I);z.ck()||a||Ya();z.Nfa(I)}function H(a){R.debug("onAdClicked()","adEvent",a);Ka()?ca():a.data.clickThroughUrl||ja();ha.call(this,E.WI,a)}function K(a){R.debug("onAdResumed()","adEvent",
a);ya();ha.call(this,E.xf,a)}function S(a){R.debug("onAdWaiting()","adEvent",a);ha.call(this,E.sj,a)}function T(a){R.debug("onAdTimeUpdate()","adEvent",a);ha.call(this,E.md,a)}function G(a){R.debug("onAdVolumeChanged()","adEvent",a);ha.call(this,E.yh,a)}function ba(a){R.debug("onAdPaused()","adEvent",a);ha.call(this,E.We,a);c.iq&&!Ja.CU||Fc(ja)}function Y(a){yb=!1;R.debug("onAdStarted()","adEvent",a);ya();switch(a.data.adType){case Ia.xc:z.X7();break;case Ia.Rb:z.W7()}ua.Ba.Oe()&&a.data.ad.getAdEngineType()!==
Sb.AK&&a.data.apiType!==vdb.k.hJ.wM&&!0===zb&&z.webkitEnterFullscreen();db();tb(!0);ha.call(this,E.kb,a);ha.call(this,E.xf,a)}function N(a){R.debug("onAdMeta()",a);ha.call(this,E.Ve,a)}function Z(a){yb=!1;R.debug("onAdsLoaded()",a);ha.call(this,E.em,a)}function M(a){ea=!0;z.isPlaying()&&Xa&&(zb=z.Sb.dk(),ua.Ba.Oe()&&!z.zz()||ib.xE());z.zz()&&(R.debug("Hide main video (midroll started):",a),z.pause(),z.aa());z.lba()||z.aa()}function V(a){a.data&&a.data.error?Z(a):(R.debug("onAdFinished","adEvent",
a),a.data&&a.data.ad&&a.data.ad.getAdEngineType()!==Sb.AK&&(zb=z.dk()),W.Kj&&Math.max(na--,0),ha.call(this,E.uc,a,{currentTime:a.data&&a.data.currentTime}))}function D(){var a,b=!1;pa.bind(la,"mouseenter",function(){clearTimeout(a);a=setTimeout(function(){d.dispatchEvent(E.bd,{interactionType:Wa.aw})},1E3)});pa.bind(la,"mouseleave",function(){clearTimeout(a)});pa.bind(d,E.bd,function(a){a=(a.data||{}).interactionType;a!==Wa.aw&&(b||(jb&&(jb.Ga(),jb=null),d.dispatchEvent(E.RJ),b=!0),a===Wa.No&&(z.xd(),
oc=!0,kb=null,Tb=!1,va(),lb.Ef(),d.dispatchEvent(E.qC),Gc()))})}function O(){Hc=new vdb.f.a.GW(W);new vdb.f.a.K_(W,Hc);ib=new vdb.f.a.yZ(W);Ic=(new vdb.f.a.b1(d,b)).Tz;pc=new vdb.f.a.UX(Ab.fc("coveringtype")||a.Ya||Bb(),b);"0"!==b.ia(Oa.ZJ)&&(Ub=new vdb.f.fa.Wr(W));var c=Bb();$c&&(d.addEventListener(E.wm,function(a){Ja=a.data}),d.addEventListener(E.qL,z.Ta.bind(z)),Jc=new vdb.f.a.h3(W,b),Jc.$ca(c));b.H.kd.showVideoTitle!==bd.NEVER&&new vdb.f.a.W4(W);Kc=new vdb.f.a.uW(W)}function fa(){Ka()?ca():ja()}
function ja(){U?a.fb.uP||U.Ju():(F.rfa(),ea||z.play())}function ca(){F&&F.Sda();ea||z.pause()}function aa(a){a=Number(a);kc?(R.debug("play","index",a),b.r8(),ea?(R.debug("play","stop ad"),Qa=a,Vb=!0,F.stop(),ya()):(Ha=!0,isNaN(a)||Q.SH(a),xa())):Nb=function(){aa(a)};qc()}function xa(){Za&&Wb({complete:!1,currentTime:ma.Ja(),Nha:!0});if(rc=Q.gd()||I!==Q.ca()){I=Q.ca();if(vdb.Oo.rt(I)){var a=(I.metadata.videoProjectionType||"").toLowerCase();I.Hf={Ou:ua.H8(vdb.k.video.tL,a)?a:vdb.k.video.tL.HY,jv:Ab.fc("tilt")||
b.ia(Oa.w3)};!Lc&&vdb.c.oc.Vj()!==window.top&&Xa&&(Lc=new vdb.f.a.I0(b))}I&&cb(I);z.hfa();sc=!1;Xb&&za!==ra.Xe?0!==Aa&&mb():ka()}}function ka(){yb=!1;$a()?(R.debug("Load prerolls"),Ya(),Ha&&(0<na||W.Kj||0===a.Sq)?(mb(),F.ou(null,function(){Ha&&Yb()})):(Ha=!1,F.ou(null,function(){mb();if(Ha)Yb();else if(0===Aa||Xb)0<na&&(oa||!U)||W.Kj&&(a.Sq>na||0===a.Sq)?Zb?Zb.then(function(){U.Xu(ab)}):ab():U?U.Xu(ab):Ga(ab)}))):(mb(),vb())}function Ua(a){var b=a&&a.data&&a.data.isLinear;z.zz()?b?z.pause():z.play():
I?B():xa();vb(a);b||(yb=!0)}function vb(a){if(!yb){a=a||{};a.data&&0===a.data.adPodsPlayed&&d.dispatchEvent(E.ZA,a);d.dispatchEvent(E.xh,{type:a.data&&a.data.adType||Ia.xc});var c=ea;Qb=ea=!1;var f=a.data&&a.data.reason,g=f===Mc.dL;if(Q.gd())g?(R.debug("No ads or content - draw error"),bb(),b.Bt(la,void 0)):0<na?(R.debug("Playlist is empty. Run preroll again."),setTimeout(ka,100),bb()):(Ra(),bb({failed:!0}));else{d.dispatchEvent(E.aB,a);Vb&&bb();R.debug("Show main video on event",a);if(-1!==Qa)R.debug("Ad Blocker complete. Play video with index "+
Qa),aa(Qa),Qa=-1;else if(!oa&&!Fa){Ga(function(){qc();Fa=!0;z.xd();Cb.sy();ya();Ya()});return}f=g||f===Mc.UV;!Vb&&(c||f||a.data&&a.data.adType===Ia.xc)?a.data&&a.data.adType===Ia.Rb?z.sfa():Cb.sy():Vb=!1}}}function mb(){Nc||(Nc=!0,I?da(E.$c):d.dispatchEvent(E.$c,{}));I&&rc&&(rc=!1,cb(I),da(E.le),Na.O9())}function Wb(a){rb.reset();F.stop();ta.M9(a.complete);ma.KU();a.complete&&(Na.P9(4),z.reset());da(E.hb,{currentTime:a.currentTime,complete:a.complete,stop:a.complete&&1===na&&1<Q.pa.length&&!0});bb();
a.Nha||(za=ra.Xe,0===--na?0===Q.Yg()?Db(0):Ra():(a.complete&&sb(),ta.Ic(I)))}function sb(){var a,c=Q.dc(),d=-1,f=!1;if(!ea){do if(a=Q.Cfa(),f||(f=0===a),-1!==Kb.indexOf(a))R.debug("selectNextVideo","Ignore failed video","index",a);else{d=a;break}while(a!==c);-1===d?(R.warn("selectNextVideo","all videos failed"),b.Bt(la,{title:"Playback error",description:"We're sorry, but we can't play any videos in the current playlist. Please try another browser.",code:13})):f?Db(d):aa(d)}}function Db(a){R.debug("onPlaylistEnd");
da(E.Eo);0===na?Ra():(I=null,aa(a))}function Ra(){na=a.Sq;Xa&&(ib.xE(),zb=!1);z.aa();(W.Kj&&0!==na||1===Q.pa.length)&&Ga(function(){d.dispatchEvent(E.bd,{interactionType:Wa.Nr});z.xd();ya();za=ra.od;I=null;aa(0)},!0)}function Ob(){Ga(function(){Xb&&ka();Fa=!0;z.xd();ya();za=ra.od;Ya()})}function Pa(){Ga(ab);z.aa()}function mc(a){ha.call(this,E.Vq,a,{adStage:a.data.adStage})}function Ga(b,c){var f=Q.ze(0)||a.iP&&new vdb.B.Fm(a.iP);Zb=pc.eR().then(function(){Zb=null;U?(d.dispatchEvent(E.Hh,U),Oc.Hda()):
U=new window.vdb.Xa.Ya.eb(d,la,f,tc,a.Aea.toLowerCase()===vdb.f.k.nw.aJ&&!Aa,!!c,W);db();c&&Pc.action("replay-poster",null,ma.Ja());b&&U.Xu(b)})}function ab(){var a;za=a=Aa?ra.Xe:tc?ra.Fk:ra.od;Fa=!0;z.xd();uc=!0;ya();Ya();Yb();a===ra.od&&ua.yG()&&Gc()}function $b(a){var b=vdb.b.Ba.Oe()&&I&&I.Hf&&z.zz()||"1"===Ab.fc("forcepseudofullscreen");ib.Rf(b,a)}function Ka(){return F&&ea?F.isPlaying():z.isPlaying()}function Sa(){return F&&F.Vp()}function nb(){ac=!1;va()}function bc(){Ta()}function Eb(){return ea?
F.getVolume():z.getVolume()}function ob(a){var b=Qc(a);R.debug("Set Volume: "+a+" [normalized: "+b+"]");F.setVolume(b);z.setVolume(b)}function wa(a,b){ea&&!this.gu()||U||(pa.Ea(cc,X.B4,b),z.seek(a))}function Fb(){return ea?F.isMuted():z.isMuted()}function va(a){a&&(ea?a():pa.Ea(cc,X.Dc,a));F&&F.mute(!1);z.mute(!1)}function Ta(a){!ea&&a&&pa.Ea(cc,X.Dc,a);z.mute(!0);F&&F.mute(!0);a&&a()}function tb(b){Za||(!kb&&Tb&&(kb=new vdb.f.a.h4(d,a.CA)),Za=!0,d.dispatchEvent(E.Ib,{duration:I&&I.metadata.duration/
1E3||"",isAd:b}))}function $a(){var a=Q.gd()?[]:I.Ws;if(Lb.Pt()===cd.UA||0===a.length)return!0;for(var b=0;b<a.length;b++)if(a[b].adType===Ia.xc)return!0;return!1}function cb(a){ta.Ic(a);Na.Ic(a);ma.Jda()}function wb(){vc||(vc=new vdb.c.F0(b.va,a.fb));return vc}function ha(a,b,c){b=b&&(b.data||b.data)||{};var f=b.ad||b.ad;c||(c={});f&&(c.id=f.getAcid(),c.acid=f.getAcid(),c.asid=f.getAsid(),c.name=f.getName(),c.rid=f.getRuleId(),c.transactionId=f.getTransactionId(),c.type=f.getType(),c.url=f.getUrl(),
c.usid=f.getUsid(),c.vendor=f.getVendor(),c.fullsizeThumbnail=f.getFullsizeThumbnail(),c.videoId=f.getVideoId(),c.videoTitle=f.getVideoTitle(),c.videoDuration=f.getVideoDuration(),c.overlayURL=f.getOverlayURL());c.adType=b.adType;c.type=b.adType;c.adIconsContainer=b.adIconsContainer;c.adId=b.adId;c.creativeId=b.creativeId;c.currentTime=b.currentTime;c.duration=b.duration;c.muted=b.muted;c.parameters=b.parameters;c.progressPercent=b.progressPercent;c.timeRemaining=b.timeRemaining;c.volume=b.volume;
c.error=b.error;d.dispatchEvent(a,c)}function hb(){return vdb.b.pc(ma.Oaa(),{videoId:I?I.id:null,w:d.vd().width,h:d.vd().height,totalAdTime:0,totalAdsCount:0,vpt:za,sequence:I?I.VS:""})}function Pb(a){Ub&&Ub.p8(a.data.subtitles)}function Ba(){d.dispatchEvent(E.XI)}function gb(){return a.fb.clickThroughUrl||I&&I.metadata.clickUrl}function dc(){da(E.to)}function C(){da(E.uo)}function ec(){da(E.$e)}function Ca(a){da(E.Dm,{percentBuffered:qa(a.duration,a.buffered)})}function L(){da(E.yf)}function fc(a){da(E.wi,
a)}function qa(a,b){var c=b.length,d=0;0<a&&0<c&&(c=b.end(c-1),d=c/a*100);return d}function Bb(){return Ab.fc("qaptplayerskintype")||a.sc||"skin5"}function wc(){var a=lb.getVolume();return isNaN(a)?xc:a}function db(){gc&&gc.aa()}function Fc(a){pc.eR().then(function(){U=new window.vdb.Xa.Ya.lb(la);U.Xu(function(){U.remove();U=null;a()})})}function qc(){sc||(sc=!0,d.dispatchEvent(E.Zf));setTimeout(function(){da(E.Qg)},0)}function Gc(){!Rc&&a.c$&&(Rc=!0,$b(!0))}function Ya(){gc&&gc.show()}function bb(a){d.dispatchEvent(E.Lg,
a);Za=!1}function da(a,c){I&&(c=c||{},c.id=I.id,c.name=I.title,c.url=I.Aga||I.videoUrls[0],c.bcid=b.Mj,d.dispatchEvent(a,c))}function ya(){U&&(z.show(),U.remove(),U=null)}function Qc(a){a=parseFloat(a);a=isNaN(a)?1:a;return a=1<a?Math.min(a/100,1):a}var R=vdb.log.R("PlayerController"),Oa=vdb.g.Wa,Wa=vdb.k.Ie,pa=vdb.o.U,xb=vdb.f.o.BC,Ec=vdb.c.V,ua=vdb.b,Ab=vdb.c.Ra;c.yU=b.Dl?"1"===b.ia(Oa.K2):b.Ag?!!b.Ag.playerTemplate.controlsSkin:!0;var Xa=!!ua.ya(),E=vdb.g.D,X=vdb.o.Aa,Sc=vdb.k.a.si,cd=vdb.k.po,
Ia=vdb.k.nd,Sb=vdb.k.tW,ra=vdb.f.k.$r,Tc=vdb.f.k.pM,yc=vdb.k.a.xC,Mc=vdb.k.fJ,ub=vdb.k.iJ,bd=vdb.f.k.xM,W,rb,la=d.F,Uc=d.Yc,kc=!1,Rb,vc,eb,kb,oa=a.autoplay,Aa=a.gt||0,za=oa||Aa?ra.Xe:ra.od,tc=a.bH||!1,Tb=!1,lb=new vdb.f.a.d5(d,a.wA,b),xc=Qc(a.volume),ac=a.wA===yc.Fr;a.volume=xc;a.fb.volume=xc;a.fb.muted=ac;var na=a.Sq,sc=!1,Ha,Q,I,Qa=-1,Nb,ib,Hc,U,Fa,Cb,gc=d.av,pc,Jc,Ub,Ja,Kc,Ic,rc=!1,z=vdb.f.a.pd.Fb(b),Nc=!1,Za=!1,oc=!1,cc,Kb=[],jb=null,ic,Oc,Pc,ta=new vdb.hA.Z4(d,b),Na,F,lc,Zb=null,Rc=!Xa,ea=!1,
yb=!1,Qb=!1,Vb=!1,Xb="true"===b.ia(Oa.mY),Vc,Lb=new vdb.f.a.qW(a.fb,b.va),ma=new vdb.f.a.W1,$c=function(){var a="1"===b.ia(Oa.qK)||"1"===Ab.fc("hideskin"),d=!(ua.Hd&&9===ua.Ba.version);a&&window.vdb.S.Fba();return!a&&d&&c.yU}(),Dc=!1,uc=!1,zb=!1,Mb,Lc,fb,Cc,Yb=vdb.Promise.OI(b.CV,function(){qc();R.debug("Start prerolls");ua.$i()&&!uc&&(uc=!0,U||Fc(z.play.bind(z)));lc.pz()?lc.fda().then(F.bv.bind(F)).catch(function(){R.warn("Skipped lookahead ad")}):F.bv();Xa&&!b.Dl&&setTimeout(db,5E3)}),jc=!1,nc=
fa;W=new (c.rL.extend({n:function(){this._super();this.hT=new vdb.$b},play:aa,Nl:function(a,b){I=null;ya();Ya();za=ra.od;Fa=!0;z.xd();kb&&!oc&&(va(),Tb=!1,kb=null);b&&d.dispatchEvent(E.bd,{interactionType:b===vdb.k.KJ.$J?Wa.aK:Wa.qJ});aa(a)},dfa:function(){I=null;aa(Q.dc())},pause:ca,resume:ja,$j:function(){var a=b.H.kd.initialization;Za?jc&&ja():a===Sc.Wq||a===Sc.Xe?fb.getCanAutoplay().then(function(a){a!==ub.Lv||U?(oa=!0,0!==Aa&&Xb?ka():U?ja():F.Uba()&&Yb()):Pa()}):U||Pa()},Bu:function(){!ib.hd()&&
Ka()&&(ca(),jc=!0,ta.S9())},stop:function(){Rb&&Rb.Ga();F.stop();z.stop()},cS:function(){return ea},setVolume:ob,getVolume:Eb,ug:function(){return z.ug()},hi:function(a){z.Pfa(a)},kh:function(){z.kh()},nA:vdb.Promise.OI(b.CV,function(a,c){a instanceof vdb.B.vo||(a=new vdb.B.vo(a,b));Q=a;this.hT.resolve(a);d.dispatchEvent(E.ro);if(c)if("undefined"===typeof Mb){var f=b.$O;f?f.then(r):r(!1)}else setTimeout(q,0)}),Wl:function(b){na=b;a.Sq=b},VP:function(){B();z.show();z.play();ua.Ba.Oe()&&!0===zb&&z.webkitEnterFullscreen()},
xb:hb,oA:function(a){za=a},Vp:Sa,gaa:function(){return Vc},cH:sb,nda:function(){var a,c;ea||(a=Q.dc(),c=Q.Dfa(),-1!==Kb.indexOf(c)&&R.debug("selectPreviousVideo","Ignore failed video","index",c),-1===c?(R.warn("selectPreviousVideo","all videos failed"),b.Bt(la,{title:"Playback error",description:"We're sorry, but we can't play any videos in the current playlist. Please try another browser.",code:13})):c===a?wa(0):aa(c))},mute:Ta,BI:va,isMuted:Fb,Ee:wa,Hq:function(a){Ec.Ffa(la.ownerDocument,a)},$F:wb,
isPlaying:Ka,Rf:$b,ni:fa,Ul:function(a,b){z.Ul(a,b)},lv:function(){Fb()?null==Eb()?ob(.1):va():Ta()},mda:function(a,b){z.mda(a,b)},au:db,Yda:function(){if(Q.gd())R.debug("Playlist is empty. Run preroll again."),0<na?(setTimeout(ka,100),bb()):(Ra(),bb({failed:!0}));else{if(-1!==Qa)aa(Qa),Qa=-1;else if(!oa&&!Fa){Ga(function(){Fa=!0;z.xd();Cb.sy();ya();Ya()});return}Cb.sy()}},Zp:function(){return z},getContext:function(){return b},un:function(){return new vdb.Promise(function(a){Ja?a(Ja):d.addEventListener(E.wm,
function(b){a(b.data)})})},Kf:function(){if(I)return I.id;var a=Sa();return a?a.getVideoId():""},fR:function(){if(I)return I.title;var a=Sa();return a?a.getVideoTitle():""},ca:function(){return I},dc:function(){return Q?Q.dc():null},qn:function(){return Q?Q.qn():null},Yg:function(){return Q?Q.Yg():null},ze:function(a){return Q?Q.ze(a):null},ye:function(){return Q},xaa:function(){return this.hT.bb()},ta:function(){return d},bc:function(){return la},getDuration:function(){return z.Sb.getDuration()},
IF:function(){return{p7:Uc,Tz:Ic}},lz:function(){return Ub},tg:function(){return F},Xy:function(){return Lb},i$:function(){return Kc},rS:function(){return kc},Xj:function(){return Za},t$:function(){return fb.getCanAutoplay().then(function(b){return Za&&(b!==ub.jB||a.CA!==Tc.V3||oc)})},Tna:a.CA,fu:a.fu,Kj:a.Kj,width:d.vd().width,height:d.vd().height,AA:a.AA,gu:function(){var a=Sa(),a=a&&a.getAdEngineType();return d.$ba()&&(a===Sb.p4||a===Sb.AY)},bh:function(){return oa},yz:function(){return Aa},mla:function(){return fb},
vR:function(){return Bb()},eq:function(){return U},I$:function(){return nc},Rfa:function(a){nc=a},dispose:function(){ib.xE()},az:function(){return z.EG()?0:z.lR()},h$:function(){return Cc}}));rb=new vdb.f.c.K3(W);(function(){R.debug("init");eb=b.va;Cb=new vdb.f.a.BW(W);Vc=new vdb.f.xS.j0(W,b);cc=z.PM;z.uE(Uc);z.Oc(X.Zr,p);z.Oc(X.Sa,m);z.Oc(X.So,n);z.Oc(X.ub,l);z.Oc(X.vi,m);z.Oc(X.Dc,g);z.Oc(X.vb,h);z.Oc(X.wi,fc);z.Oc(X.yf,L);z.Oc(X.Dm,Ca);z.Oc(X.$e,ec);z.Oc(X.rM,C);z.Oc(X.qM,dc);z.Oc(X.hb,Wb);z.Oc(X.Cm,
x);z.Oc(X.EC,A);z.Oc(X.Qo,f);z.Oc(X.VB,v);z.Oc(X.v3,k);O();var a;a=lb.naa();a=Xa||"undefined"===typeof a?ac:a;z.setVolume(wc());z.mute(a);a&&lb.Ef();D();a=eb.Ca(vdb.k.Y.nc);fb=new vdb.f.c.S1(z.qR(),d,a)})();Pc=b.Ed();Oc=eb.Ca(vdb.k.Y.gC);eb.Ca(vdb.k.Y.MB).Lj();ic=eb.Ca(vdb.k.Y.kC);ic.Lj();(function(){fb.getCanAutoplay().then(function(b){b!==ub.jB||za!==ra.Xe&&!tc?b===ub.$q&&(a.wA===yc.Fk?jb=pa.Ea(la,"mouseover",nb):a.wA===yc.WK&&(jb=pa.group(pa.bind(la,"mouseover",nb),pa.bind(la,"mouseout",bc))),
jb?Ta(function(){ac=!0;lb.Ef()}):lb.Ef()):(kb||a.CA===Tc.lY||(Tb=!0),Ta())})})();return W}})(vdb.f.a);window.create=function(c,d,b){var a=vdb.b,f=vdb.k.a.si,h=new vdb.Ac.CB(vdb.A.gK.Ck,document,d);c=new vdb.f.a.P1(c,d,h,b.kd);var k=b.ci,h=b.kd,g=new vdb.A.qr(h);0===b.xa.videos.length&&(d.Dl||g.hG("inreadexpander.js"))&&(k.adOnly=!0,h.videosToPlay=0);d={autoplay:h.initialization===f.Xe,c$:h.fullscreenOnUnmute&&!!a.ya(),bH:h.initialization===f.Fk,volume:h.initialVolume,wA:h.sound,CA:h.unmuteUx,Sq:h.videosToPlay||0,By:h.controlsConfig,fb:b.fb,gt:b.gt,tka:h.autoPauseOutOfView,fu:k.isAol,Kj:k.adOnly,Aea:h.previewPoster||
vdb.f.k.nw.OL,AA:h.timelinepreview,Ya:h.coveringsHtml,sc:h.html5Skin,rga:!!h.shuffleVideos,ci:k};d.fb.uP=h.initialization===f.Ev;d.fb.autoplay=d.autoplay||d.fb.uP;d.fb.volume=d.volume;d.fb.gt=d.gt;d.fb.hna=h.publisherPayout;d.fb.gna=h.publisherAmount;d.Kj&&(0<b.xa.videos.length&&(d.iP=b.xa.videos[0]),b.xa={videos:[]});d.rga&&vdb.c.V.qga(b.xa.videos);c.E8(d,b.xa);return c};
vdb.f.a.P1=vdb.Ab.extend(function(){function c(a,b){var c=a;b.Ka.XO&&(c=g.createElement("div",{"class":"absolute-wrapper",style:"height: 100%;"},a));c=g.createElement("div",{id:"videos-container"},c);vdb.f.c.LB.Mfa(c,b.Ka.Iha);return c}function d(a){return a?a+"px":"0"}function b(){var a=window.vdb.S.createElement("div");a.setAttribute("id","AolHtml5Player");g.ya()?g.u(a,"mobile-mode"):g.u(a,"hover-enabled");g.hu()&&g.u(a,"handset-mode");g.O(a,{position:"relative",overflow:"hidden",backgroundColor:this.j.bgColor,
width:"100%",height:"100%"});this.N.appendChild(a);return a}function a(){var a=this.j.Ed();vdb.o.U.Ea(this,n.Ro,function(){a.display(this.vd())}.bind(this));this.addEventListener(n.kb,function(a){a.data.type!==vdb.k.nd.cg&&g.u(this.F,"ad-mode")}.bind(this));this.addEventListener(n.ym,function(){}.bind(this));this.addEventListener(n.ti,function(){}.bind(this));this.addEventListener(n.aB,function(a){a.data&&a.data.type===vdb.k.nd.cg||g.J(this.F,"ad-mode")}.bind(this));this.addEventListener(n.Bc,function(){g.u(this.F,
"fullscreen-mode")}.bind(this));this.addEventListener(n.Cc,function(){g.J(this.F,"fullscreen-mode")}.bind(this));window.addEventListener("resize",function(){this.j.dispatchEvent(n.yd)}.bind(this))}function f(){var a=this.j.va;a.Ca(l.so).Lj();a.Ca(l.Hv).Lj();a.Cg(l.o2,this.F)}function h(a){if(a.altKey||a.touches&&3===a.touches.length)this.ada?(this.dispatchEvent(n.hL),this.l.pause()):this.j.AS(vdb.g.mw.T_,document,this.l).then(function(){this.ada=!0;this.l.isPlaying()&&this.l.pause()}.bind(this)),
a.stopPropagation()}var k=vdb.log.R("Player"),g=vdb.b,l=vdb.k.Y,n=vdb.g.D;return{n:function(b,c,f,g){k.debug("create",{element:b,context:c,extraManager:f,uiTemplate:g});this._super();this.N=b;this.j=c;this.dp=f;this.Td=g;this.Td.backgroundFill&&(b="position:absolute;left:0;top:0;width:100%;height:100%;z-index:-1;background-color:"+this.j.bgColor,b=window.vdb.S.fh("<div style='"+b+"'></div>"),this.N.appendChild(b));this.Td.backgroundSkin&&(b=this.Td.backgroundSkinLocation,b="position:absolute;"+("background-image:url("+
this.Td.backgroundSkin+");")+(b&&(b.w||b.h)?"left:"+d(b.x)+";top:"+d(b.y)+";width:"+d(b.w)+";height:"+d(b.h):"left:0;top:0;width:100%;height:100%"),b=window.vdb.S.fh("<div style='"+b+"'></div>"),this.N.appendChild(b));a.call(this)},E8:function(a,d){k.debug("configure",a,d);this.By=a.By||{};window.vdb.S.na(".player-icon{vertical-align:top}.hover-enabled .poster-outer-container:hover .poster-control .player-icon{fill:#customColor}.player-spinner{display:inline-block;position:absolute;top:calc(50% - 41px);left:calc(50% - 41px);width:74px;height:74px;padding:4px;color:#customColor;background:rgba(34,34,34,0.5);border-radius:74px;z-index:5;-webkit-animation:rotate 1s linear infinite;-moz-animation:rotate 1s linear infinite;-ms-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite}@-ms-keyframes rotate{from{-ms-transform:rotate(0deg)}to{-ms-transform:rotate(360deg)}}@-moz-keyframes rotate{from{-moz-transform:rotate(0deg)}to{-moz-transform:rotate(360deg)}}@-webkit-keyframes rotate{from{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}@keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}".replace(/#customColor/g,
this.Gd()));this.F=b.call(this);g.ya()?this.F.addEventListener("touchstart",h.bind(this),!0):this.F.addEventListener("click",h.bind(this),!0);f.call(this);this.av=new vdb.f.a.TL(this.F);this.Yc=c.call(this,this.F,this.j);this.l=vdb.f.a.gQ(this,this.j,a);new vdb.f.a.J3(this);vdb.o.addEventListener(this.F,"click",function(){this.dispatchEvent(n.Jr)}.bind(this));this.zq(d)},vd:function(){var a,b;-1<this.N.className.indexOf("chrome-mode-hack")?(a=this.Td.playerWidth,b=this.Td.playerHeight):(a=this.N.offsetWidth,
b=this.N.offsetHeight);return{width:a,height:b}},dispatchEvent:function(a,b){var c={};"string"===typeof a?(c.type=a,c.Jt=a,c.data=b):c=a;this._super(c)},zq:function(a){this.dp.lfa();this.dp.XR(this.l,function(){this.l.nA(a,!0)}.bind(this));var b=new vdb.A.qr(this.Td,a);this.dp.SG(b.vaa().concat(b.waa()))},xb:function(){return this.l.xb()},Na:function(){return this.N},xla:function(){return this.By},Gd:function(){return this.j.H.Gd()},Wba:function(){return this.j.H.C.playerWidget.adOnly||!1},$ba:function(){return this.j.H.C.brandedContent||
!1}}}());vdb.A.d1=vdb.I.Class.extend(function(){function c(a){a.id!==this.AN&&this.M.mute(!0)}function d(){this.UO=void 0}function b(){"undefined"===typeof this.UO&&this.M.mute(!0)}function a(){k.call(this);this.M=null}function f(){q.Gb(this.OD,"pause-button-pp","play-button-pp")}function h(){s.show(this.W);q.Gb(this.OD,"play-button-pp","pause-button-pp")}function k(){this.M.reset();q.Kd(this.W)}function g(){var a=!this.M.muted();p.dispatchEvent("OverlayVideoController",{id:this.AN,muted:a});this.M.mute(a);
this.UO=setTimeout(d.bind(this),200);a?this.Ex.BI():this.Ex.mute()}function l(){q.yb(this.OD,"play-button-pp")?this.M.play():this.M.pause()}var n=vdb.log.R("OverlayVideoController"),m=vdb.g.D,p=new vdb.Ab,r=0,q=vdb.b,s=vdb.c.V,u=q.ya()?"touchstart":"click";return{n:function(d,w,A){n.debug("init");0===r&&window.vdb.S.na(".video-overlay-container.left-top{top:24px;left:24px}.video-overlay-container.right-top{top:68px;right:24px}.video-overlay-container.right-bottom{bottom:68px;right:24px}.video-overlay-container.left-bottom{bottom:68px;left:24px}.video-overlay-container{width:212px;height:120px;position:absolute;background-color:rgba(22,22,22,0.85);border-radius:4px;z-index:1}.video-overlay-container .video-container{width:202px;height:110px;left:4px;top:4px;position:relative}.video-overlay-container .control{position:absolute;cursor:pointer;z-index:4}.video-overlay-container .play-button-pp{left:-15px;bottom:-12px;width:45px;height:45px;background-color:rgba(22,22,22,0.85);border-radius:100%}.video-overlay-container .pause-button-pp{left:-15px;bottom:-12px;width:45px;height:45px;background-color:rgba(22,22,22,0.85);border-radius:100%}.video-overlay-container .swap-button-pp{left:32px;bottom:-8px;width:30px;height:30px;background-color:rgba(22,22,22,0.85);border-radius:100%}.swap-icon-pp{width:14px;height:14px;position:relative;top:8px;left:8px}.video-overlay-container .close-button-pp{width:23px;height:23px;top:-6px;right:-6px;background-color:#d0d0d0;border-radius:100%}.video-overlay-container .close-button-pp:hover{background-color:#fff}.overlay-play-button-rim{width:41px;height:41px;position:relative;top:2px;left:2px}.overlay-play-button-icon{width:8px;height:12px;bottom:24px;left:20px;position:relative}.overlay-pause-button-icon{width:12px;height:14px;bottom:25px;left:16px;position:relative}.play-button-pp .overlay-play-button-icon{display:block}.pause-button-pp .overlay-play-button-icon{display:none}.play-button-pp .overlay-pause-button-icon{display:none}.pause-button-pp .overlay-pause-button-icon{display:block}.close-icon-pp{width:9px;height:9px;top:7px;left:7px;position:relative}.close-icon-pp .player-icon{fill:#222}.play-button-pp:hover .player-icon,.swap-button-pp:hover .player-icon{fill:#fff}");
this.Ex=w;this.AN=r++;this.W=q.createElement("div",{"class":"video-overlay-container "+(A||"right-bottom")},this.Ex.bc());w=this.Ex.ta();w.addEventListener(m.yh,b.bind(this));w.addEventListener(m.Dc,b.bind(this));p.addEventListener("OverlayVideoController",c.bind(this));s.aa(this.W);w=new vdb.f.a.video.Ew;A=w.Na();var v=q.createElement("div",{"class":["video-container"]},this.W);q.O(A,{height:"100%",width:"100%"});v.appendChild(q.createElement("div",{"class":["video-area"]},this.W));v.appendChild(A);
w.Ic(d);w.mute(!0);w.xd();w.play();w.addEventListener(vdb.o.Aa.Sa,h.bind(this));w.addEventListener(vdb.o.Aa.vi,h.bind(this));w.addEventListener(vdb.o.Aa.ub,f.bind(this));w.addEventListener(vdb.o.Aa.hb,a.bind(this));this.M=w;d=q.createElement("div",{"class":["play-button-pp","control"]},this.W);q.createElement("div",{"class":"overlay-play-button-rim"},d,'<svg class="player-icon" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 41 41"><path d="M20.5,2.065c10.139,0,18.434,8.295,18.434,18.435c0,10.139-8.295,18.434-18.434,18.434 c-10.139,0-18.434-8.295-18.434-18.434C2.065,10.362,10.361,2.065,20.5,2.065 M20.5,0C9.171,0,0,9.171,0,20.5S9.171,41,20.5,41 S41,31.829,41,20.5S31.829,0,20.5,0L20.5,0z"/></svg> ');
q.createElement("div",{"class":"overlay-play-button-icon"},d,'<svg class="player-icon" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 7 10"><path d="M0,9.5C0,9,0,0.9,0,0.6c0-0.4,0.3-0.7,0.7-0.5c0.3,0.2,5.6,4.1,6.1,4.4c0.3,0.2,0.3,0.7,0,1 C6.4,5.7,1.1,9.7,0.7,9.9C0.4,10.2,0,9.9,0,9.5z"/></svg>');q.createElement("div",{"class":"overlay-pause-button-icon"},d,'<svg class="player-icon" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 9 10"><rect width="3" height="10"/><rect x="6" width="3" height="10"/></svg> ');
d.addEventListener(u,l.bind(this));this.OD=d;d=q.createElement("div",{"class":["swap-button-pp","control"]},this.W);q.createElement("div",{"class":"swap-icon-pp"},d,'<svg class="player-icon" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 14 14"><polygon points="6.536,5.122 3.707,2.293 6,0 0,0 0,6 2.292,3.708 5.121,6.536 "/><polygon points="7.464,8.878 10.293,11.708 8,14 14,14 14,8 11.708,10.292 8.879,7.464 "/> "/></svg> ');d.addEventListener(u,g.bind(this));d=q.createElement("div",{"class":["close-button-pp",
"control"]},this.W);q.createElement("div",{"class":"close-icon-pp"},d,'<svg class="player-icon" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 9 9"><path class="st0" d="M7.3,0L9,1.7L1.7,9L0,7.3L7.3,0z"/><path class="st0" d="M1.7,0L9,7.3L7.3,9L0,1.7L1.7,0z"/></svg> ');d.addEventListener(u,k.bind(this))},aa:function(){this.M&&(this.M.pause(),s.aa(this.W))},show:function(){this.M&&(this.M.play(),s.show(this.W))}}}());vdb.da={};vdb.da.Ye={I2:"share",Ho:"reactions",qm:"like",zr:"google",rr:"facebook",Yr:"twitter",Cr:"linkedin",hs:"weibo",km:"embed",kr:"email",ew:"link"};vdb.da.QK=vdb.Ab.extend(function(){function c(){this.Zo=this.X.Kf();var c;c=this.Zo;c=-1<b().indexOf(c);a.fe(this.Px,"liked-state",c);this.wp&&(this.wp.textContent=c?"unlike":"like")}function d(a){var c=b(),d=c.indexOf(this.Zo);a&&-1===d?c.push(this.Zo):!a&&-1<d&&c.splice(d,1);vdb.localStorage.setItem("lv",c.join(","))}function b(){var a=vdb.localStorage.getItem("lv");return a?a.split(","):[]}var a=vdb.b,f=vdb.g.D;return{n:function(a,b){this.X=b;this.L=b.ta();this.Ub=b.getContext().Ed();this.L.addEventListener(f.Bb,
c.bind(this));this.L.addEventListener(f.kb,c.bind(this));this._super(a,b)},hU:function(a){this.Px=a},ega:function(a){this.wp=a},vha:c,da:function(){if(a.yb(this.Px,"liked-state")){d.call(this,!1);a.J(this.Px,"liked-state");this.wp&&(this.wp.textContent="like");var b=this.L.xb().currentTime||0;this.Ub.action("unlike",null,b)}else d.call(this,!0),a.u(this.Px,"liked-state"),this.wp&&(this.wp.textContent="unlike"),b=this.L.xb().currentTime||0,this.Ub.action("like",null,b)},getType:function(){return vdb.da.Ye.qm}}}());vdb.da.Or={mja:"love",jja:"laugh",xia:"amazed",Mja:"sad",zia:"angry"};vdb.da.s2=vdb.Ab.extend(function(){function c(b){b=b.currentTarget;var c=b.getAttribute("data-reaction-text");this.rx&&l.call(this,"retract-"+this.rx);l.call(this,c);var f=n(),g=this.Ec.Pc()?this.Mm.OT+""+this.Mm.adId:this.Zo,h=g+"*"+c,g=f.indexOf(g+"*"+this.rx);-1===g?f.push(h):f[g]=h;vdb.localStorage.setItem("ra",f.join(","));this.rx=c;a.call(this,b);d.call(this)}function d(){setTimeout(function(){p.u(this.Xk,"collapse");vdb.o.U.Ea(this.Xk,"mouseout",b.bind(this))}.bind(this),1)}function b(){p.J(this.Xk,
"collapse")}function a(a){var b=this.Xk.firstChild,c=a.parentNode,d=a.nextSibling;d===b?c.insertBefore(b,a):(b.parentNode.insertBefore(a,b),d?c.insertBefore(b,d):c.appendChild(b))}function f(a){a=a.data;this.Mm.qha=a.transactionId;this.Mm.adId=a.adId;this.Mm.OT=a.rid;k.call(this,this.Mm.adId)}function h(a){this.Zo=a.data.id;k.call(this,this.Zo)}function k(b){if(this.rx=b=m(b))b=this.Xk.querySelector('[data-reaction-text="'+b+'"]'),p.J(this.Xk,"allow-transition"),a.call(this,b),g.call(this)}function g(){setTimeout(function(){p.u(this.Xk,
"allow-transition")}.bind(this),1)}function l(a){var b=this.Ec.Pc(),c=b?this.Ec.Ja():null,d=this.Ec.EG()?0:this.Ec.lR();this.Ub.action(a,c,d,b?this.Mm:null)}function n(){var a=vdb.localStorage.getItem("ra");return a?a.split(","):[]}function m(a){var b=vdb.b.find(n(),function(b){return-1<b.indexOf(a)});return b&&b.split("*")[1]||!1}var p=vdb.b,r=vdb.g.D,q=vdb.da.Or;return{n:function(a,b){this.L=b.ta();this.Ec=vdb.f.a.pd.Fb();this.Ub=vdb.Nb.Ed();this.Mm={};this.L.addEventListener(r.kb,f.bind(this));
this.L.addEventListener(r.Bb,h.bind(this));this._super(a,b)},U8:function(a,b){this.K5=a;this.Xk=p.createElement("div",{"class":"reactions-container allow-transition"},b);for(var d in q)if(Object.prototype.hasOwnProperty.call(q,d)){var f=q[d],g=p.createElement("div",{"class":"reaction-container","data-reaction-text":f},this.Xk);p.createElement("div",{"class":"reaction "+f+"-reaction"},g);p.createElement("div",{"class":"reaction-tooltip"},g,f);g.addEventListener(this.K5,c.bind(this))}},getType:function(){return vdb.da.Ye.Ho}}}());

document['bundledExtras'] = document['bundledExtras'] || {};
document['bundledExtras']['share'] = function () {
    vdb.da.e3=vdb.I.Class.extend({n:function(c){this.X=c;this.j=c.getContext();this.$x=vdb.c.Go.create(["[VIDEO_ID]",function(){return encodeURIComponent(this.j.H.G.Kf())}.bind(this)],["[AOL_VIDEO_ID]",function(){var c=this.j.H.G.ca();return encodeURIComponent(c?c.Cp||c.id:this.j.H.G.Kf())}.bind(this)])},resolve:function(c){switch(c){case "demo":return this.j.PF();case "client":return this.j.Vt();default:return this.$x.join(this.X.$F()).resolve(c)}}});vdb.da.Lk=vdb.I.Class.extend({n:function(c,d,b){this.qf=c;this.X=d;this.GU=b;this.L=d.ta();this.$x=new vdb.da.e3(d);this.Ub=d.getContext().Ed();this.share=this.da;this.getType=this.getType;this.getUrl=this.getUrl},Wi:function(){throw Error("Social Network sharer url is not specified");},rma:function(){return"_blank"},da:function(c){this.track();c?window.open(this.Wi(),"_blank","width="+c.width+",height="+c.height):"true"===this.GU?window.open(this.Wi(),"_blank","width=800,height=600"):window.open(this.Wi(),
"_blank");this.X.pause()},track:function(){var c=this.L.xb().currentTime||0;this.Ub.action(this.getType(),null,c)},getUrl:function(){return this.$x.resolve(this.qf.url)},getType:function(){return""}});vdb.da.h0=vdb.da.Lk.extend({n:function(c,d,b){this._super(c,d,b)},Uaa:function(){return this.qf.title||"Check out this great video I am watching over at "},Raa:function(){return this.qf.summary||this.L.l.ca().title||"Great video"},Wi:function(){return"https://www.linkedin.com/shareArticle?url={1}&title={2}&summary={3}".replace("{1}",encodeURIComponent(this.getUrl())).replace("{2}",encodeURIComponent(this.Uaa()+" ")).replace("{3}",encodeURIComponent(this.Raa()+" "))},getType:function(){return vdb.da.Ye.Cr}});vdb.da.U3=vdb.da.Lk.extend({n:function(c,d,b){this._super(c,d,b)},pn:function(){return this.qf.message||"Check out this great video I am watching over at"},Wi:function(){return"https://delivery.vidible.tv/social/redirect?socialUrl={0}&shareUrl={1}".replace("{0}",encodeURIComponent("https://twitter.com/intent/tweet?source=webclient&text="+encodeURIComponent(this.pn()+" "))).replace("{1}",encodeURIComponent(this.getUrl()))},getType:function(){return vdb.da.Ye.Yr}});vdb.da.l5=vdb.da.Lk.extend({n:function(c,d,b){this._super(c,d,b)},pn:function(){return this.qf.message||"Check out this great video I am watching over at"},Wi:function(){return"https://service.weibo.com/share/share.php?url={1}&appkey=&title={2}&pic=&ralateUid=&language=zh_cn".replace("{1}",encodeURIComponent(this.getUrl())).replace("{2}",encodeURIComponent(this.pn()+" "))},getType:function(){return vdb.da.Ye.hs}});vdb.da.rZ=vdb.da.Lk.extend({n:function(c,d,b){this._super(c,d,b)},Wi:function(){return"https://www.facebook.com/sharer/sharer.php?u={}&display=popup".replace("{}",encodeURIComponent(this.getUrl()))},getType:function(){return vdb.da.Ye.rr}});vdb.da.RY=vdb.da.Lk.extend(function(){function c(a){f.warn("Load error!",a)}function d(){this.It&&this.It.Ga();this.It=null;h.J(this.MO,"hide-upper-icons-wrapper");h.J(this.bN,"show-embed-wrapper")}function b(){this.It||(this.It=new vdb.o.he);this.It.Li(vdb.o.U.Ea(this.L,k.Ve,d.bind(this)))}function a(a){f.debug("Load succeeded",a);this.aN.value=a.text.replace(/\\/g,"");h.J(this.$M,"embed-disabled-copy-btn")}var f=vdb.log.R("Embed"),h=vdb.b,k=vdb.g.D,g;return{n:function(a,b,c){this._super(a,b,c)},
hi:function(a,b,c,d){this.MO=a;this.bN=b;this.aN=c;this.$M=d},wE:function(){this.L.addEventListener(k.xh,b.bind(this));this.L.addEventListener(k.uc,d.bind(this));this.L.addEventListener(k.Lg,d.bind(this))},da:function(){this.track();var b=this.X.Kf();if(b!==g){var b=g=b,d=this.X.getContext(),b=d.Xp("ds")+"/embed/"+b+"/"+d.be+"/"+d.Mj+".js";this.aN.value="Loading...";h.u(this.$M,"embed-disabled-copy-btn");vdb.re.get(b,null,a.bind(this),c.bind(this))}h.u(this.MO,"hide-upper-icons-wrapper");h.u(this.bN,
"show-embed-wrapper")},getType:function(){return vdb.da.Ye.km}}}());vdb.da.OY=vdb.da.Lk.extend({n:function(c,d,b){this.X=d;this._super(c,d,b)},pn:function(){return this.X.fR()||this.qf.message||"Interesting video!"},cG:function(c){return c?c.split(" ").slice(0,5).join(" "):this.qf.message||"Interesting video!"},Wi:function(){return"mailto:?subject={0}&body={1}".replace("{0}",encodeURIComponent(this.cG())).replace("{1}",encodeURIComponent(this.pn()+"\r\n\r\n"+this.getUrl()))},O$:function(c,d,b){var a=d||this.pn(d);return b?"mailto:?subject={0}&body={1}".replace(":?",
":"+encodeURIComponent(c)+"?").replace("{0}",encodeURIComponent(this.cG(d))).replace("{1}",encodeURIComponent(a+"\r\n\r\n"+this.getUrl(b))):"mailto:?subject={0}&body={1}".replace(":?",":"+encodeURIComponent(c)+"?").replace("{0}",encodeURIComponent(this.cG())).replace("{1}",encodeURIComponent(a+"\r\n\r\n"+this.getUrl(b)))},Uu:function(c,d,b){c=this.O$(c,d,b);this.track();this.X.pause();window.open(c,vdb.b.Me()?"_blank":"_top","true"===this.GU?"width=800,height=600":"")},getType:function(){return vdb.da.Ye.kr},
getUrl:function(c){var d=this.qf.url?this.$x.resolve(this.qf.url):vdb.c.oc.Zd();-1===d.indexOf("?")&&c?d+="?t="+vdb.b.kv(c):c&&(d+="&t="+vdb.b.kv(c));return d}});vdb.da.YZ=vdb.da.Lk.extend({n:function(c,d,b){this._super(c,d,b)},Wi:function(){return"https://plus.google.com/share?url={0}".replace("{0}",encodeURIComponent(this.getUrl()))},getType:function(){return vdb.da.Ye.zr}});vdb.da.e0=vdb.da.Lk.extend({n:function(c,d,b){this._super(c,d,b)},pn:function(){return""},Wi:function(){return""},getType:function(){return vdb.da.Ye.ew},faa:function(c,d,b){return vdb.c.Ze.gd(this.qf.url)||"client"===this.qf.url?b?this.X.getContext().cz()+"/"+c+"/?t="+vdb.b.kv(b):this.X.getContext().cz()+"/"+c:this.qf.url}});vdb.da.d3=vdb.I.Class.extend(function(){function c(a,c){var d=c.toLowerCase();return d!==b.qm||!this.WQ&&"5 Image Reactions"!==a[c].Type?d:b.Ho}var d=vdb.log.R("share.SharingManager"),b=vdb.da.Ye,a=function(){var a={};a[b.Ho]=vdb.da.s2;a[b.qm]=vdb.da.QK;a[b.rr]=vdb.da.rZ;a[b.Yr]=vdb.da.U3;a[b.Cr]=vdb.da.h0;a[b.zr]=vdb.da.YZ;a[b.hs]=vdb.da.l5;a[b.kr]=vdb.da.OY;a[b.km]=vdb.da.RY;a[b.ew]=vdb.da.e0;return a}(),f=[b.Ho,b.qm,b.rr,b.Yr,b.Cr,b.zr,b.hs,b.kr,b.km,b.ew];return{n:function(b,k,g){(this.WQ=vdb.c.Ra.fc("forcereactions")||
k.getContext().ia(vdb.g.Wa.pZ)||!1)&&(b.Like={enabled:"true",Type:"5 Image Reactions",Location:"Over Content and Ad"});d.debug("Supported social networks: ",a);var l=[],n;for(n in b)if(Object.prototype.hasOwnProperty.call(b,n)){var m=b[n],p=b.openInSmallWindow,r=c.call(this,b,n);if("true"===m.enabled){var q=m.url;q&&"sharingUrl"!==q||(m.url=b.sharingUrl||"client");(q=a[r])?(l[f.indexOf(r)]=new q(m,k,p),d.debug("Found social network:",r)):d.warn("Ignore non-supported social network: "+n);m.type=r;
m.name=n}else d.debug("Skip disabled social network:",r)}l=l.filter(function(a){return a});d.info("set social networks",l);g.setSocialNetworks(l,"true"===b.showOnAd,b.Like&&b.Like.Location,b.sharePosition)}}}());vdb.A.b3=vdb.A.ac.extend({wa:function(c,d){this._super(c);d.un().then(function(b){vdb.zna=new vdb.da.d3(c.config||{},d,b)})}});vdb.registerExtra(vdb.A.b3);

};

document['bundledExtras'] = document['bundledExtras'] || {};
document['bundledExtras']['comscorestreamsense'] = function () {
    vdb.A.HX=vdb.A.ac.extend(function(){function c(a){this.G=a;window.ns_?d.call(this):window.vdb.S.Jd(this.i.we("player/js/17.21.1449/lib/ComScore.StreamSense.js")).then(d.bind(this))}function d(){m.debug("Load complete");this.uy=this.a.ci.isAol?(this.a.C.bcInfo||{}).oo?"1000009":"6473742":p.clientId;this.bi=this.i.H.G;this.uy&&(this.bi.addEventListener(vdb.g.D.kb,f.bind(this)),this.bi.addEventListener(vdb.g.D.Zf,l.bind(this)),this.bi.addEventListener(vdb.g.D.le,n.bind(this)),this.bi.addEventListener(vdb.g.D.uc,
a.bind(this)),this.bi.addEventListener(vdb.g.D.Sa,b.bind(this)),this.bi.addEventListener(vdb.g.D.ub,a.bind(this)),this.bi.addEventListener(vdb.g.D.hb,a.bind(this)));this.Te()}function b(){var a=k.call(this,{ns_st_cl:this.Fe.metadata.duration,ns_st_st:this.Fe.Ana||"*null",ns_st_pu:this.Fe.aT||"Unknown_AOL_Partner",ns_st_pr:this.Fe.cv||"",ns_st_ep:this.Fe.title||"Unknown_Video",ns_st_sn:this.Fe.qna||"*null",ns_st_en:this.Fe.Xka||"*null",ns_st_ge:"*null",ns_st_ti:"*null",ns_st_ia:0,ns_st_ce:1,ns_st_ddt:"*null",
ns_st_tdt:"*null"});this.tI.playVideoContentPart(a,window.ns_.StreamingTag.ContentType[this.Fe.metadata.live?"Live":this.nS?"LongFormOnDemand":"ShortFormOnDemand"]);m.debug("playVideoContentPart",a)}function a(){this.Fe&&this.tI.stop()}function f(a){if(this.Fe){var b=a.data.adType;if(vdb.b.contains(q,b)){a=k.call(this,{ns_st_cl:1E3*(isNaN(a.data.duration)?0:a.data.duration)});switch(b){case q.xc:b="LinearOnDemandPreRoll";break;case q.Rb:b="LinearOnDemandMidRoll";break;case q.A1:b="LinearOnDemandPostRoll";
break;default:b="Other"}this.tI.playVideoAdvertisement(a,window.ns_.StreamingTag.AdType[b]);m.debug("playVideoAdvertisement",a)}}}function h(a,b){var c;b&&(c=b[a]);return c||p[a]}function k(a){var b,c;c=this.a.ci.isAol;a.ns_st_ci=(this.Fe.Cp||this.Fe.id)+"";if(c)a.c3=p.c3||this.ny,a.c4=this.f8,a.c6=this.oy;else{c="c1 c3 c4 c6 c7 c8 c9 ns_st_ty bb_pub_d".split(" ");a.c3="*null";a.c4="*null";a.c6="*null";for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b=c[d],p[b]&&(a[b]=p[b]))}d=this.Fe.X8||
{};c=this.i.ia(s.EJ)||null;b=p.csca2||p.stackedClientId;b=!b||c&&"true"!==p.csca2p?c:b;c=this.i.ia(s.wX)||null;var f=d.accountId||d.ca2,k=!!d.p||!!d.priority;if(b=(void 0!==f&&null!==f&&k?f:b||f)||null){a.ca2=b;a.ca_ns_st_ty=p.ca_ns_st_ty;a.ca_bb_pub_d=p.ca_bb_pub_d;f=["ca1","ca7","ca8","ca9"];for(k=0;k<f.length;k++)p[f[k]]&&(a[f[k]]=p[f[k]]);a.ca3=g(h("ca3",d))||this.ny;a.ca4=b===this.i.ia(s.EJ)&&c?c:g(h("ca4",d))||r;a.ca6=g(h("ca6",d))||this.oy}return a}function g(a){a&&(a=a.split("+").join(" "));
return a}function l(){this.tI=new window.ns_.StreamingTag({customerC2:this.uy});var a=(this.a.C.bcInfo||{}).oo;this.Pa=0;this.nS=!1;this.ny="Unknown_Category_ID";this.f8=this.i.ia(s.sJ)||vdb.b.u$();this.oy=a?"Unknown_Category":"*null";n.call(this)}function n(){if(this.Fe=this.bi.ca()){var a=this.Fe.metadata.duration;this.Pa=isNaN(a)?0:a/1E3;this.nS=10<this.Pa/60;this.ny=(this.Fe.m8||"").split(",")[0]||this.ny;this.oy=this.Fe.GE||this.oy}}var m=vdb.log.R("ComScoreStreamSense"),p,r=vdb.c.Ra.rl(vdb.c.oc.Zd()),
q={xc:"Preroll",Rb:"Midroll",A1:"Postroll"},s=vdb.g.Wa,u=vdb.g.Xf;return{wa:function(a){this.i=window.vdb.Nb;this.a=this.i.getPlayer();this.a.ci.adOnly?this.Te():(m.debug("Init extra"),p=a.config||{},this.i.H.G?c.call(this,this.i.H.G):this.i.addEventListener(u.$f,c.bind(this)))}}}());vdb.registerExtra(vdb.A.HX);

};

document['bundledExtras'] = document['bundledExtras'] || {};
document['bundledExtras']['akamai_sola'] = function () {
    vdb.A.DW=vdb.A.ac.extend(function(){function c(a){f.call(this);this.QO.setAttribute("data-isad","false");a=a.data;var b=!!this.jO.ca().metadata.live,c=a.title;a={title:c,category:a.Aka||"",show:a.Ega||"",contentLength:b?"":a.duration,device:this.Q5,deliveryType:b?"L":"O",playerId:"Aol Html5 Player O2",imid:this.g6,vvuid:this.m7,context:this.SM,AAcontext:this.SM,eventName:c};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&window.setAkamaiMediaAnalyticsData(d,a[d])}function d(a){var b=a.data.currentTime;
if(0<b&&(b=this.Ij.XF(b),this.XM<b&&4>=b)){this.XM++;switch(b){case 1:window.akamaiHandleAdFirstQuartile();break;case 2:window.akamaiHandleAdMidPoint();break;case 3:window.akamaiHandleAdThirdQuartile();break;case 4:window.akamaiHandleAdCompleted()}d.call(this,a)}}function b(a){"Preroll"===a.data.adType&&(window.akamaiHandleAdLoaded({adTitle:a.data.title,adDuration:a.data.duration}),this.Ij.rk(a.data.duration),window.akamaiHandleAdStarted())}function a(a){"Preroll"===a.data.type&&(this.XM=0,this.QO.setAttribute("data-isad",
"true"))}function f(){this.QO=vdb.f.a.pd.Fb().Na()}function h(){this.Te()}function k(a){this.jO=a}var g=vdb.log.R("AkamaiSola"),l=vdb.g.D,n=vdb.g.Xf;return{wa:function(m,p){g.debug("Init extra");this.L=p.ta();this.j=p.getContext();this.Cj=this.j.H;var r=!!(new vdb.B.vo(this.Cj.xa)).ca().metadata.live;if(r){this.Cj.G?this.jO=this.Cj.G:this.j.addEventListener(n.$f,k.bind(this));var q=this.j.sl(),s=this.Cj.iy;this.g6=q.imid;this.m7=q.vvuid;this.Q5=vdb.b.ya()?vdb.b.Ba.platform.name:"pc";this.SM=s.sid&&
s.skey?s.sid+"-"+s.skey:"";this.L.addEventListener(l.Ve,a.bind(this));this.L.addEventListener(l.$c,f.bind(this));this.L.addEventListener(l.kb,b.bind(this));this.L.addEventListener(l.md,d.bind(this));this.L.addEventListener(l.Jc,c.bind(this));this.Ij=new vdb.c.JC;window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=r?"https://ma180-r.analytics.edgekey.net/config/beacon-7771.xml":"https://ma180-r.analytics.edgekey.net/config/beacon-7767.xml";window.vdb.S.Jd(this.j.we("player/js/17.21.1449/lib/akamaihtml5-min.js")).then(h.bind(this))}else this.Te()}}}());
vdb.registerExtra(vdb.A.DW);

};
